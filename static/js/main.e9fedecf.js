!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/eleusis/",e(e.s=12)}([function(t,e,n){"use strict";t.exports=n(19)},function(t,e,n){"use strict";var r=n(6);n.d(e,"a",function(){return r.a});r.a.registerVersion("firebase","8.2.0","app")},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){function i(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?n(t.value):i(t.value).then(a,u)}s((r=r.apply(t,e||[])).next())})}function o(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function a(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}e.c=r,n.d(e,"a",function(){return f}),e.b=i,e.d=o,e.h=a,e.e=u,e.f=s,e.g=c;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},f=function(){return f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},f.apply(this,arguments)}},function(t,e,n){"use strict";(function(t){function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&o(r)&&(t[r]=i(t[r],e[r]));return t}function o(t){return"__proto__"!==t}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function s(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function c(){return"object"===typeof self&&self.self===self}function l(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function f(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){return a().indexOf("Electron/")>=0}function d(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p(){return a().indexOf("MSAppHost/")>=0}function y(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){var n=new A(t,e);return n.subscribe.bind(n)}function g(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function b(){}n.d(e,"a",function(){return O}),n.d(e,"b",function(){return k}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return s}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return p});var _=n(2),w=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},E=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&u)-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},O=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),I="FirebaseError",S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=I,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return Object(_.c)(e,t),e}(Error),k=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").";return new S(i,u,r)},t}(),T=/\{\$([^}]+)}/g,A=(function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);var i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}(),function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=g(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!==typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}())}).call(e,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(s[l]=n[l]);if(i){u=i(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(t,e,n){"use strict";function r(t){function e(t){delete p[t]}function n(t){if(t=t||v,!Object(c.c)(p,t))throw d.create("no-app",{appName:t});return p[t]}function r(e,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){n={name:n}}var r=n;void 0===r.name&&(r.name=v);var i=r.name;if("string"!==typeof i||!i)throw d.create("bad-app-name",{appName:String(i)});if(Object(c.c)(p,i))throw d.create("duplicate-app",{appName:i});var o=new t(e,r,b);return p[i]=o,o}function i(){return Object.keys(p).map(function(t){return p[t]})}function o(e){var r,i,o=e.name;if(y.has(o))return g.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===e.type?b[o]:null;if(y.set(o,e),"PUBLIC"===e.type){var a=function(t){if(void 0===t&&(t=n()),"function"!==typeof t[o])throw d.create("invalid-app-argument",{appName:o});return t[o]()};void 0!==e.serviceProps&&Object(c.f)(a,e.serviceProps),b[o]=a,t.prototype[o]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}try{for(var u=Object(s.h)(Object.keys(p)),l=u.next();!l.done;l=u.next()){var f=l.value;p[f]._addComponent(e)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return"PUBLIC"===e.type?b[o]:null}function a(t,e,n){var r,i=null!==(r=m[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void g.warn(s.join(" "))}o(new l.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))}function u(t,e){if(null!==t&&"function"!==typeof t)throw d.create("invalid-log-argument",{appName:name});Object(f.d)(t,e)}function h(t,e){return"serverAuth"===e?null:e}var p={},y=new Map,b={__esModule:!0,initializeApp:r,app:n,registerVersion:a,setLogLevel:f.c,onLog:u,apps:null,SDK_VERSION:_,INTERNAL:{registerComponent:o,removeApp:e,components:y,useAsService:h}};return b.default=b,Object.defineProperty(b,"apps",{get:i}),n.App=t,b}function i(){function t(t){Object(c.f)(e,t)}var e=r(b);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:i,extendNamespace:t,createSubscribe:c.d,ErrorFactory:c.b,deepExtend:c.f}),e}function o(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}var a,u,s=n(2),c=n(3),l=n(9),f=n(7),h=(a={},a["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",a["bad-app-name"]="Illegal App name: '{$appName}",a["duplicate-app"]="Firebase App named '{$appName}' already exists",a["app-deleted"]="Firebase App named '{$appName}' already deleted",a["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",a["invalid-log-argument"]="First argument to `onLog` must be null or a function.",a),d=new c.b("app","Firebase",h),p="@firebase/app",y="0.6.13",v="[DEFAULT]",m=(u={},u[p]="fire-core",u["@firebase/analytics"]="fire-analytics",u["@firebase/auth"]="fire-auth",u["@firebase/database"]="fire-rtdb",u["@firebase/functions"]="fire-fn",u["@firebase/installations"]="fire-iid",u["@firebase/messaging"]="fire-fcm",u["@firebase/performance"]="fire-perf",u["@firebase/remote-config"]="fire-rc",u["@firebase/storage"]="fire-gcs",u["@firebase/firestore"]="fire-fst",u["fire-js"]="fire-js",u["firebase-wrapper"]="fire-js-all",u),g=new f.b("@firebase/app"),b=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(c.e)(t),this.container=new l.b(e.name),this._addComponent(new l.a("app",function(){return o},"PUBLIC"));try{for(var a=Object(s.h)(this.firebase_.INTERNAL.components.values()),u=a.next();!u.done;u=a.next()){var f=u.value;this._addComponent(f)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=v),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=v),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){g.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},t}();b.prototype.name&&b.prototype.options||b.prototype.delete||console.log("dc");var _="8.0.1",w=i(),E=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(o(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(c.h)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var O=self.firebase.SDK_VERSION;O&&O.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var I=w.initializeApp;w.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(c.m)()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),I.apply(void 0,t)};var S=w;!function(t,e){t.INTERNAL.registerComponent(new l.a("platform-logger",function(t){return new E(t)},"PRIVATE")),t.registerVersion(p,y,e),t.registerVersion("fire-js","")}(S),e.a=S},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}function i(t){s.forEach(function(e){e.setLogLevel(t)})}function o(t,e){for(var n=0,r=s;n<r.length;n++){var i=r[n];!function(n){var r=null;e&&e.level&&(r=c[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:u[n].toLowerCase(),message:a,args:i,type:e.name})}}(i)}}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o});var a,u,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(u||(u={}));var c={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},l=u.INFO,f=(a={},a[u.DEBUG]="log",a[u.VERBOSE]="log",a[u.INFO]="info",a[u.WARN]="warn",a[u.ERROR]="error",a),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=f[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},d=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in u))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?c[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.DEBUG],t)),this._logHandler.apply(this,r([this,u.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.VERBOSE],t)),this._logHandler.apply(this,r([this,u.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.INFO],t)),this._logHandler.apply(this,r([this,u.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.WARN],t)),this._logHandler.apply(this,r([this,u.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.ERROR],t)),this._logHandler.apply(this,r([this,u.ERROR],t))},t}()},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return m=t,g}}function o(t,e){try{return t(e)}catch(t){return m=t,g}}function a(t,e,n){try{t(e,n)}catch(t){return m=t,g}}function u(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&y(t,this)}function s(t,e,n){return new t.constructor(function(i,o){var a=new u(r);a.then(i,o),c(t,new p(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(u._47&&u._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){v(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?f(e.promise,t._18):h(e.promise,t._18));var r=o(n,t._18);r===g?h(e.promise,m):f(e.promise,r)})}function f(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===g)return h(t,m);if(n===t.then&&e instanceof u)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void y(n.bind(e),t)}t._83=1,t._18=e,d(t)}function h(t,e){t._83=2,t._18=e,u._71&&u._71(t,e),d(t)}function d(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function y(t,e){var n=!1,r=a(t,function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,h(e,t))});n||r!==g||(n=!0,h(e,m))}var v=n(15),m=null,g={};t.exports=u,u._47=null,u._71=null,u._44=r,u.prototype.then=function(t,e){if(this.constructor!==u)return s(this,t,e);var n=new u(r);return c(this,new p(t,e,n)),n}},function(t,e,n){"use strict";function r(t){return t===s?void 0:t}function i(t){return"EAGER"===t.instantiationMode}n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var o=n(2),a=n(3),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(o.a)({identifier:s,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(i);if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,i(t))try{this.getOrInitializeService(s)}catch(t){}try{for(var r=Object(o.h)(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var u=Object(o.e)(a.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService(f);l.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(o.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,r(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=function(t){return t[Math.floor(Math.random()*t.length)]},i=function t(e){return e>0?r("QWERTZUIOPLKJHGFDSAYXCVBNM1234567890")+t(e-1):""},o=function(){if(!window.localStorage)return"NO_LOCAL_STORAGE";var t=window.localStorage.getItem("eleusisSecretCookie");return t||(t=i(16),window.localStorage.setItem("eleusisSecretCookie",t)),t},a=function(){if(!window.localStorage)return"RETRACTED";var t=window.localStorage.getItem("eleusisDataPreference");return t||(t="OK",window.localStorage.setItem("eleusisDataPreference",t)),t}},function(t,e,n){"use strict";(function(t){function r(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(){}function a(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function u(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function s(t){return Object.prototype.hasOwnProperty.call(t,yn)&&t[yn]||(t[yn]=++vn)}function c(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:l,f.apply(null,arguments)}function h(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(){return Date.now()}function p(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function y(){this.j=this.j,this.i=this.i}function v(t){t:{for(var e=ke,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function m(t){return Array.prototype.concat.apply([],arguments)}function g(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function b(t){return/^[\s\xa0]*$/.test(t)}function _(t,e){return-1!=t.indexOf(e)}function w(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function O(t){var e={};for(var n in t)e[n]=t[n];return e}function I(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<On.length;o++)n=On[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function S(t){return S[" "](t),t}function k(t,e){var n=Rn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function T(){var t=pn.document;return t?t.documentMode:void 0}function A(t){return k(t,function(){for(var e=0,n=_n(String(In)).split("."),r=_n(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=w(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||w(0==a[2].length,0==u[2].length)||w(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e})}function P(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function C(t,e){if(P.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pn){t:{try{S(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Bn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function D(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++qn,this.Y=this.Z=!1}function N(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function x(t){this.src=t,this.a={},this.b=0}function L(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=gn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(N(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function R(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}function j(t,e,n,r,i){if(r&&r.once)return V(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)j(t,e[o],n,r,i);return null}return n=H(n),t&&t[zn]?t.va(e,n,u(r)?!!r.capture:!!r,i):M(t,e,n,!1,r,i)}function M(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=u(i)?!!i.capture:!!i;if(a&&!Un)return null;var s=K(t);if(s||(t[Wn]=s=new x(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=U(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(z(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function U(){var t=W,e=Un?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function V(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)V(t,e[o],n,r,i);return null}return n=H(n),t&&t[zn]?t.wa(e,n,u(r)?!!r.capture:!!r,i):M(t,e,n,!0,r,i)}function F(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)F(t,e[o],n,r,i);else r=u(r)?!!r.capture:!!r,n=H(n),t&&t[zn]?(t=t.c,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=R(o,n,r,i))&&(N(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=K(t))&&(e=t.a[e.toString()],t=-1,e&&(t=R(e,n,r,i)),(n=-1<t?e[t]:null)&&B(n))}function B(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[zn])L(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(z(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K(e))?(L(n,t),0==n.b&&(n.src=null,e[Wn]=null)):N(t)}}}function z(t){return t in Kn?Kn[t]:Kn[t]="on"+t}function q(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&B(t),n.call(r,e)}function W(t,e){if(t.Y)return!0;if(!Un){if(!e)t:{e=["window","event"];for(var n=pn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return e=new C(e,this),q(t,e)}return q(t,new C(e,this))}function K(t){return t=t[Wn],t instanceof x?t:null}function H(t){return"function"===typeof t?t:(t[Hn]||(t[Hn]=function(e){return t.handleEvent(e)}),t[Hn])}function G(){y.call(this),this.c=new x(this),this.J=this,this.C=null}function Q(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new P(e,t);else if(e instanceof P)e.target=e.target||t;else{var i=e;e=new P(r,t),I(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Y(a,r,!0,e)&&i}if(a=e.a=t,i=Y(a,r,!0,e)&&i,i=Y(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.a=n[o],i=Y(a,r,!1,e)&&i}function Y(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var u=a.listener,s=a.ca||a.src;a.Z&&L(t.c,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}function $(){this.b=this.a=null}function J(){var t=Jn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function X(){this.next=this.b=this.a=null}function Z(t){pn.setTimeout(function(){throw t},0)}function tt(t,e){Yn||et(),$n||(Yn(),$n=!0),Jn.add(t,e)}function et(){var t=pn.Promise.resolve(void 0);Yn=function(){t.then(nt)}}function nt(){for(var t;t=J();){try{t.a.call(t.b)}catch(t){Z(t)}var e=Qn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}$n=!1}function rt(t,e){G.call(this),this.b=t||1,this.a=e||pn,this.f=f(this.Za,this),this.g=d()}function it(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ot(t,e,n){if("function"===typeof t)n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<Number(e)?-1:pn.setTimeout(t,e||0)}function at(t){t.a=ot(function(){t.a=null,t.c&&(t.c=!1,at(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}function ut(t){y.call(this),this.b=t,this.a={}}function st(t,e,n,r){Array.isArray(n)||(n&&(Zn[0]=n.toString()),n=Zn);for(var i=0;i<n.length;i++){var o=j(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ct(t){E(t.a,function(t,e){this.a.hasOwnProperty(e)&&B(t)},t),t.a={}}function lt(){this.a=!0}function ft(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function ht(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function dt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yt(t,n)+(r?" "+r:"")})}function pt(t,e){t.info(function(){return"TIMEOUT: "+e})}function yt(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Gn(n)}catch(t){return e}}function vt(){return er=er||new G}function mt(t){P.call(this,tr.Fa,t)}function gt(t){var e=vt();Q(e,new mt(e,t))}function bt(t,e){P.call(this,tr.STAT_EVENT,t),this.stat=e}function _t(t){var e=vt();Q(e,new bt(e,t))}function wt(t){P.call(this,tr.Ga,t)}function Et(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return pn.setTimeout(function(){t()},e)}function Ot(){}function It(t){var e;return(e=t.a)||(e=t.a={}),e}function St(){}function kt(){P.call(this,"d")}function Tt(){P.call(this,"c")}function At(){}function Pt(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ut(this),this.P=ar,t=An?125:void 0,this.R=new rt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}function Ct(t,e,n){t.H=1,t.i=Zt(Gt(e)),t.j=n,t.I=!0,Dt(t,null)}function Dt(t,e){t.u=d(),Lt(t),t.l=Gt(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ce(n.b,"t",r),t.D=0,t.a=nn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Xn(f(t.Ca,t,t.a),t.O)),st(t.J,t.a,"readystatechange",t.Xa),e=t.B?O(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),gt(1),ft(t.c,t.m,t.l,t.f,t.S,t.j)}function Nt(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=xt(t,n);if(i==sr){4==e&&(t.h=4,_t(14),r=!1),dt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ur){t.h=4,_t(15),dt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}dt(t.c,t.f,i,null),Vt(t,i)}4==e&&0==n.length&&(t.h=1,_t(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qe(e),e.F=!0,_t(11))):(dt(t.c,t.f,n,"[Invalid Chunked Response]"),Ut(t),Mt(t))}function xt(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sr:(n=Number(e.substring(n,r)),isNaN(n)?ur:(r+=1)+n>e.length?sr:(e=e.substr(r,n),t.D=r+n,e))}function Lt(t){t.T=d()+t.P,Rt(t,t.P)}function Rt(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Et(f(t.Va,t),e)}function jt(t){t.o&&(pn.clearTimeout(t.o),t.o=null)}function Mt(t){0==t.g.v||t.A||Je(t.g,t)}function Ut(t){jt(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,it(t.R),ct(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vt(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ye(n.b,t)))if(n.I=t.N,!t.C&&ye(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;$e(n),Ue(n)}Ge(n),_t(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Et(f(n.Sa,n),6e3));if(1>=pe(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Ze(n,11)}else if((t.C||n.a==t)&&$e(n),!b(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"===typeof u&&0<u){var s=1.5*u;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=s.b;!h.a&&(_(l,"spdy")||_(l,"quic")||_(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ve(h,h.b),h.b=null))}if(s.A){var p=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;p&&(s.na=p,Xt(s.B,s.A,p))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=d()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),s=n;var y=t;if(s.la=en(s,s.C?s.ga:null,s.fa),y.C){me(s.b,y);var v=y,m=s.D;m&&v.setTimeout(m),v.o&&(jt(v),Lt(v)),s.a=y}else He(s);0<n.g.length&&Be(n)}else"stop"!=i[0]&&"close"!=i[0]||Ze(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ze(n,7):Me(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);gt(4)}catch(t){}}function Ft(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Bt(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(a(t)||"string"===typeof t)bn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(a(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ft(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zt)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Wt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ht(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ht){this.a=void 0!==e?e:t.a,Qt(this,t.f),this.j=t.j,Yt(this,t.c),$t(this,t.h),this.g=t.g,e=t.b;var n=new oe;n.c=e.c,e.a&&(n.a=new zt(e.a),n.b=e.b),Jt(this,n),this.i=t.i}else t&&(n=String(t).match(cr))?(this.a=!!e,Qt(this,n[1]||"",!0),this.j=ne(n[2]||""),Yt(this,n[3]||"",!0),$t(this,n[4]),this.g=ne(n[5]||"",!0),Jt(this,n[6]||"",!0),this.i=ne(n[7]||"")):(this.a=!!e,this.b=new oe(null,this.a))}function Gt(t){return new Ht(t)}function Qt(t,e,n){t.f=n?ne(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Yt(t,e,n){t.c=n?ne(e,!0):e}function $t(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Jt(t,e,n){e instanceof oe?(t.b=e,fe(t.b,t.a)):(n||(e=re(e,dr)),t.b=new oe(e,t.a))}function Xt(t,e,n){t.b.set(e,n)}function Zt(t){return Xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^d()).toString(36)),t}function te(t){return t instanceof Ht?Gt(t):new Ht(t,void 0)}function ee(t,e,n,r){var i=new Ht(null,void 0);return t&&Qt(i,t),e&&Yt(i,e),n&&$t(i,n),r&&(i.g=r),i}function ne(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function re(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ie(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function oe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ae(t){t.a||(t.a=new zt,t.b=0,t.c&&Kt(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ue(t,e){ae(t),e=le(t,e),Wt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Wt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qt(t)))}function se(t,e){return ae(t),e=le(t,e),Wt(t.a.b,e)}function ce(t,e,n){ue(t,e),0<n.length&&(t.c=null,t.a.set(le(t,e),g(n)),t.b+=n.length)}function le(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function fe(t,e){e&&!t.f&&(ae(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ue(this,e),ce(this,n,t))},t)),t.f=e}function he(t){this.g=t||vr,pn.PerformanceNavigationTiming?(t=pn.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(pn.ia&&pn.ia.ya&&pn.ia.ya()&&pn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function de(t){return!!t.b||!!t.a&&t.a.size>=t.f}function pe(t){return t.b?1:t.a?t.a.size:0}function ye(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ve(t,e){t.a?t.a.add(e):t.b=e}function me(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ge(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var u=a.value;r=r.concat(u.s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return g(t.c)}function be(){}function _e(){this.a=new be}function we(t,e,n){var r=n||"";try{Bt(t,function(t,n){var i=t;u(t)&&(i=Gn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ee(t,e){var n=new lt;if(pn.Image){var r=new Image;r.onload=h(Oe,n,r,"TestLoadImage: loaded",!0,e),r.onerror=h(Oe,n,r,"TestLoadImage: error",!1,e),r.onabort=h(Oe,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=h(Oe,n,r,"TestLoadImage: timeout",!1,e),pn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Oe(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Ie(t){G.call(this),this.headers=new zt,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gr,this.D=this.F=!1}function Se(t){return kn&&A(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function ke(t){return"content-type"==t.toLowerCase()}function Te(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ae(t),Ce(t)}function Ae(t){t.u||(t.u=!0,Q(t,"complete"),Q(t,"error"))}function Pe(t){if(t.b&&"undefined"!=typeof dn&&(!t.s[1]||4!=Ne(t)||2!=t.W()))if(t.l&&4==Ne(t))ot(t.za,0,t);else if(Q(t,"readystatechange"),4==Ne(t)){t.b=!1;try{var e=t.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.B).match(cr)[1]||null;if(!o&&pn.self&&pn.self.location){var a=pn.self.location.protocol;o=a.substr(0,a.length-1)}i=!br.test(o?o.toLowerCase():"")}r=i}var u=r;if(u)Q(t,"complete"),Q(t,"success");else{t.h=6;try{var s=2<Ne(t)?t.a.statusText:""}catch(e){s=""}t.f=s+" ["+t.W()+"]",Ae(t)}}finally{Ce(t)}}}function Ce(t,e){if(t.a){De(t);var n=t.a,r=t.s[0]?o:null;t.a=null,t.s=null,e||Q(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function De(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(pn.clearTimeout(t.m),t.m=null)}function Ne(t){return t.a?t.a.readyState:0}function xe(t){var e="";return E(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Le(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=xe(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Xt(t,e,n))}function Re(t,e,n){return n&&n.internalChannelParams?n.internalChannelParams[t]||e:e}function je(t){this.pa=0,this.g=[],this.c=new lt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Re("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Re("baseRetryDelayMs",5e3,t),this.Ra=Re("retryDelaySeedMs",1e4,t),this.Ma=Re("forwardChannelMaxRetries",2,t),this.ma=Re("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new he(t&&t.concurrentRequestLimit),this.ka=new _e,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Me(t){if(Ve(t),3==t.v){var e=t.R++,n=Gt(t.B);Xt(n,"SID",t.J),Xt(n,"RID",e),Xt(n,"TYPE","terminate"),We(t,n),e=new Pt(t,t.c,e,void 0),e.H=2,e.i=Zt(Gt(n)),n=!1,pn.navigator&&pn.navigator.sendBeacon&&(n=pn.navigator.sendBeacon(e.i.toString(),"")),!n&&pn.Image&&((new Image).src=e.i,n=!0),n||(e.a=nn(e.g,null),e.a.ba(e.i)),e.u=d(),Lt(e)}tn(t)}function Ue(t){t.a&&(Qe(t),t.a.cancel(),t.a=null)}function Ve(t){Ue(t),t.j&&(pn.clearTimeout(t.j),t.j=null),$e(t),t.b.cancel(),t.h&&("number"===typeof t.h&&pn.clearTimeout(t.h),t.h=null)}function Fe(t,e){t.g.push(new yr(t.Oa++,e)),3==t.v&&Be(t)}function Be(t){de(t.b)||t.h||(t.h=!0,tt(t.Ba,t),t.u=0)}function ze(t,e){return!(pe(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=Et(f(t.Ba,t,e),Xe(t,t.u)),t.u++,!0))}function qe(t,e){var n;n=e?e.f:t.R++;var r=Gt(t.B);Xt(r,"SID",t.J),Xt(r,"RID",n),Xt(r,"AID",t.P),We(t,r),t.i&&t.l&&Le(r,t.i,t.l),n=new Pt(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ke(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ve(t.b,n),Ct(n,r,e)}function We(t,e){t.f&&Bt({},function(t,n){Xt(e,n,t)})}function Ke(t,e,n){n=Math.min(t.g.length,n);var r=t.f?f(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),u=!1;else try{we(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(u){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function He(t){t.a||t.j||(t.T=1,tt(t.Aa,t),t.o=0)}function Ge(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Et(f(t.Aa,t),Xe(t,t.o)),t.o++,!0)}function Qe(t){null!=t.s&&(pn.clearTimeout(t.s),t.s=null)}function Ye(t){t.a=new Pt(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gt(t.la);Xt(e,"RID","rpc"),Xt(e,"SID",t.J),Xt(e,"CI",t.H?"0":"1"),Xt(e,"AID",t.P),We(t,e),Xt(e,"TYPE","xmlhttp"),t.i&&t.l&&Le(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zt(Gt(e)),n.j=null,n.I=!0,Dt(n,t)}function $e(t){null!=t.m&&(pn.clearTimeout(t.m),t.m=null)}function Je(t,e){var n=null;if(t.a==e){$e(t),Qe(t),t.a=null;var r=2}else{if(!ye(t.b,e))return;n=e.s,me(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=d()-e.u;var i=t.u;r=vt(),Q(r,new wt(r,n,e,i)),Be(t)}else He(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&ze(t,e)||2==r&&Ge(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ze(t,5);break;case 4:Ze(t,10);break;case 3:Ze(t,6);break;default:Ze(t,2)}}function Xe(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ze(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=f(t.Ya,t);n||(n=new Ht("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||Qt(n,"https"),Zt(n)),Ee(n.toString(),r)}else _t(2);t.v=0,t.f&&t.f.ra(e),tn(t),Ve(t)}function tn(t){t.v=0,t.I=-1,t.f&&(0==ge(t.b).length&&0==t.g.length||(t.b.c.length=0,g(t.g),t.g.length=0),t.f.qa())}function en(t,e,n){var r=te(n);if(""!=r.c)e&&Yt(r,e+"."+r.c),$t(r,r.h);else{var i=pn.location;r=ee(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&E(t.V,function(t,e){Xt(r,e,t)}),e=t.A,n=t.na,e&&n&&Xt(r,e,n),Xt(r,"VER",t.ha),We(t,r),r}function nn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Ie(t.Na),e.F=t.C,e}function rn(){}function on(){if(kn&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function an(t,e){G.call(this),this.a=new je(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!b(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new cn(this)}function un(t){kt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function sn(){Tt.call(this),this.status=1}function cn(t){this.a=t}n.d(e,"a",function(){return Or}),n.d(e,"b",function(){return Sr}),n.d(e,"c",function(){return Ir}),n.d(e,"d",function(){return kr}),n.d(e,"e",function(){return Tr}),n.d(e,"f",function(){return Ar}),n.d(e,"g",function(){return wr}),n.d(e,"h",function(){return Er});var ln,fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},hn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},dn=dn||{},pn=hn||self,yn="closure_uid_"+(1e9*Math.random()>>>0),vn=0;y.prototype.j=!1,y.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),!1)){s(this)}},y.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var mn,gn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},bn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},_n=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};t:{var wn=pn.navigator;if(wn){var En=wn.userAgent;if(En){mn=En;break t}}mn=""}var On="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");S[" "]=o;var In,Sn=_(mn,"Opera"),kn=_(mn,"Trident")||_(mn,"MSIE"),Tn=_(mn,"Edge"),An=Tn||kn,Pn=_(mn,"Gecko")&&!(_(mn.toLowerCase(),"webkit")&&!_(mn,"Edge"))&&!(_(mn,"Trident")||_(mn,"MSIE"))&&!_(mn,"Edge"),Cn=_(mn.toLowerCase(),"webkit")&&!_(mn,"Edge");t:{var Dn="",Nn=function(){var t=mn;return Pn?/rv:([^\);]+)(\)|;)/.exec(t):Tn?/Edge\/([\d\.]+)/.exec(t):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Cn?/WebKit\/(\S+)/.exec(t):Sn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Nn&&(Dn=Nn?Nn[1]:""),kn){var xn=T();if(null!=xn&&xn>parseFloat(Dn)){In=String(xn);break t}}In=Dn}var Ln,Rn={};if(pn.document&&kn){var jn=T();Ln=jn||(parseInt(In,10)||void 0)}else Ln=void 0;var Mn=Ln,Un=!kn||9<=Number(Mn),Vn=kn&&!A("9"),Fn=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pn.addEventListener("test",o,e),pn.removeEventListener("test",o,e)}catch(t){}return t}();P.prototype.b=function(){this.defaultPrevented=!0},p(C,P);var Bn={2:"touch",3:"pen",4:"mouse"};C.prototype.b=function(){C.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var zn="closure_listenable_"+(1e6*Math.random()|0),qn=0;x.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=R(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new D(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};var Wn="closure_lm_"+(1e6*Math.random()|0),Kn={},Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);p(G,y),G.prototype[zn]=!0,ln=G.prototype,ln.addEventListener=function(t,e,n,r){j(this,t,e,n,r)},ln.removeEventListener=function(t,e,n,r){F(this,t,e,n,r)},ln.G=function(){if(G.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)N(n[r]);delete e.a[t],e.b--}}this.C=null},ln.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ln.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gn=pn.JSON.stringify,Qn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new X},function(t){t.reset()});$.prototype.add=function(t,e){var n=Qn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},X.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},X.prototype.reset=function(){this.next=this.b=this.a=null};var Yn,$n=!1,Jn=new $;p(rt,G),ln=rt.prototype,ln.aa=!1,ln.M=null,ln.Za=function(){if(this.aa){var t=d()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Q(this,"tick"),this.aa&&(it(this),this.start()))}},ln.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=d())},ln.G=function(){rt.X.G.call(this),it(this),delete this.a};var Xn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return r(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:at(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(pn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(y);p(ut,y);var Zn=[];ut.prototype.G=function(){ut.X.G.call(this),ct(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lt.prototype.info=function(){};var tr={},er=null;tr.Fa="serverreachability",p(mt,P),tr.STAT_EVENT="statevent",p(bt,P),tr.Ga="timingevent",p(wt,P);var nr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},rr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};Ot.prototype.a=null;var ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};p(kt,P),p(Tt,P);var or;p(At,Ot),or=new At;var ar=45e3,ur={},sr={};ln=Pt.prototype,ln.setTimeout=function(t){this.P=t},ln.Xa=function(t){t=t.target;var e=this.F;e&&3==Ne(t)?e.f():this.Ca(t)},ln.Ca=function(t){try{if(t==this.a)t:{var e=Ne(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!An&&!this.a.$())){this.A||4!=e||7==n||gt(8==n||0>=r?3:2),jt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,ht(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,u=this.a;if((a=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.h=3,_t(12),Ut(this),Mt(this);break t}dt(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vt(this,s)}this.I?(Nt(this,e,o),An&&this.b&&3==e&&(st(this.J,this.R,"tick",this.Wa),this.R.start())):(dt(this.c,this.f,o,null),Vt(this,o)),4==e&&Ut(this),this.b&&!this.A&&(4==e?Je(this.g,this):(this.b=!1,Lt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_t(12)):(this.h=0,_t(13)),Ut(this),Mt(this)}}}catch(t){}},ln.Wa=function(){if(this.a){var t=Ne(this.a),e=this.a.$();this.D<e.length&&(jt(this),Nt(this,t,e),this.b&&4!=t&&Lt(this))}},ln.cancel=function(){this.A=!0,Ut(this)},ln.Va=function(){this.o=null;var t=d();0<=t-this.T?(pt(this.c,this.l),2!=this.H&&(gt(3),_t(17)),Ut(this),this.h=2,Mt(this)):Rt(this,this.T-t)},ln=zt.prototype,ln.K=function(){qt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ln.L=function(){return qt(this),this.a.concat()},ln.get=function(t,e){return Wt(this.b,t)?this.b[t]:e},ln.set=function(t,e){Wt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ln.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var cr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Ht.prototype.toString=function(){var t=[],e=this.f;e&&t.push(re(e,lr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(re(e,lr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(re(n,"/"==n.charAt(0)?hr:fr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",re(n,pr)),t.join("")};var lr=/[#\/\?@]/g,fr=/[#\?:]/g,hr=/[#\?]/g,dr=/[#\?@]/g,pr=/#/g;ln=oe.prototype,ln.add=function(t,e){ae(this),this.c=null,t=le(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ln.forEach=function(t,e){ae(this),this.a.forEach(function(n,r){bn(n,function(n){t.call(e,n,r,this)},this)},this)},ln.L=function(){ae(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ln.K=function(t){ae(this);var e=[];if("string"===typeof t)se(this,t)&&(e=m(e,this.a.get(le(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=m(e,t[n])}return e},ln.set=function(t,e){return ae(this),this.c=null,t=le(this,t),se(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ln.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e},ln.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var yr=function(){function t(t,e){this.b=t,this.a=e}return t}(),vr=10;he.prototype.cancel=function(){var t,e;if(this.c=ge(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},be.prototype.stringify=function(t){return pn.JSON.stringify(t,void 0)},be.prototype.parse=function(t){return pn.JSON.parse(t,void 0)};var mr=pn.JSON.parse;p(Ie,G);var gr="",br=/^https?$/i,_r=["POST","PUT"];ln=Ie.prototype,ln.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=It(this.H?this.H:or),this.a.onreadystatechange=f(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Te(this,t)}t=n||"";var i=new zt(this.headers);r&&Bt(r,function(t,e){i.set(e,t)}),r=v(i.L()),n=pn.FormData&&t instanceof pn.FormData,!(0<=gn(_r,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{De(this),0<this.o&&((this.D=Se(this.a))?(this.a.timeout=this.o,this.a.ontimeout=f(this.xa,this)):this.m=ot(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Te(this,t)}},ln.xa=function(){"undefined"!=typeof dn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Q(this,"timeout"),this.abort(8))},ln.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Q(this,"complete"),Q(this,"abort"),Ce(this))},ln.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ce(this,!0)),Ie.X.G.call(this)},ln.za=function(){this.j||(this.A||this.l||this.g?Pe(this):this.Ua())},ln.Ua=function(){Pe(this)},ln.W=function(){try{return 2<Ne(this)?this.a.status:-1}catch(t){return-1}},ln.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},ln.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mr(e)}},ln.ua=function(){return this.h},ln.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},ln=je.prototype,ln.ha=8,ln.v=1,ln.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new Pt(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=O(n),I(n,this.O)):n=this.O),null===this.i&&(e.B=n);var r;if(this.da)t:{for(var i=r=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.g.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Ke(this,e,r),i=Gt(this.B),Xt(i,"RID",t),Xt(i,"CVER",22),this.A&&Xt(i,"X-HTTP-Session-Id",this.A),We(this,i),this.i&&n&&Le(i,this.i,n),ve(this.b,e),this.Ia&&Xt(i,"TYPE","init"),this.da?(Xt(i,"$req",r),Xt(i,"SID","null"),e.U=!0,Ct(e,i,null)):Ct(e,i,r),this.v=2}}else 3==this.v&&(t?qe(this,t):0==this.g.length||de(this.b)||qe(this))},ln.Aa=function(){if(this.j=null,Ye(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Et(f(this.Ta,this),t)}},ln.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_t(10),Ue(this),Ye(this))},ln.Sa=function(){null!=this.m&&(this.m=null,Ue(this),Ge(this),_t(19))},ln.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_t(2)):(this.c.info("Failed to ping google.com"),_t(1))},ln=rn.prototype,ln.ta=function(){},ln.sa=function(){},ln.ra=function(){},ln.qa=function(){},ln.Ja=function(){},on.prototype.a=function(t,e){return new an(t,e)},p(an,G),an.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_t(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=en(t,null,t.fa),Be(t)},an.prototype.close=function(){Me(this.a)},an.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Fe(this.a,e)}else this.l?(e={},e.__data__=Gn(t),Fe(this.a,e)):Fe(this.a,t)},an.prototype.G=function(){this.a.f=null,delete this.f,Me(this.a),delete this.a,an.X.G.call(this)},p(un,kt),p(sn,Tt),p(cn,rn),cn.prototype.ta=function(){Q(this.a,"a")},cn.prototype.sa=function(t){Q(this.a,new un(t))},cn.prototype.ra=function(t){Q(this.a,new sn(t))},cn.prototype.qa=function(){Q(this.a,"b")},on.prototype.createWebChannel=on.prototype.a,an.prototype.send=an.prototype.h,an.prototype.open=an.prototype.g,an.prototype.close=an.prototype.close,nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,rr.COMPLETE="complete",St.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",G.prototype.listen=G.prototype.va,Ie.prototype.listenOnce=Ie.prototype.wa,Ie.prototype.getLastError=Ie.prototype.Qa,Ie.prototype.getLastErrorCode=Ie.prototype.ua,Ie.prototype.getStatus=Ie.prototype.W,Ie.prototype.getResponseJson=Ie.prototype.Pa,Ie.prototype.getResponseText=Ie.prototype.$,Ie.prototype.send=Ie.prototype.ba;var wr=function(){return new on},Er=function(){return vt()},Or=nr,Ir=rr,Sr=tr,kr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Tr=St,Ar=Ie}).call(e,n(4))},function(t,e,n){n(13),t.exports=n(18)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(14).enable(),window.Promise=n(16)),n(17),Object.assign=n(5)},function(t,e,n){"use strict";function r(){c=!1,u._47=null,u._71=null}function i(t){function e(e){(t.allRejections||a(f[e].error,t.whitelist||s))&&(f[e].displayId=l++,t.onUnhandled?(f[e].logged=!0,t.onUnhandled(f[e].displayId,f[e].error)):(f[e].logged=!0,o(f[e].displayId,f[e].error)))}function n(e){f[e].logged&&(t.onHandled?t.onHandled(f[e].displayId,f[e].error):f[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[e].displayId+".")))}t=t||{},c&&r(),c=!0;var i=0,l=0,f={};u._47=function(t){2===t._83&&f[t._56]&&(f[t._56].logged?n(t._56):clearTimeout(f[t._56].timeout),delete f[t._56])},u._71=function(t,n){0===t._75&&(t._56=i++,f[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,s)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var u=n(8),s=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),u=!0),a[a.length]=t}function r(){for(;s<a.length;){var t=s;if(s+=1,a[t].call(),s>c){for(var e=0,n=a.length-s;e<n;e++)a[e]=a[e+s];a.length-=s,s=0}}a.length=0,s=0,u=!1}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var o,a=[],u=!1,s=0,c=1024,l="undefined"!==typeof e?e:self,f=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof f?function(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(e,n(4))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(8);t.exports=i;var o=r(!0),a=r(!1),u=r(null),s=r(void 0),c=r(0),l=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return u;if(void 0===t)return s;if(!0===t)return o;if(!1===t)return a;if(0===t)return c;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,u){if(u&&("object"===typeof u||"function"===typeof u)){if(u instanceof i&&u.then===i.prototype.then){for(;3===u._83;)u=u._18;return 1===u._83?r(a,u._18):(2===u._83&&n(u._18),void u.then(function(t){r(a,t)},n))}var s=u.then;if("function"===typeof s){return void new i(s.bind(u)).then(function(t){r(a,t)},n)}}e[a]=u,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function s(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&b(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];v.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new v(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(20),a=n.n(o),u=n(24),s=(n.n(u),n(25)),c=n(35),l=n(1),f=(n(36),{apiKey:"AIzaSyDnJNV4nfOvm5dvDJwY_aVcs7MwPBfO5MQ",authDomain:"robot-1badb.firebaseapp.com",databaseURL:"https://robot-1badb.firebaseio.com",projectId:"robot-1badb",storageBucket:"robot-1badb.appspot.com",messagingSenderId:"426482047248"});l.a.initializeApp(f),a.a.render(i.a.createElement(s.a,null),document.getElementById("root")),Object(c.a)()},function(t,e,n){"use strict";function r(t){return null===t||"object"!==typeof t?null:(t=k&&t[k]||t["@@iterator"],"function"===typeof t?t:null)}function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t,e,n){this.props=t,this.context=e,this.refs=A,this.updater=n||T}function a(){}function u(t,e,n){this.props=t,this.context=e,this.refs=A,this.updater=n||T}function s(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)D.call(e,r)&&!N.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:g,type:t,key:o,ref:a,props:i,_owner:C.current}}function c(t,e){return{$$typeof:g,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l(t){return"object"===typeof t&&null!==t&&t.$$typeof===g}function f(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}function h(t,e){return"object"===typeof t&&null!==t&&null!=t.key?f(""+t.key):e.toString(36)}function d(t,e,n,o,a){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case g:case b:s=!0}}if(s)return s=t,a=a(s),t=""===o?"."+h(s,0):o,Array.isArray(a)?(n="",null!=t&&(n=t.replace(x,"$&/")+"/"),d(a,e,n,"",function(t){return t})):null!=a&&(l(a)&&(a=c(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+t)),e.push(a)),1;if(s=0,o=""===o?".":o+":",Array.isArray(t))for(var f=0;f<t.length;f++){u=t[f];var p=o+h(u,f);s+=d(u,e,n,p,a)}else if("function"===typeof(p=r(t)))for(t=p.call(t),f=0;!(u=t.next()).done;)u=u.value,p=o+h(u,f++),s+=d(u,e,n,p,a);else if("object"===u)throw e=""+t,Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function p(t,e,n){if(null==t)return t;var r=[],i=0;return d(t,r,"","",function(t){return e.call(n,t,i++)}),r}function y(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}if(1===t._status)return t._result;throw t._result}function v(){var t=L.current;if(null===t)throw Error(i(321));return t}var m=n(5),g=60103,b=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var _=60109,w=60110,E=60112;e.Suspense=60113;var O=60115,I=60116;if("function"===typeof Symbol&&Symbol.for){var S=Symbol.for;g=S("react.element"),b=S("react.portal"),e.Fragment=S("react.fragment"),e.StrictMode=S("react.strict_mode"),e.Profiler=S("react.profiler"),_=S("react.provider"),w=S("react.context"),E=S("react.forward_ref"),e.Suspense=S("react.suspense"),O=S("react.memo"),I=S("react.lazy")}var k="function"===typeof Symbol&&Symbol.iterator,T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(i(85));this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=o.prototype;var P=u.prototype=new a;P.constructor=u,m(P,o.prototype),P.isPureReactComponent=!0;var C={current:null},D=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0},x=/\/+/g,L={current:null},R={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:m};e.Children={map:p,forEach:function(t,e,n){p(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return p(t,function(){e++}),e},toArray:function(t){return p(t,function(t){return t})||[]},only:function(t){if(!l(t))throw Error(i(143));return t}},e.Component=o,e.PureComponent=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(i(267,t));var r=m({},t.props),o=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=C.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)D.call(e,c)&&!N.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==s?s[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:g,type:t.type,key:o,ref:a,props:r,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),t={$$typeof:w,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:_,_context:t},t.Consumer=t},e.createElement=s,e.createFactory=function(t){var e=s.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:E,render:t}},e.isValidElement=l,e.lazy=function(t){return{$$typeof:I,_payload:{_status:-1,_result:t},_init:y}},e.memo=function(t,e){return{$$typeof:O,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return v().useCallback(t,e)},e.useContext=function(t,e){return v().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return v().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return v().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return v().useLayoutEffect(t,e)},e.useMemo=function(t,e){return v().useMemo(t,e)},e.useReducer=function(t,e,n){return v().useReducer(t,e,n)},e.useRef=function(t){return v().useRef(t)},e.useState=function(t){return v().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(21)},function(t,e,n){"use strict";function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(t,e){o(t,e),o(t+"Capture",e)}function o(t,e){for(Qi[t]=e,t=0;t<e.length;t++)Gi.add(e[t])}function a(t){return!!Ji.call(Zi,t)||!Ji.call(Xi,t)&&($i.test(t)?Zi[t]=!0:(Xi[t]=!0,!1))}function u(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function s(t,e,n,r){if(null===e||"undefined"===typeof e||u(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function c(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}function l(t){return t[1].toUpperCase()}function f(t,e,n,r){var i=to.hasOwnProperty(e)?to[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(s(e,n,i,r)&&(n=null),r||null===i?a(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function h(t){return null===t||"object"!==typeof t?null:(t=Io&&t[Io]||t["@@iterator"],"function"===typeof t?t:null)}function d(t){if(void 0===Eo)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Eo=e&&e[1]||""}return"\n"+Eo+t}function p(t,e){if(!t||So)return"";So=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"===typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{So=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?d(t):""}function y(t){switch(t.tag){case 5:return d(t.type);case 16:return d("Lazy");case 13:return d("Suspense");case 19:return d("SuspenseList");case 0:case 2:case 15:return t=p(t.type,!1);case 11:return t=p(t.type.render,!1);case 22:return t=p(t.type._render,!1);case 1:return t=p(t.type,!0);default:return""}}function v(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case oo:return"Fragment";case io:return"Portal";case uo:return"Profiler";case ao:return"StrictMode";case fo:return"Suspense";case ho:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case co:return(t.displayName||"Context")+".Consumer";case so:return(t._context.displayName||"Context")+".Provider";case lo:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case po:return v(t.type);case vo:return v(t._render);case yo:e=t._payload,t=t._init;try{return v(t(e))}catch(t){}}return null}function m(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function g(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function b(t){var e=g(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _(t){t._valueTracker||(t._valueTracker=b(t))}function w(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function E(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function O(t,e){var n=e.checked;return Ki({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function I(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=m(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function S(t,e){null!=(e=e.checked)&&f(t,"checked",e,!1)}function k(t,e){S(t,e);var n=m(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?A(t,e.type,n):e.hasOwnProperty("defaultValue")&&A(t,e.type,m(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function T(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function A(t,e,n){"number"===e&&E(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function P(t){var e="";return Wi.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}function C(t,e){return t=Ki({children:void 0},e),(e=P(e.children))&&(t.children=e),t}function D(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+m(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function N(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return Ki({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:m(n)}}function L(t,e){var n=m(e.value),r=m(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function R(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function j(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?j(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function U(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function V(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ao.hasOwnProperty(t)&&Ao[t]?(""+e).trim():e+"px"}function F(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=V(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function B(t,e){if(e){if(Co[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function z(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function q(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function W(t){if(t=Ce(t)){if("function"!==typeof Do)throw Error(r(280));var e=t.stateNode;e&&(e=Ne(e),Do(t.stateNode,t.type,e))}}function K(t){No?xo?xo.push(t):xo=[t]:No=t}function H(){if(No){var t=No,e=xo;if(xo=No=null,W(t),e)for(t=0;t<e.length;t++)W(e[t])}}function G(t,e){return t(e)}function Q(t,e,n,r,i){return t(e,n,r,i)}function Y(){}function $(){null===No&&null===xo||(Y(),H())}function J(t,e,n){if(jo)return t(e,n);jo=!0;try{return Lo(t,e,n)}finally{jo=!1,$()}}function X(t,e){var n=t.stateNode;if(null===n)return null;var i=Ne(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}function Z(t,e,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}function tt(t,e,n,r,i,o,a,u,s){qo=!1,Wo=null,Z.apply(Go,arguments)}function et(t,e,n,i,o,a,u,s,c){if(tt.apply(this,arguments),qo){if(!qo)throw Error(r(198));var l=Wo;qo=!1,Wo=null,Ko||(Ko=!0,Ho=l)}}function nt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{e=t,0!==(1026&e.flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function rt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function it(t){if(nt(t)!==t)throw Error(r(188))}function ot(t){var e=t.alternate;if(!e){if(null===(e=nt(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return it(o),t;if(a===i)return it(o),e;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,s=o.child;s;){if(s===n){u=!0,n=o,i=a;break}if(s===i){u=!0,i=o,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,i=o;break}if(s===i){u=!0,i=a,n=o;break}s=s.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}function at(t){if(!(t=ot(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ut(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}function st(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ct(t,e){switch(t){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":Zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(e.pointerId)}}function lt(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=st(e,n,r,i,o),null!==e&&null!==(e=Ce(e))&&Fo(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ft(t,e,n,r,i){switch(e){case"focusin":return $o=lt($o,t,e,n,r,i),!0;case"dragenter":return Jo=lt(Jo,t,e,n,r,i),!0;case"mouseover":return Xo=lt(Xo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zo.set(o,lt(Zo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ta.set(o,lt(ta.get(o)||null,t,e,n,r,i)),!0}return!1}function ht(t){var e=Pe(t.target);if(null!==e){var n=nt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=rt(n)))return t.blockedOn=e,void zo(t.lanePriority,function(){Hi.unstable_runWithPriority(t.priority,function(){Bo(n)})})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function dt(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lt(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return e=Ce(n),null!==e&&Fo(e),t.blockedOn=n,!1;e.shift()}return!0}function pt(t,e,n){dt(t)&&n.delete(e)}function yt(){for(Qo=!1;0<Yo.length;){var t=Yo[0];if(null!==t.blockedOn){t=Ce(t.blockedOn),null!==t&&Vo(t);break}for(var e=t.targetContainers;0<e.length;){var n=Lt(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&Yo.shift()}null!==$o&&dt($o)&&($o=null),null!==Jo&&dt(Jo)&&(Jo=null),null!==Xo&&dt(Xo)&&(Xo=null),Zo.forEach(pt),ta.forEach(pt)}function vt(t,e){t.blockedOn===e&&(t.blockedOn=null,Qo||(Qo=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,yt)))}function mt(t){function e(e){return vt(e,t)}if(0<Yo.length){vt(Yo[0],t);for(var n=1;n<Yo.length;n++){var r=Yo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==$o&&vt($o,t),null!==Jo&&vt(Jo,t),null!==Xo&&vt(Xo,t),Zo.forEach(e),ta.forEach(e),n=0;n<ea.length;n++)r=ea[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ea.length&&(n=ea[0],null===n.blockedOn);)ht(n),null===n.blockedOn&&ea.shift()}function gt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function bt(t){if(ia[t])return ia[t];if(!ra[t])return t;var e,n=ra[t];for(e in n)if(n.hasOwnProperty(e)&&e in oa)return ia[t]=n[e];return t}function _t(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),fa.set(r,e),la.set(r,o),i(o,[r])}}function wt(t){if(0!==(1&t))return va=15,1;if(0!==(2&t))return va=14,2;if(0!==(4&t))return va=13,4;var e=24&t;return 0!==e?(va=12,e):0!==(32&t)?(va=11,32):0!==(e=192&t)?(va=10,e):0!==(256&t)?(va=9,256):0!==(e=3584&t)?(va=8,e):0!==(4096&t)?(va=7,4096):0!==(e=4186112&t)?(va=6,e):0!==(e=62914560&t)?(va=5,e):67108864&t?(va=4,67108864):0!==(134217728&t)?(va=3,134217728):0!==(e=805306368&t)?(va=2,e):0!==(1073741824&t)?(va=1,1073741824):(va=8,t)}function Et(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ot(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,t))}}function It(t,e){var n=t.pendingLanes;if(0===n)return va=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,u=t.pingedLanes;if(0!==o)r=o,i=va=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=wt(s),i=va):0!==(u&=o)&&(r=wt(u),i=va)}else o=n&~a,0!==o?(r=wt(o),i=va):0!==u&&(r=wt(u),i=va);if(0===r)return 0;if(r=31-ma(r),r=n&((0>r?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(wt(e),i<=va)return e;va=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)n=31-ma(e),i=1<<n,r|=t[n],e&=~i;return r}function St(t){return t=-1073741825&t.pendingLanes,0!==t?t:1073741824&t?1073741824:0}function kt(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Tt(24&~e),0===t?kt(10,e):t;case 10:return t=Tt(192&~e),0===t?kt(8,e):t;case 8:return t=Tt(3584&~e),0===t&&0===(t=Tt(4186112&~e))&&(t=512),t;case 2:return e=Tt(805306368&~e),0===e&&(e=268435456),e}throw Error(r(358,t))}function Tt(t){return t&-t}function At(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pt(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-ma(e),t[e]=n}function Ct(t){return 0===t?32:31-(ga(t)/ba|0)|0}function Dt(t,e,n,r){Ro||Y();var i=xt,o=Ro;Ro=!0;try{Q(i,t,e,n,r)}finally{(Ro=o)||$()}}function Nt(t,e,n,r){wa(_a,xt.bind(null,t,e,n,r))}function xt(t,e,n,r){if(Ea){var i;if((i=0===(4&e))&&0<Yo.length&&-1<na.indexOf(t))t=st(null,t,e,n,r),Yo.push(t);else{var o=Lt(t,e,n,r);if(null===o)i&&ct(t,r);else{if(i){if(-1<na.indexOf(t))return t=st(o,t,e,n,r),void Yo.push(t);if(ft(o,t,e,n,r))return;ct(t,r)}me(t,e,r,null,n)}}}}function Lt(t,e,n,r){var i=q(r);if(null!==(i=Pe(i))){var o=nt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=rt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return me(t,e,r,i,n),null}function Rt(){if(Sa)return Sa;var t,e,n=Ia,r=n.length,i="value"in Oa?Oa.value:Oa.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Sa=i.slice(t,1<e?1-e:void 0)}function jt(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Mt(){return!0}function Ut(){return!1}function Vt(t){function e(e,n,r,i,o){this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Mt:Ut,this.isPropagationStopped=Ut,this}return Ki(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Mt)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Mt)},persist:function(){},isPersistent:Mt}),e}function Ft(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Wa[t])&&!!e[t]}function Bt(){return Ft}function zt(t,e){switch(t){case"keyup":return-1!==eu.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qt(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function Wt(t,e){switch(t){case"compositionend":return qt(e);case"keypress":return 32!==e.which?null:(uu=!0,au);case"textInput":return t=e.data,t===au&&uu?null:t;default:return null}}function Kt(t,e){if(su)return"compositionend"===t||!nu&&zt(t,e)?(t=Rt(),Sa=Ia=Oa=null,su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ou&&"ko"!==e.locale?null:e.data;default:return null}}function Ht(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!cu[t.type]:"textarea"===e}function Gt(t,e,n,r){K(r),e=be(e,"onChange"),0<e.length&&(n=new Ta("onChange","change",null,n,r),t.push({event:n,listeners:e}))}function Qt(t){he(t,0)}function Yt(t){if(w(De(t)))return t}function $t(t,e){if("change"===t)return e}function Jt(){lu&&(lu.detachEvent("onpropertychange",Xt),fu=lu=null)}function Xt(t){if("value"===t.propertyName&&Yt(fu)){var e=[];if(Gt(e,fu,t,q(t)),t=Qt,Ro)t(e);else{Ro=!0;try{G(t,e)}finally{Ro=!1,$()}}}}function Zt(t,e,n){"focusin"===t?(Jt(),lu=e,fu=n,lu.attachEvent("onpropertychange",Xt)):"focusout"===t&&Jt()}function te(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yt(fu)}function ee(t,e){if("click"===t)return Yt(e)}function ne(t,e){if("input"===t||"change"===t)return Yt(e)}function re(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}function ie(t,e){if(vu(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!mu.call(e,n[r])||!vu(t[n[r]],e[n[r]]))return!1;return!0}function oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ae(t,e){var n=oe(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=oe(n)}}function ue(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ue(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function se(){for(var t=window,e=E();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;t=e.contentWindow,e=E(t.document)}return e}function ce(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function le(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Eu||null==bu||bu!==E(r)||(r=bu,"selectionStart"in r&&ce(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wu&&ie(wu,r)||(wu=r,r=be(_u,"onSelect"),0<r.length&&(e=new Ta("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bu)))}function fe(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,et(r,e,void 0,t),t.currentTarget=null}function he(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break t;fe(i,u,c),o=s}else for(a=0;a<r.length;a++){if(u=r[a],s=u.instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break t;fe(i,u,c),o=s}}}if(Ko)throw t=Ho,Ko=!1,Ho=null,t}function de(t,e){var n=xe(e),r=t+"__bubble";n.has(r)||(ve(e,t,2,!1),n.add(r))}function pe(t){t[Du]||(t[Du]=!0,Gi.forEach(function(e){Cu.has(e)||ye(e,!1,t,null),ye(e,!0,t,null)}))}function ye(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Cu.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=xe(o),u=t+"__"+(e?"capture":"bubble");a.has(u)||(e&&(i|=4),ve(o,t,i,e),a.add(u))}function ve(t,e,n,r){var i=fa.get(e);switch(void 0===i?2:i){case 0:i=Dt;break;case 1:i=Nt;break;default:i=xt}n=i.bind(null,e,n,t),i=void 0,!Mo||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function me(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=Pe(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue t}u=u.parentNode}}r=r.return}J(function(){var r=o,i=q(n),a=[];t:{var u=la.get(t);if(void 0!==u){var s=Ta,c=t;switch(t){case"keypress":if(0===jt(n))break t;case"keydown":case"keyup":s=Ha;break;case"focusin":c="focus",s=Ra;break;case"focusout":c="blur",s=Ra;break;case"beforeblur":case"afterblur":s=Ra;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=$a;break;case aa:case ua:case sa:s=Ma;break;case ca:s=Xa;break;case"scroll":s=Pa;break;case"wheel":s=tu;break;case"copy":case"cut":case"paste":s=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Qa}var l=0!==(4&e),f=!l&&"scroll"===t,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){d=p;var y=d.stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&null!=(y=X(p,h))&&l.push(ge(p,y,d))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&e)){if(u="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t,(!u||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Pe(c)&&!c[Fu])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(c=n.relatedTarget||n.toElement,s=r,null!==(c=c?Pe(c):null)&&(f=nt(c),c!==f||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=Da,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(l=Qa,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:De(s),d=null==c?u:De(c),u=new l(y,p+"leave",s,n,i),u.target=f,u.relatedTarget=d,y=null,Pe(i)===r&&(l=new l(h,p+"enter",c,n,i),l.target=d,l.relatedTarget=f,y=l),f=y,s&&c)t:{for(l=s,h=c,p=0,d=l;d;d=_e(d))p++;for(d=0,y=h;y;y=_e(y))d++;for(;0<p-d;)l=_e(l),p--;for(;0<d-p;)h=_e(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break t;l=_e(l),h=_e(h)}l=null}else l=null;null!==s&&we(a,u,s,l,!1),null!==c&&null!==f&&we(a,f,c,l,!0)}if(u=r?De(r):window,"select"===(s=u.nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=$t;else if(Ht(u))if(hu)v=ne;else{v=te;var m=Zt}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=ee);switch(v&&(v=v(t,r))?Gt(a,v,n,i):(m&&m(t,u,r),"focusout"===t&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&A(u,"number",u.value)),m=r?De(r):window,t){case"focusin":(Ht(m)||"true"===m.contentEditable)&&(bu=m,_u=r,wu=null);break;case"focusout":wu=_u=bu=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,le(a,n,i);break;case"selectionchange":if(gu)break;case"keydown":case"keyup":le(a,n,i)}var g;if(nu)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else su?zt(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(ou&&"ko"!==n.locale&&(su||"onCompositionStart"!==b?"onCompositionEnd"===b&&su&&(g=Rt()):(Oa=i,Ia="value"in Oa?Oa.value:Oa.textContent,su=!0)),m=be(r,b),0<m.length&&(b=new Ba(b,t,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=qt(n))&&(b.data=g))),(g=iu?Wt(t,n):Kt(t,n))&&(r=be(r,"onBeforeInput"),0<r.length&&(i=new Ba("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}he(a,e)})}function ge(t,e,n){return{instance:t,listener:e,currentTarget:n}}function be(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=X(t,n),null!=o&&r.unshift(ge(t,o,i)),null!=(o=X(t,e))&&r.push(ge(t,o,i))),t=t.return}return r}function _e(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function we(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=X(n,o))&&a.unshift(ge(n,s,u)):i||null!=(s=X(n,o))&&a.push(ge(n,s,u))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Ee(){}function Oe(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ie(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Se(t){1===t.nodeType?t.textContent="":9===t.nodeType&&null!=(t=t.body)&&(t.textContent="")}function ke(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Te(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function Ae(t){return{$$typeof:mo,toString:t,valueOf:t}}function Pe(t){var e=t[Uu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fu]||n[Uu]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Te(t);null!==t;){if(n=t[Uu])return n;t=Te(t)}return e}t=n,n=t.parentNode}return null}function Ce(t){return t=t[Uu]||t[Fu],!t||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function De(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function Ne(t){return t[Vu]||null}function xe(t){var e=t[Bu];return void 0===e&&(e=t[Bu]=new Set),e}function Le(t){return{current:t}}function Re(t){0>qu||(t.current=zu[qu],zu[qu]=null,qu--)}function je(t,e){qu++,zu[qu]=t.current,t.current=e}function Me(t,e){var n=t.type.contextTypes;if(!n)return Wu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ue(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ve(){Re(Hu),Re(Ku)}function Fe(t,e,n){if(Ku.current!==Wu)throw Error(r(168));je(Ku,e),je(Hu,n)}function Be(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(r(108,v(e)||"Unknown",o));return Ki({},n,i)}function ze(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wu,Gu=Ku.current,je(Ku,t),je(Hu,Hu.current),!0}function qe(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=Be(t,e,Gu),i.__reactInternalMemoizedMergedChildContext=t,Re(Hu),Re(Ku),je(Ku,t)):Re(Hu),je(Hu,n)}function We(){switch(ns()){case rs:return 99;case is:return 98;case os:return 97;case as:return 96;case us:return 95;default:throw Error(r(332))}}function Ke(t){switch(t){case 99:return rs;case 98:return is;case 97:return os;case 96:return as;case 95:return us;default:throw Error(r(332))}}function He(t,e){return t=Ke(t),$u(t,e)}function Ge(t,e,n){return t=Ke(t),Ju(t,e,n)}function Qe(){if(null!==fs){var t=fs;fs=null,Xu(t)}Ye()}function Ye(){if(!hs&&null!==ls){hs=!0;var t=0;try{var e=ls;He(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),ls=null}catch(e){throw null!==ls&&(ls=ls.slice(t+1)),Ju(rs,Qe),e}finally{hs=!1}}}function $e(t,e){if(t&&t.defaultProps){e=Ki({},e),t=t.defaultProps;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}return e}function Je(){bs=gs=ms=null}function Xe(t){var e=vs.current;Re(vs),t.type._context._currentValue=e}function Ze(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function tn(t,e){ms=t,bs=gs=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Qs=!0),t.firstContext=null)}function en(t,e){if(bs!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(bs=t,e=1073741823),e={context:t,observedBits:e,next:null},null===gs){if(null===ms)throw Error(r(308));gs=e,ms.dependencies={lanes:0,firstContext:e,responders:null}}else gs=gs.next=e;return t._currentValue}function nn(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function an(t,e){if(null!==(t=t.updateQueue)){t=t.shared;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function un(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}t=n.lastBaseUpdate,null===t?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sn(t,e,n,r){var i=t.updateQueue;_s=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===a?o=c:a.next=c,a=s;var l=t.alternate;if(null!==l){l=l.updateQueue;var f=l.lastBaseUpdate;f!==a&&(null===f?l.firstBaseUpdate=c:f.next=c,l.lastBaseUpdate=s)}}if(null!==o){for(f=i.baseState,a=0,l=c=s=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==l&&(l=l.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var d=t,p=o;switch(u=e,h=n,p.tag){case 1:if("function"===typeof(d=p.payload)){f=d.call(h,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(d=p.payload,null===(u="function"===typeof d?d.call(h,f,u):d)||void 0===u)break t;f=Ki({},f,u);break t;case 2:_s=!0}}null!==o.callback&&(t.flags|=32,u=i.effects,null===u?i.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,a|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,fc|=a,t.lanes=a,t.memoizedState=f}}function cn(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(r(191,o));o.call(i)}}}function ln(t,e,n,r){e=t.memoizedState,n=n(r,e),n=null===n||void 0===n?e:Ki({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}function fn(t,e,n,r,i,o,a){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ie(n,r)||!ie(i,o))}function hn(t,e,n){var r=!1,i=Wu,o=e.contextType;return"object"===typeof o&&null!==o?o=en(o):(i=Ue(e)?Gu:Ku.current,r=e.contextTypes,o=(r=null!==r&&void 0!==r)?Me(t,i):Wu),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Es,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function dn(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Es.enqueueReplaceState(e,e.state,null)}function pn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ws,nn(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=en(o):(o=Ue(e)?Gu:Ku.current,i.context=Me(t,o)),sn(t,n,i,r),i.state=t.memoizedState,o=e.getDerivedStateFromProps,"function"===typeof o&&(ln(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Es.enqueueReplaceState(i,i.state,null),sn(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}function yn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===ws&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function vn(t,e){if("textarea"!==t.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function mn(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return t=ki(t,e),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.flags=2,n):r):(e.flags=2,n):n}function u(e){return t&&null===e.alternate&&(e.flags=2),e}function s(t,e,n,r){return null===e||6!==e.tag?(e=Ci(n,t.mode,r),e.return=t,e):(e=o(e,n),e.return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?(r=o(e,n.props),r.ref=yn(t,e,n),r.return=t,r):(r=Ti(n.type,n.key,n.props,null,t.mode,r),r.ref=yn(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Di(n,t.mode,r),e.return=t,e):(e=o(e,n.children||[]),e.return=t,e)}function f(t,e,n,r,i){return null===e||7!==e.tag?(e=Ai(n,t.mode,r,i),e.return=t,e):(e=o(e,n),e.return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return e=Ci(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case ro:return n=Ti(e.type,e.key,e.props,null,t.mode,n),n.ref=yn(t,null,e),n.return=t,n;case io:return e=Di(e,t.mode,n),e.return=t,e}if(Os(e)||h(e))return e=Ai(e,t.mode,n,null),e.return=t,e;vn(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ro:return n.key===i?n.type===oo?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case io:return n.key===i?l(t,e,n,r):null}if(Os(n)||h(n))return null!==i?null:f(t,e,n,r,null);vn(t,n)}return null}function y(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,s(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ro:return t=t.get(null===r.key?n:r.key)||null,r.type===oo?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case io:return t=t.get(null===r.key?n:r.key)||null,l(e,t,r,i)}if(Os(r)||h(r))return t=t.get(n)||null,f(e,t,r,i,null);vn(e,r)}return null}function m(r,o,u,s){for(var c=null,l=null,f=o,h=o=0,v=null;null!==f&&h<u.length;h++){f.index>h?(v=f,f=null):v=f.sibling;var m=p(r,f,u[h],s);if(null===m){null===f&&(f=v);break}t&&f&&null===m.alternate&&e(r,f),o=a(m,o,h),null===l?c=m:l.sibling=m,l=m,f=v}if(h===u.length)return n(r,f),c;if(null===f){for(;h<u.length;h++)null!==(f=d(r,u[h],s))&&(o=a(f,o,h),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(r,f);h<u.length;h++)null!==(v=y(f,r,h,u[h],s))&&(t&&null!==v.alternate&&f.delete(null===v.key?h:v.key),o=a(v,o,h),null===l?c=v:l.sibling=v,l=v);return t&&f.forEach(function(t){return e(r,t)}),c}function g(o,u,s,c){var l=h(s);if("function"!==typeof l)throw Error(r(150));if(null==(s=l.call(s)))throw Error(r(151));for(var f=l=null,v=u,m=u=0,g=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=p(o,v,b.value,c);if(null===_){null===v&&(v=g);break}t&&v&&null===_.alternate&&e(o,v),u=a(_,u,m),null===f?l=_:f.sibling=_,f=_,v=g}if(b.done)return n(o,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=d(o,b.value,c))&&(u=a(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=i(o,v);!b.done;m++,b=s.next())null!==(b=y(v,o,m,b.value,c))&&(t&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b);return t&&v.forEach(function(t){return e(o,t)}),l}return function(t,i,a,s){var c="object"===typeof a&&null!==a&&a.type===oo&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ro:t:{for(l=a.key,c=i;null!==c;){if(c.key===l){switch(c.tag){case 7:if(a.type===oo){n(t,c.sibling),i=o(c,a.props.children),i.return=t,t=i;break t}break;default:if(c.elementType===a.type){n(t,c.sibling),i=o(c,a.props),i.ref=yn(t,c,a),i.return=t,t=i;break t}}n(t,c);break}e(t,c),c=c.sibling}a.type===oo?(i=Ai(a.props.children,t.mode,s,a.key),i.return=t,t=i):(s=Ti(a.type,a.key,a.props,null,t.mode,s),s.ref=yn(t,i,a),s.return=t,t=s)}return u(t);case io:t:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(t,i.sibling),i=o(i,a.children||[]),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=Di(a,t.mode,s),i.return=t,t=i}return u(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(t,i.sibling),i=o(i,a),i.return=t,t=i):(n(t,i),i=Ci(a,t.mode,s),i.return=t,t=i),u(t);if(Os(a))return m(t,i,a,s);if(h(a))return g(t,i,a,s);if(l&&vn(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,v(t.type)||"Component"))}return n(t,i)}}function gn(t){if(t===ks)throw Error(r(174));return t}function bn(t,e){switch(je(Ps,e),je(As,t),je(Ts,ks),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M(e,t)}Re(Ts),je(Ts,e)}function _n(){Re(Ts),Re(As),Re(Ps)}function wn(t){gn(Ps.current);var e=gn(Ts.current),n=M(e,t.type);e!==n&&(je(As,t),je(Ts,n))}function En(t){As.current===t&&(Re(Ts),Re(As))}function On(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function In(t,e){var n=Oi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Sn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function kn(t){if(xs){var e=Ns;if(e){var n=e;if(!Sn(t,e)){if(!(e=ke(n.nextSibling))||!Sn(t,e))return t.flags=-1025&t.flags|2,xs=!1,void(Ds=t);In(Ds,n)}Ds=t,Ns=ke(e.firstChild)}else t.flags=-1025&t.flags|2,xs=!1,Ds=t}}function Tn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ds=t}function An(t){if(t!==Ds)return!1;if(!xs)return Tn(t),xs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ie(e,t.memoizedProps))for(e=Ns;e;)In(t,e),e=ke(e.nextSibling);if(Tn(t),13===t.tag){if(t=t.memoizedState,!(t=null!==t?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ns=ke(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ns=null}}else Ns=Ds?ke(t.stateNode.nextSibling):null;return!0}function Pn(){Ns=Ds=null,xs=!1}function Cn(){for(var t=0;t<Ls.length;t++)Ls[t]._workInProgressVersionPrimary=null;Ls.length=0}function Dn(){throw Error(r(321))}function Nn(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vu(t[n],e[n]))return!1;return!0}function xn(t,e,n,i,o,a){if(Ms=a,Us=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rs.current=null===t||null===t.memoizedState?Ws:Ks,t=n(i,o),zs){a=0;do{if(zs=!1,!(25>a))throw Error(r(301));a+=1,Fs=Vs=null,e.updateQueue=null,Rs.current=Hs,t=n(i,o)}while(zs)}if(Rs.current=qs,e=null!==Vs&&null!==Vs.next,Ms=0,Fs=Vs=Us=null,Bs=!1,e)throw Error(r(300));return t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fs?Us.memoizedState=Fs=t:Fs=Fs.next=t,Fs}function Rn(){if(null===Vs){var t=Us.alternate;t=null!==t?t.memoizedState:null}else t=Vs.next;var e=null===Fs?Us.memoizedState:Fs.next;if(null!==e)Fs=e,Vs=t;else{if(null===t)throw Error(r(310));Vs=t,t={memoizedState:Vs.memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===Fs?Us.memoizedState=Fs=t:Fs=Fs.next=t}return Fs}function jn(t,e){return"function"===typeof e?e(t):e}function Mn(t){var e=Rn(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=Vs,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var s=u=a=null,c=o;do{var l=c.lane;if((Ms&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===t?c.eagerState:t(i,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=i):s=s.next=f,Us.lanes|=l,fc|=l}c=c.next}while(null!==c&&c!==o);null===s?a=i:s.next=u,vu(i,e.memoizedState)||(Qs=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=s,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function Un(t){var e=Rn(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(null!==o){n.pending=null;var u=o=o.next;do{a=t(a,u.action),u=u.next}while(u!==o);vu(a,e.memoizedState)||(Qs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Vn(t,e,n){var i=e._getVersion;i=i(e._source);var o=e._workInProgressVersionPrimary;if(null!==o?t=o===i:(t=t.mutableReadLanes,(t=(Ms&t)===t)&&(e._workInProgressVersionPrimary=i,Ls.push(e))),t)return n(e._source);throw Ls.push(e),Error(r(350))}function Fn(t,e,n,i){var o=rc;if(null===o)throw Error(r(349));var a=e._getVersion,u=a(e._source),s=Rs.current,c=s.useState(function(){return Vn(o,e,n)}),l=c[1],f=c[0];c=Fs;var h=t.memoizedState,d=h.refs,p=d.getSnapshot,y=h.source;h=h.subscribe;var v=Us;return t.memoizedState={refs:d,source:e,subscribe:i},s.useEffect(function(){d.getSnapshot=n,d.setSnapshot=l;var t=a(e._source);if(!vu(u,t)){t=n(e._source),vu(f,t)||(l(t),t=Kr(v),o.mutableReadLanes|=t&o.pendingLanes),t=o.mutableReadLanes,o.entangledLanes|=t;for(var r=o.entanglements,i=t;0<i;){var s=31-ma(i),c=1<<s;r[s]|=t,i&=~c}}},[n,e,i]),s.useEffect(function(){return i(e._source,function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=Kr(v);o.mutableReadLanes|=r&o.pendingLanes}catch(t){n(function(){throw t})}})},[e,i]),vu(p,n)&&vu(y,e)&&vu(h,i)||(t={pending:null,dispatch:null,lastRenderedReducer:jn,lastRenderedState:f},t.dispatch=l=rr.bind(null,Us,t),c.queue=t,c.baseQueue=null,f=Vn(o,e,n),c.memoizedState=c.baseState=f),f}function Bn(t,e,n){return Fn(Rn(),t,e,n)}function zn(t){var e=Ln();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:jn,lastRenderedState:t},t=t.dispatch=rr.bind(null,Us,t),[e.memoizedState,t]}function qn(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Us.updateQueue,null===e?(e={lastEffect:null},Us.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,null===n?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wn(t){var e=Ln();return t={current:t},e.memoizedState=t}function Kn(){return Rn().memoizedState}function Hn(t,e,n,r){var i=Ln();Us.flags|=t,i.memoizedState=qn(1|e,n,void 0,void 0===r?null:r)}function Gn(t,e,n,r){var i=Rn();r=void 0===r?null:r;var o=void 0;if(null!==Vs){var a=Vs.memoizedState;if(o=a.destroy,null!==r&&Nn(r,a.deps))return void qn(e,n,o,r)}Us.flags|=t,i.memoizedState=qn(1|e,n,o,r)}function Qn(t,e){return Hn(516,4,t,e)}function Yn(t,e){return Gn(516,4,t,e)}function $n(t,e){return Gn(4,2,t,e)}function Jn(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xn(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Gn(4,2,Jn.bind(null,e,t),n)}function Zn(){}function tr(t,e){var n=Rn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Nn(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function er(t,e){var n=Rn();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Nn(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nr(t,e){var n=We();He(98>n?98:n,function(){t(!0)}),He(97<n?97:n,function(){var n=js.transition;js.transition=1;try{t(!1),e()}finally{js.transition=n}})}function rr(t,e,n){var r=Wr(),i=Kr(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Us||null!==a&&a===Us)zs=Bs=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var u=e.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,vu(s,u))return}catch(t){}Hr(t,i,r)}}function ir(t,e,n,r){e.child=null===t?Ss(e,null,n,r):Is(e,t.child,n,r)}function or(t,e,n,r,i){n=n.render;var o=e.ref;return tn(e,i),r=xn(t,e,n,r,o,i),null===t||Qs?(e.flags|=1,ir(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,wr(t,e,i))}function ar(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Ii(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(t=Ti(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ur(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:ie)(i,r)&&t.ref===e.ref)?wr(t,e,o):(e.flags|=1,t=ki(a,r),t.ref=e.ref,t.return=e,e.child=t)}function ur(t,e,n,r,i,o){if(null!==t&&ie(t.memoizedProps,r)&&t.ref===e.ref){if(Qs=!1,0===(o&i))return e.lanes=t.lanes,wr(t,e,o);0!==(16384&t.flags)&&(Qs=!0)}return lr(t,e,n,r,o)}function sr(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},ei(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ei(e,t),null;e.memoizedState={baseLanes:0},ei(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ei(e,r);return ir(t,e,i,n),e.child}function cr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function lr(t,e,n,r,i){var o=Ue(n)?Gu:Ku.current;return o=Me(e,o),tn(e,i),n=xn(t,e,n,r,o,i),null===t||Qs?(e.flags|=1,ir(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,wr(t,e,i))}function fr(t,e,n,r,i){if(Ue(n)){var o=!0;ze(e)}else o=!1;if(tn(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),hn(e,n,r),pn(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=en(c):(c=Ue(n)?Gu:Ku.current,c=Me(e,c));var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&dn(e,a,r,c),_s=!1;var h=e.memoizedState;a.state=h,sn(e,r,a,i),s=e.memoizedState,u!==r||h!==s||Hu.current||_s?("function"===typeof l&&(ln(e,n,l,r),s=e.memoizedState),(u=_s||fn(e,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,rn(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:$e(e.type,u),a.props=c,f=e.pendingProps,h=a.context,s=n.contextType,"object"===typeof s&&null!==s?s=en(s):(s=Ue(n)?Gu:Ku.current,s=Me(e,s));var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&dn(e,a,r,s),_s=!1,h=e.memoizedState,a.state=h,sn(e,r,a,i);var p=e.memoizedState;u!==f||h!==p||Hu.current||_s?("function"===typeof d&&(ln(e,n,d,r),p=e.memoizedState),(c=_s||fn(e,n,c,r,h,p,s))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return hr(t,e,n,r,o,i)}function hr(t,e,n,r,i,o){cr(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&qe(e,n,!1),wr(t,e,o);r=e.stateNode,Gs.current=e;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Is(e,t.child,null,o),e.child=Is(e,null,u,o)):ir(t,e,u,o),e.memoizedState=r.state,i&&qe(e,n,!0),e.child}function dr(t){var e=t.stateNode;e.pendingContext?Fe(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fe(t,e.context,!1),bn(t,e.containerInfo)}function pr(t,e,n){var r,i=e.pendingProps,o=Cs.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),je(Cs,1&o),null===t?(void 0!==i.fallback&&kn(e),t=i.children,o=i.fallback,a?(t=yr(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ys,t):"number"===typeof i.unstable_expectedLoadTime?(t=yr(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ys,e.lanes=33554432,t):(n=Pi({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):(t.memoizedState,a?(i=mr(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ys,i):(n=vr(t,e,i.children,n),e.memoizedState=null,n))}function yr(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Pi(e,i,0,null),n=Ai(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function vr(t,e,n,r){var i=t.child;return t=i.sibling,n=ki(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function mr(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=u,a=n.lastEffect,null!==a?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ki(a,u),null!==t?r=ki(t,r):(r=Ai(r,o,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function gr(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Ze(t.return,e)}function br(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function _r(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ir(t,e,r.children,n),0!==(2&(r=Cs.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&gr(t,n);else if(19===t.tag)gr(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Cs,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)t=n.alternate,null!==t&&null===On(t)&&(i=n),n=n.sibling;n=i,null===n?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),br(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===On(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}br(e,!0,n,null,o,e.lastEffect);break;case"together":br(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function wr(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),fc|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}function Er(t,e){if(!xs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Or(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ue(e.type)&&Ve(),null;case 3:return _n(),Re(Hu),Re(Ku),Cn(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(An(e)?e.flags|=4:i.hydrate||(e.flags|=256)),ku(e),null;case 5:En(e);var o=gn(Ps.current);if(n=e.type,null!==t&&null!=e.stateNode)Tu(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(null===e.stateNode)throw Error(r(166));return null}if(t=gn(Ts.current),An(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[Uu]=e,i[Vu]=a,n){case"dialog":de("cancel",i),de("close",i);break;case"iframe":case"object":case"embed":de("load",i);break;case"video":case"audio":for(t=0;t<Pu.length;t++)de(Pu[t],i);break;case"source":de("error",i);break;case"img":case"image":case"link":de("error",i),de("load",i);break;case"details":de("toggle",i);break;case"input":I(i,a),de("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},de("invalid",i);break;case"textarea":x(i,a),de("invalid",i)}B(n,a),t=null;for(var u in a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"===typeof o?i.textContent!==o&&(t=["children",o]):"number"===typeof o&&i.textContent!==""+o&&(t=["children",""+o]):Qi.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&de("scroll",i));switch(n){case"input":_(i),T(i,a,!0);break;case"textarea":_(i),R(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Ee)}i=t,e.updateQueue=i,null!==i&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ko.html&&(t=j(n)),t===ko.html?"script"===n?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),"select"===n&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[Uu]=e,t[Vu]=i,Su(t,e,!1,!1),e.stateNode=t,u=z(n,i),n){case"dialog":de("cancel",t),de("close",t),o=i;break;case"iframe":case"object":case"embed":de("load",t),o=i;break;case"video":case"audio":for(o=0;o<Pu.length;o++)de(Pu[o],t);o=i;break;case"source":de("error",t),o=i;break;case"img":case"image":case"link":de("error",t),de("load",t),o=i;break;case"details":de("toggle",t),o=i;break;case"input":I(t,i),o=O(t,i),de("invalid",t);break;case"option":o=C(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=Ki({},i,{value:void 0}),de("invalid",t);break;case"textarea":x(t,i),o=N(t,i),de("invalid",t);break;default:o=i}B(n,o);var s=o;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];"style"===a?F(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&To(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&U(t,c):"number"===typeof c&&U(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Qi.hasOwnProperty(a)?null!=c&&"onScroll"===a&&de("scroll",t):null!=c&&f(t,a,c,u))}switch(n){case"input":_(t),T(t,i,!1);break;case"textarea":_(t),R(t);break;case"option":null!=i.value&&t.setAttribute("value",""+m(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,null!=a?D(t,!!i.multiple,a,!1):null!=i.defaultValue&&D(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Ee)}Oe(n,i)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Au(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));n=gn(Ps.current),gn(Ts.current),An(e)?(i=e.stateNode,n=e.memoizedProps,i[Uu]=e,i.nodeValue!==n&&(e.flags|=4)):(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i),i[Uu]=e,e.stateNode=i)}return null;case 13:return Re(Cs),(i=e.memoizedState,0!==(64&e.flags))?(e.lanes=n,e):(i=null!==i,n=!1,null===t?void 0!==e.memoizedProps.fallback&&An(e):n=null!==t.memoizedState,i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Cs.current)?0===sc&&(sc=3):(0!==sc&&3!==sc||(sc=4),null===rc||0===(134217727&fc)&&0===(134217727&hc)||$r(rc,oc))),(i||n)&&(e.flags|=4),null);case 4:return _n(),ku(e),null===t&&pe(e.stateNode.containerInfo),null;case 10:return Xe(e),null;case 17:return Ue(e.type)&&Ve(),null;case 19:if(Re(Cs),null===(i=e.memoizedState))return null;if(a=0!==(64&e.flags),null===(u=i.rendering))if(a)Er(i,!1);else{if(0!==sc||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=On(t))){for(e.flags|=64,Er(i,!1),a=u.updateQueue,null!==a&&(e.updateQueue=a,e.flags|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;null!==n;)a=n,t=i,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,u=a.alternate,null===u?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Cs,1&Cs.current|2),e.child}t=t.sibling}null!==i.tail&&ps()>vc&&(e.flags|=64,a=!0,Er(i,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=On(u))){if(e.flags|=64,a=!0,n=t.updateQueue,null!==n&&(e.updateQueue=n,e.flags|=4),Er(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate&&!xs)return e=e.lastEffect=i.lastEffect,null!==e&&(e.nextEffect=null),null}else 2*ps()-i.renderingStartTime>vc&&1073741824!==n&&(e.flags|=64,a=!0,Er(i,!1),e.lanes=33554432);i.isBackwards?(u.sibling=e.child,e.child=u):(n=i.last,null!==n?n.sibling=u:e.child=u,i.last=u)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=ps(),n.sibling=null,e=Cs.current,je(Cs,a?1&e|2:1&e),n):null;case 23:case 24:return ni(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(e.flags|=4),null}throw Error(r(156,e.tag))}function Ir(t){switch(t.tag){case 1:Ue(t.type)&&Ve();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(_n(),Re(Hu),Re(Ku),Cn(),0!==(64&(e=t.flags)))throw Error(r(285));return t.flags=-4097&e|64,t;case 5:return En(t),null;case 13:return Re(Cs),e=t.flags,4096&e?(t.flags=-4097&e|64,t):null;case 19:return Re(Cs),null;case 4:return _n(),null;case 10:return Xe(t),null;case 23:case 24:return ni(),null;default:return null}}function Sr(t,e){try{var n="",r=e;do{n+=y(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function kr(t,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}function Tr(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gc||(gc=!0,bc=r),kr(t,e)},n}function Ar(t,e,n){n=on(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return kr(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===_c?_c=new Set([this]):_c.add(this),kr(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}function Pr(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){bi(t,e)}else e.current=null}function Cr(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:$e(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Se(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Dr(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,null!==(e=null!==e?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=n.updateQueue,null!==(e=null!==e?e.lastEffect:null)){t=e=e.next;do{var o=t;i=o.next,o=o.tag,0!==(4&o)&&0!==(1&o)&&(vi(n,t),yi(n,t)),t=i}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:$e(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&cn(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}cn(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Oe(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&mt(n));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Nr(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r=r.style,"function"===typeof r.setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=V("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function xr(t,e){if(Yu&&"function"===typeof Yu.onCommitFiberUnmount)try{Yu.onCommitFiberUnmount(Qu,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))vi(e,n);else{r=e;try{i()}catch(t){bi(r,t)}}n=n.next}while(n!==t)}break;case 1:if(Pr(e),t=e.stateNode,"function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){bi(e,t)}break;case 5:Pr(e);break;case 4:Vr(t,e)}}function Lr(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Rr(t){return 5===t.tag||3===t.tag||4===t.tag}function jr(t){t:{for(var e=t.return;null!==e;){if(Rr(e))break t;e=e.return}throw Error(r(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.flags&&(U(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Rr(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}i?Mr(t,n,e):Ur(t,n,e)}function Mr(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ee));else if(4!==r&&null!==(t=t.child))for(Mr(t,e,n),t=t.sibling;null!==t;)Mr(t,e,n),t=t.sibling}function Ur(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Ur(t,e,n),t=t.sibling;null!==t;)Ur(t,e,n),t=t.sibling}function Vr(t,e){for(var n,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(r(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var u=t,s=o,c=s;;)if(xr(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break t;for(;null===c.sibling;){if(null===c.return||c.return===s)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(u=n,s=o.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(xr(t,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return,4===o.tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Fr(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(t=i.destroy,i.destroy=void 0,void 0!==t&&t()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){i=e.memoizedProps;var o=null!==t?t.memoizedProps:i;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[Vu]=i,"input"===t&&"radio"===i.type&&null!=i.name&&S(n,i),z(t,o),e=z(t,i),o=0;o<a.length;o+=2){var u=a[o],s=a[o+1];"style"===u?F(n,s):"dangerouslySetInnerHTML"===u?To(n,s):"children"===u?U(n,s):f(n,u,s,e)}switch(t){case"input":k(n,i);break;case"textarea":L(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,a=i.value,null!=a?D(n,!!i.multiple,a,!1):t!==!!i.multiple&&(null!=i.defaultValue?D(n,!!i.multiple,i.defaultValue,!0):D(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(r(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return n=e.stateNode,void(n.hydrate&&(n.hydrate=!1,mt(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(yc=ps(),Nr(e.child,!0)),void Br(e);case 19:return void Br(e);case 17:return;case 23:case 24:return void Nr(e,null!==e.memoizedState)}throw Error(r(163))}function Br(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xs),e.forEach(function(e){var r=wi.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}function zr(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}function qr(){vc=ps()+500}function Wr(){return 0!==(48&nc)?ps():-1!==Pc?Pc:Pc=ps()}function Kr(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===We()?1:2;if(0===Cc&&(Cc=lc),0!==ys.transition){0!==Dc&&(Dc=null!==pc?pc.pendingLanes:0),t=Cc;var e=4186112&~Dc;return e&=-e,0===e&&(t=4186112&~t,0===(e=t&-t)&&(e=8192)),e}return t=We(),0!==(4&nc)&&98===t?t=kt(12,Cc):(t=Et(t),t=kt(t,Cc)),t}function Hr(t,e,n){if(50<Tc)throw Tc=0,Ac=null,Error(r(185));if(null===(t=Gr(t,e)))return null;Pt(t,e,n),t===rc&&(hc|=e,4===sc&&$r(t,oc));var i=We();1===e?0!==(8&nc)&&0===(48&nc)?Jr(t):(Qr(t,n),0===nc&&(qr(),Qe())):(0===(4&nc)||98!==i&&99!==i||(null===kc?kc=new Set([t]):kc.add(t)),Qr(t,n)),pc=t}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,n=t.alternate,null!==n&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function Qr(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-ma(a),s=1<<u,c=o[u];if(-1===c){if(0===(s&r)||0!==(s&i)){c=e,wt(s);var l=va;o[u]=10<=l?c+250:6<=l?c+5e3:-1}}else c<=e&&(t.expiredLanes|=s);a&=~s}if(r=It(t,t===rc?oc:0),e=va,0===r)null!==n&&(n!==ss&&Xu(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==ss&&Xu(n)}15===e?(n=Jr.bind(null,t),null===ls?(ls=[n],fs=Ju(rs,Ye)):ls.push(n),n=ss):14===e?n=Ge(99,Jr.bind(null,t)):(n=Ot(e),n=Ge(n,Yr.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Yr(t){if(Pc=-1,Dc=Cc=0,0!==(48&nc))throw Error(r(327));var e=t.callbackNode;if(pi()&&t.callbackNode!==e)return null;var n=It(t,t===rc?oc:0);if(0===n)return null;var i=n,o=nc;nc|=16;var a=oi();for(rc===t&&oc===i||(qr(),ri(t,i));;)try{si();break}catch(e){ii(t,e)}if(Je(),tc.current=a,nc=o,null!==ic?i=0:(rc=null,oc=0,i=sc),0!==(lc&hc))ri(t,0);else if(0!==i){if(2===i&&(nc|=64,t.hydrate&&(t.hydrate=!1,Se(t.containerInfo)),0!==(n=St(t))&&(i=ai(t,n))),1===i)throw e=cc,ri(t,0),$r(t,n),Qr(t,ps()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(r(345));case 2:fi(t);break;case 3:if($r(t,n),(62914560&n)===n&&10<(i=yc+500-ps())){if(0!==It(t,0))break;if(((o=t.suspendedLanes)&n)!==n){Wr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Lu(fi.bind(null,t),i);break}fi(t);break;case 4:if($r(t,n),(4186112&n)===n)break;for(i=t.eventTimes,o=-1;0<n;){var u=31-ma(n);a=1<<u,u=i[u],u>o&&(o=u),n&=~a}if(n=o,n=ps()-n,10<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zs(n/1960))-n)){t.timeoutHandle=Lu(fi.bind(null,t),n);break}fi(t);break;case 5:fi(t);break;default:throw Error(r(329))}}return Qr(t,ps()),t.callbackNode===e?Yr.bind(null,t):null}function $r(t,e){for(e&=~dc,e&=~hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ma(e),r=1<<n;t[n]=-1,e&=~r}}function Jr(t){if(0!==(48&nc))throw Error(r(327));if(pi(),t===rc&&0!==(t.expiredLanes&oc)){var e=oc,n=ai(t,e);0!==(lc&hc)&&(e=It(t,e),n=ai(t,e))}else e=It(t,0),n=ai(t,e);if(0!==t.tag&&2===n&&(nc|=64,t.hydrate&&(t.hydrate=!1,Se(t.containerInfo)),0!==(e=St(t))&&(n=ai(t,e))),1===n)throw n=cc,ri(t,0),$r(t,e),Qr(t,ps()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t),Qr(t,ps()),null}function Xr(){if(null!==kc){var t=kc;kc=null,t.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Qr(t,ps())})}Qe()}function Zr(t,e){var n=nc;nc|=1;try{return t(e)}finally{0===(nc=n)&&(qr(),Qe())}}function ti(t,e){var n=nc;nc&=-2,nc|=8;try{return t(e)}finally{0===(nc=n)&&(qr(),Qe())}}function ei(t,e){je(uc,ac),ac|=e,lc|=e}function ni(){ac=uc.current,Re(uc)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Ru(n)),null!==ic)for(n=ic.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Ve();break;case 3:_n(),Re(Hu),Re(Ku),Cn();break;case 5:En(r);break;case 4:_n();break;case 13:case 19:Re(Cs);break;case 10:Xe(r);break;case 23:case 24:ni()}n=n.return}rc=t,ic=ki(t.current,null),oc=ac=lc=e,sc=0,cc=null,dc=hc=fc=0}function ii(t,e){for(;;){var n=ic;try{if(Je(),Rs.current=qs,Bs){for(var r=Us.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Bs=!1}if(Ms=0,Fs=Vs=Us=null,zs=!1,ec.current=null,null===n||null===n.return){sc=1,cc=e,ic=null;break}t:{var o=t,a=n.return,u=n,s=e;if(e=oc,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Cs.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=h.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=on(-1,1);b.tag=2,an(u,b)}u.lanes|=1;break t}s=void 0,u=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new Js,s=new Set,_.set(c,s)):void 0===(s=_.get(c))&&(s=new Set,_.set(c,s)),!s.has(u)){s.add(u);var w=_i.bind(null,o,c,u);c.then(w,w)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);s=Error((v(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sc&&(sc=2),s=Sr(s,u),h=a;do{switch(h.tag){case 3:o=s,h.flags|=4096,e&=-e,h.lanes|=e;un(h,Tr(h,o,e));break t;case 1:o=s;var E=h.type,O=h.stateNode;if(0===(64&h.flags)&&("function"===typeof E.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===_c||!_c.has(O)))){h.flags|=4096,e&=-e,h.lanes|=e;un(h,Ar(h,o,e));break t}}h=h.return}while(null!==h)}li(n)}catch(t){e=t,ic===n&&null!==n&&(ic=n=n.return);continue}break}}function oi(){var t=tc.current;return tc.current=qs,null===t?qs:t}function ai(t,e){var n=nc;nc|=16;var i=oi();for(rc===t&&oc===e||ri(t,e);;)try{ui();break}catch(e){ii(t,e)}if(Je(),nc=n,tc.current=i,null!==ic)throw Error(r(261));return rc=null,oc=0,sc}function ui(){for(;null!==ic;)ci(ic)}function si(){for(;null!==ic&&!Zu();)ci(ic)}function ci(t){var e=$s(t.alternate,t,ac);t.memoizedProps=t.pendingProps,null===e?li(t):ic=e,ec.current=null}function li(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=Or(n,e,ac)))return void(ic=n);if(n=e,24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ac)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=Ir(e)))return n.flags&=2047,void(ic=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(ic=e);ic=e=t}while(null!==e);0===sc&&(sc=5)}function fi(t){var e=We();return He(99,hi.bind(null,t,e)),null}function hi(t,e){do{pi()}while(null!==Ec);if(0!==(48&nc))throw Error(r(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null;var i=n.lanes|n.childLanes,o=i,a=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var u=t.eventTimes,s=t.expirationTimes;0<a;){var c=31-ma(a),l=1<<c;o[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==kc&&0===(24&i)&&kc.has(t)&&kc.delete(t),t===rc&&(ic=rc=null,oc=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(o=nc,nc|=32,ec.current=null,Nu=Ea,u=se(),ce(u)){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else t:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(t){s=null;break t}var f=0,h=-1,d=-1,p=0,y=0,v=u,m=null;e:for(;;){for(var g;v!==s||0!==a&&3!==v.nodeType||(h=f+a),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(g=v.firstChild);)m=v,v=g;for(;;){if(v===u)break e;if(m===s&&++p===a&&(h=f),m===c&&++y===l&&(d=f),null!==(g=v.nextSibling))break;v=m,m=v.parentNode}v=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;xu={focusedElem:u,selectionRange:s},Ea=!1,Nc=null,xc=!1,mc=i;do{try{di()}catch(t){if(null===mc)throw Error(r(330));bi(mc,t),mc=mc.nextEffect}}while(null!==mc);Nc=null,mc=i;do{try{for(u=t;null!==mc;){var b=mc.flags;if(16&b&&U(mc.stateNode,""),128&b){var _=mc.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:jr(mc),mc.flags&=-3;break;case 6:jr(mc),mc.flags&=-3,Fr(mc.alternate,mc);break;case 1024:mc.flags&=-1025;break;case 1028:mc.flags&=-1025,Fr(mc.alternate,mc);break;case 4:Fr(mc.alternate,mc);break;case 8:s=mc,Vr(u,s);var E=s.alternate;Lr(s),null!==E&&Lr(E)}mc=mc.nextEffect}}catch(t){if(null===mc)throw Error(r(330));bi(mc,t),mc=mc.nextEffect}}while(null!==mc);if(w=xu,_=se(),b=w.focusedElem,u=w.selectionRange,_!==b&&b&&b.ownerDocument&&ue(b.ownerDocument.documentElement,b)){null!==u&&ce(b)&&(_=u.start,w=u.end,void 0===w&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window,w.getSelection&&(w=w.getSelection(),s=b.textContent.length,E=Math.min(u.start,s),u=void 0===u.end?E:Math.min(u.end,s),!w.extend&&E>u&&(s=u,u=E,E=s),s=ae(b,E),a=ae(b,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(s.node,s.offset),w.removeAllRanges(),E>u?(w.addRange(_),w.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),w.addRange(_)))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)w=_[b],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}Ea=!!Nu,xu=Nu=null,t.current=n,mc=i;do{try{for(b=t;null!==mc;){var O=mc.flags;if(36&O&&Dr(b,mc.alternate,mc),128&O){_=void 0;var I=mc.ref;if(null!==I){var S=mc.stateNode;switch(mc.tag){case 5:_=S;break;default:_=S}"function"===typeof I?I(_):I.current=_}}mc=mc.nextEffect}}catch(t){if(null===mc)throw Error(r(330));bi(mc,t),mc=mc.nextEffect}}while(null!==mc);mc=null,cs(),nc=o}else t.current=n;if(wc)wc=!1,Ec=t,Oc=e;else for(mc=i;null!==mc;)e=mc.nextEffect,mc.nextEffect=null,8&mc.flags&&(O=mc,O.sibling=null,O.stateNode=null),mc=e;if(i=t.pendingLanes,0===i&&(_c=null),1===i?t===Ac?Tc++:(Tc=0,Ac=t):Tc=0,n=n.stateNode,Yu&&"function"===typeof Yu.onCommitFiberRoot)try{Yu.onCommitFiberRoot(Qu,n,void 0,64===(64&n.current.flags))}catch(t){}if(Qr(t,ps()),gc)throw gc=!1,t=bc,bc=null,t;return 0!==(8&nc)?null:(Qe(),null)}function di(){for(;null!==mc;){var t=mc.alternate;xc||null===Nc||(0!==(8&mc.flags)?ut(mc,Nc)&&(xc=!0):13===mc.tag&&zr(t,mc)&&ut(mc,Nc)&&(xc=!0));var e=mc.flags;0!==(256&e)&&Cr(t,mc),0===(512&e)||wc||(wc=!0,Ge(97,function(){return pi(),null})),mc=mc.nextEffect}}function pi(){if(90!==Oc){var t=97<Oc?97:Oc;return Oc=90,He(t,mi)}return!1}function yi(t,e){Ic.push(e,t),wc||(wc=!0,Ge(97,function(){return pi(),null}))}function vi(t,e){Sc.push(e,t),wc||(wc=!0,Ge(97,function(){return pi(),null}))}function mi(){if(null===Ec)return!1;var t=Ec;if(Ec=null,0!==(48&nc))throw Error(r(331));var e=nc;nc|=32;var n=Sc;Sc=[];for(var i=0;i<n.length;i+=2){var o=n[i],a=n[i+1],u=o.destroy;if(o.destroy=void 0,"function"===typeof u)try{u()}catch(t){if(null===a)throw Error(r(330));bi(a,t)}}for(n=Ic,Ic=[],i=0;i<n.length;i+=2){o=n[i],a=n[i+1];try{var s=o.create;o.destroy=s()}catch(t){if(null===a)throw Error(r(330));bi(a,t)}}for(s=t.current.firstEffect;null!==s;)t=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=t;return nc=e,Qe(),!0}function gi(t,e,n){e=Sr(n,e),e=Tr(t,e,1),an(t,e),e=Wr(),null!==(t=Gr(t,1))&&(Pt(t,1,e),Qr(t,e))}function bi(t,e){if(3===t.tag)gi(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){gi(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){t=Sr(e,t);var i=Ar(n,t,1);if(an(n,i),i=Wr(),null!==(n=Gr(n,1)))Pt(n,1,i),Qr(n,i);else if("function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function _i(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,rc===t&&(oc&n)===n&&(4===sc||3===sc&&(62914560&oc)===oc&&500>ps()-yc?ri(t,0):dc|=n),Qr(t,e)}function wi(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=0,0===e&&(e=t.mode,0===(2&e)?e=1:0===(4&e)?e=99===We()?1:2:(0===Cc&&(Cc=lc),0===(e=Tt(62914560&~Cc))&&(e=4194304))),n=Wr(),null!==(t=Gr(t,e))&&(Pt(t,e,n),Qr(t,n))}function Ei(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(t,e,n,r){return new Ei(t,e,n,r)}function Ii(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Si(t){if("function"===typeof t)return Ii(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lo)return 11;if(t===po)return 14}return 2}function ki(t,e){var n=t.alternate;return null===n?(n=Oi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ti(t,e,n,i,o,a){var u=2;if(i=t,"function"===typeof t)Ii(t)&&(u=1);else if("string"===typeof t)u=5;else t:switch(t){case oo:return Ai(n.children,o,a,e);case go:u=8,o|=16;break;case ao:u=8,o|=1;break;case uo:return t=Oi(12,n,e,8|o),t.elementType=uo,t.type=uo,t.lanes=a,t;case fo:return t=Oi(13,n,e,o),t.type=fo,t.elementType=fo,t.lanes=a,t;case ho:return t=Oi(19,n,e,o),t.elementType=ho,t.lanes=a,t;case bo:return Pi(n,o,a,e);case _o:return t=Oi(24,n,e,o),t.elementType=_o,t.lanes=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case so:u=10;break t;case co:u=9;break t;case lo:u=11;break t;case po:u=14;break t;case yo:u=16,i=null;break t;case vo:u=22;break t}throw Error(r(130,null==t?t:typeof t,""))}return e=Oi(u,n,e,o),e.elementType=t,e.type=i,e.lanes=a,e}function Ai(t,e,n,r){return t=Oi(7,t,r,e),t.lanes=n,t}function Pi(t,e,n,r){return t=Oi(23,t,r,e),t.elementType=bo,t.lanes=n,t}function Ci(t,e,n){return t=Oi(6,t,null,e),t.lanes=n,t}function Di(t,e,n){return e=Oi(4,null!==t.children?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ni(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.mutableSourceEagerHydrationData=null}function xi(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:io,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Li(t,e,n,i){var o=e.current,a=Wr(),u=Kr(o);t:if(n){n=n._reactInternals;e:{if(nt(n)!==n||1!==n.tag)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ue(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(r(171))}if(1===n.tag){var c=n.type;if(Ue(c)){n=Be(n,c,s);break t}}n=s}else n=Wu;return null===e.context?e.context=n:e.pendingContext=n,e=on(a,u),e.payload={element:t},i=void 0===i?null:i,null!==i&&(e.callback=i),an(o,e),Hr(o,u,a),u}function Ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function ji(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Mi(t,e){ji(t,e),(t=t.alternate)&&ji(t,e)}function Ui(){return null}function Vi(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ni(t,e,null!=n&&!0===n.hydrate),e=Oi(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,nn(e),t[Fu]=n.current,pe(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function Fi(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bi(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vi(t,0,e?{hydrate:!0}:void 0)}function zi(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var t=Ri(a);u.call(t)}}Li(e,a,t,i)}else{if(o=n._reactRootContainer=Bi(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var t=Ri(a);s.call(t)}}ti(function(){Li(e,a,t,i)})}return Ri(a)}function qi(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Fi(e))throw Error(r(200));return xi(t,e,null,n)}var Wi=n(0),Ki=n(5),Hi=n(22);if(!Wi)throw Error(r(227));var Gi=new Set,Qi={},Yi=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ji=Object.prototype.hasOwnProperty,Xi={},Zi={},to={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){to[t]=new c(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];to[e]=new c(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){to[t]=new c(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){to[t]=new c(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){to[t]=new c(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){to[t]=new c(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){to[t]=new c(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){to[t]=new c(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){to[t]=new c(t,5,!1,t.toLowerCase(),null,!1,!1)});var eo=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eo,l);to[e]=new c(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eo,l);to[e]=new c(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eo,l);to[e]=new c(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){to[t]=new c(t,1,!1,t.toLowerCase(),null,!1,!1)}),to.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){to[t]=new c(t,1,!1,t.toLowerCase(),null,!0,!0)});var no=Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=60103,io=60106,oo=60107,ao=60108,uo=60114,so=60109,co=60110,lo=60112,fo=60113,ho=60120,po=60115,yo=60116,vo=60121,mo=60128,go=60129,bo=60130,_o=60131;if("function"===typeof Symbol&&Symbol.for){var wo=Symbol.for;ro=wo("react.element"),io=wo("react.portal"),oo=wo("react.fragment"),ao=wo("react.strict_mode"),uo=wo("react.profiler"),so=wo("react.provider"),co=wo("react.context"),lo=wo("react.forward_ref"),fo=wo("react.suspense"),ho=wo("react.suspense_list"),po=wo("react.memo"),yo=wo("react.lazy"),vo=wo("react.block"),wo("react.scope"),mo=wo("react.opaque.id"),go=wo("react.debug_trace_mode"),bo=wo("react.offscreen"),_o=wo("react.legacy_hidden")}var Eo,Oo,Io="function"===typeof Symbol&&Symbol.iterator,So=!1,ko={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},To=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==ko.svg||"innerHTML"in t)t.innerHTML=e;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Ao={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Po=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(t){Po.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ao[e]=Ao[t]})});var Co=Ki({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Do=null,No=null,xo=null,Lo=G,Ro=!1,jo=!1,Mo=!1;if(Yi)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch(t){Mo=!1}var Vo,Fo,Bo,zo,qo=!1,Wo=null,Ko=!1,Ho=null,Go={onError:function(t){qo=!0,Wo=t}},Qo=!1,Yo=[],$o=null,Jo=null,Xo=null,Zo=new Map,ta=new Map,ea=[],na="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),ra={animationend:gt("Animation","AnimationEnd"),animationiteration:gt("Animation","AnimationIteration"),animationstart:gt("Animation","AnimationStart"),transitionend:gt("Transition","TransitionEnd")},ia={},oa={};Yi&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);var aa=bt("animationend"),ua=bt("animationiteration"),sa=bt("animationstart"),ca=bt("transitionend"),la=new Map,fa=new Map,ha=["abort","abort",aa,"animationEnd",ua,"animationIteration",sa,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ca,"transitionEnd","waiting","waiting"];(0,Hi.unstable_now)();var da,pa,ya,va=8,ma=Math.clz32?Math.clz32:Ct,ga=Math.log,ba=Math.LN2,_a=Hi.unstable_UserBlockingPriority,wa=Hi.unstable_runWithPriority,Ea=!0,Oa=null,Ia=null,Sa=null,ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Vt(ka),Aa=Ki({},ka,{view:0,detail:0}),Pa=Vt(Aa),Ca=Ki({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&"mousemove"===t.type?(da=t.screenX-ya.screenX,pa=t.screenY-ya.screenY):pa=da=0,ya=t),da)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Da=Vt(Ca),Na=Ki({},Ca,{dataTransfer:0}),xa=Vt(Na),La=Ki({},Aa,{relatedTarget:0}),Ra=Vt(La),ja=Ki({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Vt(ja),Ua=Ki({},ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Vt(Ua),Fa=Ki({},ka,{data:0}),Ba=Vt(Fa),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Ka=Ki({},Aa,{key:function(t){if(t.key){var e=za[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=jt(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?qa[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(t){return"keypress"===t.type?jt(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?jt(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ha=Vt(Ka),Ga=Ki({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Vt(Ga),Ya=Ki({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),$a=Vt(Ya),Ja=Ki({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xa=Vt(Ja),Za=Ki({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tu=Vt(Za),eu=[9,13,27,32],nu=Yi&&"CompositionEvent"in window,ru=null;Yi&&"documentMode"in document&&(ru=document.documentMode);var iu=Yi&&"TextEvent"in window&&!ru,ou=Yi&&(!nu||ru&&8<ru&&11>=ru),au=String.fromCharCode(32),uu=!1,su=!1,cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},lu=null,fu=null,hu=!1;if(Yi){var du;if(Yi){var pu="oninput"in document;if(!pu){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),pu="function"===typeof yu.oninput}du=pu}else du=!1;hu=du&&(!document.documentMode||9<document.documentMode)}var vu="function"===typeof Object.is?Object.is:re,mu=Object.prototype.hasOwnProperty,gu=Yi&&"documentMode"in document&&11>=document.documentMode,bu=null,_u=null,wu=null,Eu=!1;_t("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_t(ha,2);for(var Ou="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Iu=0;Iu<Ou.length;Iu++)fa.set(Ou[Iu],0);o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su,ku,Tu,Au,Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu)),Du="_reactListening"+Math.random().toString(36).slice(2),Nu=null,xu=null,Lu="function"===typeof setTimeout?setTimeout:void 0,Ru="function"===typeof clearTimeout?clearTimeout:void 0,ju=0,Mu=Math.random().toString(36).slice(2),Uu="__reactFiber$"+Mu,Vu="__reactProps$"+Mu,Fu="__reactContainer$"+Mu,Bu="__reactEvents$"+Mu,zu=[],qu=-1,Wu={},Ku=Le(Wu),Hu=Le(!1),Gu=Wu,Qu=null,Yu=null,$u=Hi.unstable_runWithPriority,Ju=Hi.unstable_scheduleCallback,Xu=Hi.unstable_cancelCallback,Zu=Hi.unstable_shouldYield,ts=Hi.unstable_requestPaint,es=Hi.unstable_now,ns=Hi.unstable_getCurrentPriorityLevel,rs=Hi.unstable_ImmediatePriority,is=Hi.unstable_UserBlockingPriority,os=Hi.unstable_NormalPriority,as=Hi.unstable_LowPriority,us=Hi.unstable_IdlePriority,ss={},cs=void 0!==ts?ts:function(){},ls=null,fs=null,hs=!1,ds=es(),ps=1e4>ds?es:function(){return es()-ds},ys=no.ReactCurrentBatchConfig,vs=Le(null),ms=null,gs=null,bs=null,_s=!1,ws=(new Wi.Component).refs,Es={isMounted:function(t){return!!(t=t._reactInternals)&&nt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Kr(t),o=on(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),an(t,o),Hr(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Kr(t),o=on(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),an(t,o),Hr(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=Kr(t),i=on(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),an(t,i),Hr(t,r,n)}},Os=Array.isArray,Is=mn(!0),Ss=mn(!1),ks={},Ts=Le(ks),As=Le(ks),Ps=Le(ks),Cs=Le(0),Ds=null,Ns=null,xs=!1,Ls=[],Rs=no.ReactCurrentDispatcher,js=no.ReactCurrentBatchConfig,Ms=0,Us=null,Vs=null,Fs=null,Bs=!1,zs=!1,qs={readContext:en,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useOpaqueIdentifier:Dn,unstable_isNewReconciler:!1},Ws={readContext:en,useCallback:function(t,e){return Ln().memoizedState=[t,void 0===e?null:e],t},useContext:en,useEffect:Qn,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Hn(4,2,Jn.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hn(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=rr.bind(null,Us,t),[r.memoizedState,t]},useRef:Wn,useState:zn,useDebugValue:Zn,useDeferredValue:function(t){var e=zn(t),n=e[0],r=e[1];return Qn(function(){var e=js.transition;js.transition=1;try{r(t)}finally{js.transition=e}},[t]),n},useTransition:function(){var t=zn(!1),e=t[0];return t=nr.bind(null,t[1]),Wn(t),[t,e]},useMutableSource:function(t,e,n){var r=Ln();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Fn(r,t,e,n)},useOpaqueIdentifier:function(){if(xs){var t=!1,e=Ae(function(){throw t||(t=!0,n("r:"+(ju++).toString(36))),Error(r(355))}),n=zn(e)[1];return 0===(2&Us.mode)&&(Us.flags|=516,qn(5,function(){n("r:"+(ju++).toString(36))},void 0,null)),e}return e="r:"+(ju++).toString(36),zn(e),e},unstable_isNewReconciler:!1},Ks={readContext:en,useCallback:tr,useContext:en,useEffect:Yn,useImperativeHandle:Xn,useLayoutEffect:$n,useMemo:er,useReducer:Mn,useRef:Kn,useState:function(){return Mn(jn)},useDebugValue:Zn,useDeferredValue:function(t){var e=Mn(jn),n=e[0],r=e[1];return Yn(function(){var e=js.transition;js.transition=1;try{r(t)}finally{js.transition=e}},[t]),n},useTransition:function(){var t=Mn(jn)[0];return[Kn().current,t]},useMutableSource:Bn,useOpaqueIdentifier:function(){return Mn(jn)[0]},unstable_isNewReconciler:!1},Hs={readContext:en,useCallback:tr,useContext:en,useEffect:Yn,useImperativeHandle:Xn,useLayoutEffect:$n,useMemo:er,useReducer:Un,useRef:Kn,useState:function(){return Un(jn)},useDebugValue:Zn,useDeferredValue:function(t){var e=Un(jn),n=e[0],r=e[1];return Yn(function(){var e=js.transition;js.transition=1;try{r(t)}finally{js.transition=e}},[t]),n},useTransition:function(){var t=Un(jn)[0];return[Kn().current,t]},useMutableSource:Bn,useOpaqueIdentifier:function(){return Un(jn)[0]},unstable_isNewReconciler:!1},Gs=no.ReactCurrentOwner,Qs=!1,Ys={dehydrated:null,retryLane:0};Su=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ku=function(){},Tu=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gn(Ts.current);var o=null;switch(n){case"input":i=O(t,i),r=O(t,r),o=[];break;case"option":i=C(t,i),r=C(t,r),o=[];break;case"select":i=Ki({},i,{value:void 0}),r=Ki({},r,{value:void 0}),o=[];break;case"textarea":i=N(t,i),r=N(t,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Ee)}B(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Qi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var s=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&s!==u&&(null!=s||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&u[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(o||(o=[]),o.push(c,n)),n=s;else"dangerouslySetInnerHTML"===c?(s=s?s.__html:void 0,u=u?u.__html:void 0,null!=s&&u!==s&&(o=o||[]).push(c,s)):"children"===c?"string"!==typeof s&&"number"!==typeof s||(o=o||[]).push(c,""+s):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Qi.hasOwnProperty(c)?(null!=s&&"onScroll"===c&&de("scroll",t),o||u===s||(o=[])):"object"===typeof s&&null!==s&&s.$$typeof===mo?s.toString():(o=o||[]).push(c,s))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Au=function(t,e,n,r){n!==r&&(e.flags|=4)};var $s,Js="function"===typeof WeakMap?WeakMap:Map,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=Math.ceil,tc=no.ReactCurrentDispatcher,ec=no.ReactCurrentOwner,nc=0,rc=null,ic=null,oc=0,ac=0,uc=Le(0),sc=0,cc=null,lc=0,fc=0,hc=0,dc=0,pc=null,yc=0,vc=1/0,mc=null,gc=!1,bc=null,_c=null,wc=!1,Ec=null,Oc=90,Ic=[],Sc=[],kc=null,Tc=0,Ac=null,Pc=-1,Cc=0,Dc=0,Nc=null,xc=!1;$s=function(t,e,n){var i=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||Hu.current)Qs=!0;else{if(0===(n&i)){switch(Qs=!1,e.tag){case 3:dr(e),Pn();break;case 5:wn(e);break;case 1:Ue(e.type)&&ze(e);break;case 4:bn(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var o=e.type._context;je(vs,o._currentValue),o._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?pr(t,e,n):(je(Cs,1&Cs.current),e=wr(t,e,n),null!==e?e.sibling:null);je(Cs,1&Cs.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(64&t.flags)){if(i)return _r(t,e,n);e.flags|=64}if(o=e.memoizedState,null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),je(Cs,Cs.current),i)break;return null;case 23:case 24:return e.lanes=0,sr(t,e,n)}return wr(t,e,n)}Qs=0!==(16384&t.flags)}else Qs=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=Me(e,Ku.current),tn(e,n),o=xn(null,e,i,t,o,n),e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(i)){var a=!0;ze(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,nn(e);var u=i.getDerivedStateFromProps;"function"===typeof u&&ln(e,i,u,t),o.updater=Es,e.stateNode=o,o._reactInternals=e,pn(e,i,t,n),e=hr(null,e,i,!0,a,n)}else e.tag=0,ir(null,e,o,n),e=e.child;return e;case 16:o=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=Si(o),t=$e(o,t),a){case 0:e=lr(null,e,o,t,n);break t;case 1:e=fr(null,e,o,t,n);break t;case 11:e=or(null,e,o,t,n);break t;case 14:e=ar(null,e,o,$e(o.type,t),i,n);break t}throw Error(r(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:$e(i,o),lr(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:$e(i,o),fr(t,e,i,o,n);case 3:if(dr(e),i=e.updateQueue,null===t||null===i)throw Error(r(282));if(i=e.pendingProps,o=e.memoizedState,o=null!==o?o.element:null,rn(t,e),sn(e,i,null,n),(i=e.memoizedState.element)===o)Pn(),e=wr(t,e,n);else{if(o=e.stateNode,(a=o.hydrate)&&(Ns=ke(e.stateNode.containerInfo.firstChild),Ds=e,a=xs=!0),a){if(null!=(t=o.mutableSourceEagerHydrationData))for(o=0;o<t.length;o+=2)a=t[o],a._workInProgressVersionPrimary=t[o+1],Ls.push(a);for(n=Ss(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ir(t,e,i,n),Pn();e=e.child}return e;case 5:return wn(e),null===t&&kn(e),i=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,u=o.children,Ie(i,o)?u=null:null!==a&&Ie(i,a)&&(e.flags|=16),cr(t,e),ir(t,e,u,n),e.child;case 6:return null===t&&kn(e),null;case 13:return pr(t,e,n);case 4:return bn(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Is(e,null,i,n):ir(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:$e(i,o),or(t,e,i,o,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,o=e.pendingProps,u=e.memoizedProps,a=o.value;var s=e.type._context;if(je(vs,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=vu(s,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(s,a):1073741823))){if(u.children===o.children&&!Hu.current){e=wr(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===i&&0!==(l.observedBits&a)){1===s.tag&&(l=on(-1,n&-n),l.tag=2,an(s,l)),s.lanes|=n,l=s.alternate,null!==l&&(l.lanes|=n),Ze(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===e.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===e){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}ir(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,a=e.pendingProps,i=a.children,tn(e,n),o=en(o,a.unstable_observedBits),i=i(o),e.flags|=1,ir(t,e,i,n),e.child;case 14:return o=e.type,a=$e(o,e.pendingProps),a=$e(o.type,a),ar(t,e,o,a,i,n);case 15:return ur(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:$e(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ue(i)?(t=!0,ze(e)):t=!1,tn(e,n),hn(e,i,o),pn(e,i,o,n),hr(null,e,i,!0,t,n);case 19:return _r(t,e,n);case 23:case 24:return sr(t,e,n)}throw Error(r(156,e.tag))},Vi.prototype.render=function(t){Li(t,this._internalRoot,null,null)},Vi.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Li(null,t,null,function(){e[Fu]=null})},Vo=function(t){if(13===t.tag){Hr(t,4,Wr()),Mi(t,4)}},Fo=function(t){if(13===t.tag){Hr(t,67108864,Wr()),Mi(t,67108864)}},Bo=function(t){if(13===t.tag){var e=Wr(),n=Kr(t);Hr(t,n,e),Mi(t,n)}},zo=function(t,e){return e()},Do=function(t,e,n){switch(e){case"input":if(k(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=Ne(i);if(!o)throw Error(r(90));w(i),k(i,o)}}}break;case"textarea":L(t,n);break;case"select":null!=(e=n.value)&&D(t,!!n.multiple,e,!1)}},G=Zr,Q=function(t,e,n,r,i){var o=nc;nc|=4;try{return He(98,t.bind(null,e,n,r,i))}finally{0===(nc=o)&&(qr(),Qe())}},Y=function(){0===(49&nc)&&(Xr(),pi())},Lo=function(t,e){var n=nc;nc|=2;try{return t(e)}finally{0===(nc=n)&&(qr(),Qe())}};var Lc={Events:[Ce,De,Ne,K,H,pi,{current:!1}]},Rc={findFiberByHostInstance:Pe,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},jc={bundleType:Rc.bundleType,version:Rc.version,rendererPackageName:Rc.rendererPackageName,rendererConfig:Rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=at(t),null===t?null:t.stateNode},findFiberByHostInstance:Rc.findFiberByHostInstance||Ui,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Qu=Mc.inject(jc),Yu=Mc}catch(t){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lc,e.createPortal=qi,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw Error(r(268,Object.keys(t)))}return t=at(e),t=null===t?null:t.stateNode},e.flushSync=function(t,e){var n=nc;if(0!==(48&n))return t(e);nc|=1;try{if(t)return He(99,t.bind(null,e))}finally{nc=n,Qe()}},e.hydrate=function(t,e,n){if(!Fi(e))throw Error(r(200));return zi(null,t,e,!0,n)},e.render=function(t,e,n){if(!Fi(e))throw Error(r(200));return zi(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Fi(t))throw Error(r(40));return!!t._reactRootContainer&&(ti(function(){zi(null,null,t,!1,function(){t._reactRootContainer=null,t[Fu]=null})}),!0)},e.unstable_batchedUpdates=Zr,e.unstable_createPortal=function(t,e){return qi(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Fi(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return zi(t,e,n,!1,i)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(23)},function(t,e,n){"use strict";function r(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<a(i,e)))break t;t[r]=e,t[n]=i,n=r}}function i(t){return t=t[0],void 0===t?null:t}function o(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,u=t[o],s=o+1,c=t[s];if(void 0!==u&&0>a(u,n))void 0!==c&&0>a(c,u)?(t[r]=c,t[s]=n,r=s):(t[r]=u,t[o]=n,r=o);else{if(!(void 0!==c&&0>a(c,n)))break t;t[r]=c,t[s]=n,r=s}}}return e}return null}function a(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}function u(t){for(var e=i(D);null!==e;){if(null===e.callback)o(D);else{if(!(e.startTime<=t))break;o(D),e.sortIndex=e.expirationTime,r(C,e)}e=i(D)}}function s(t){if(M=!1,u(t),!j)if(null!==i(C))j=!0,l(c);else{var e=i(D);null!==e&&f(s,e.startTime-t)}}function c(t,n){j=!1,M&&(M=!1,h()),R=!0;var r=L;try{for(u(n),x=i(C);null!==x&&(!(x.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=x.callback;if("function"===typeof a){x.callback=null,L=x.priorityLevel;var c=a(x.expirationTime<=n);n=e.unstable_now(),"function"===typeof c?x.callback=c:x===i(C)&&o(C),u(n)}else o(C);x=i(C)}if(null!==x)var l=!0;else{var d=i(D);null!==d&&f(s,d.startTime-n),l=!1}return l}finally{x=null,L=r,R=!1}}var l,f,h,d;if("object"===typeof performance&&"function"===typeof performance.now){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,v=y.now();e.unstable_now=function(){return y.now()-v}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var m=null,g=null,b=function(){if(null!==m)try{var t=e.unstable_now();m(!0,t),m=null}catch(t){throw setTimeout(b,0),t}};l=function(t){null!==m?setTimeout(l,0,t):(m=t,setTimeout(b,0))},f=function(t,e){g=setTimeout(t,e)},h=function(){clearTimeout(g)},e.unstable_shouldYield=function(){return!1},d=e.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,w=window.clearTimeout;if("undefined"!==typeof console){var E=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var O=!1,I=null,S=-1,k=5,T=0;e.unstable_shouldYield=function(){return e.unstable_now()>=T},d=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5};var A=new MessageChannel,P=A.port2;A.port1.onmessage=function(){if(null!==I){var t=e.unstable_now();T=t+k;try{I(!0,t)?P.postMessage(null):(O=!1,I=null)}catch(t){throw P.postMessage(null),t}}else O=!1},l=function(t){I=t,O||(O=!0,P.postMessage(null))},f=function(t,n){S=_(function(){t(e.unstable_now())},n)},h=function(){w(S),S=-1}}var C=[],D=[],N=1,x=null,L=3,R=!1,j=!1,M=!1,U=d;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){j||R||(j=!0,l(c))},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return i(C)},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_scheduleCallback=function(t,n,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?(o=o.delay,o="number"===typeof o&&0<o?a+o:a):o=a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=o+u,t={id:N++,callback:n,priorityLevel:t,startTime:o,expirationTime:u,sortIndex:-1},o>a?(t.sortIndex=o,r(D,t),null===i(C)&&t===i(D)&&(M?h():M=!0,f(s,o-a))):(t.sortIndex=u,r(C,t),j||R||(j=!0,l(c))),t},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}}},function(t,e){},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n(26),u=(n.n(a),n(27)),s=n(28),c=n(30),l=n(32),f=n(33),h=n(34),d=n(10),p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=Object(d.c)(),v=null,m=null,g=function(t,e){var n=o.a.firestore();m&&m(),m=n.collection("games").doc(t).onSnapshot({includeMetadataChanges:!1},function(t){return e(t.data())})},b=function(t){var e=t.game,n=(t.name,t.sequence),r=e.selected,o={top:0,left:8,marginTop:15};return i.a.createElement("div",{id:"table"},i.a.createElement("span",{style:{position:"absolute",top:183,borderBottom:"2px solid black",width:128*n.length+700,minWidth:"100%",zIndex:0}},"Accepted"),n&&n.map(function(t,e){var n=t.card;return t.accepted?(o.top=0,o.left=o.left+128,o.marginTop=15):(o.top=150,o.marginTop=o.marginTop+42),i.a.createElement("img",{key:n+e,src:"cards/"+n+".png",style:Object.assign({},o),className:"card",alt:"card "+n})}),r&&i.a.createElement("img",{src:"cards/"+r+".png",style:{top:0,left:o.left+300,marginTop:110},className:"card selected",alt:"card "+r}),r&&i.a.createElement("span",{style:{marginTop:135,left:o.left+232,color:"#020",fontSize:"120px",position:"absolute"}},"?"))};window.onpopstate=function(t){t&&window.location.reload()};var _=function(){var t=window.location.search,e=new URLSearchParams(t),n=Object(r.useState)(e.get("g")),a=p(n,2),m=a[0],_=a[1],w=Object(r.useState)(e.get("n")),E=p(w,2),O=E[0],I=E[1],S=Object(r.useState)(null),k=p(S,2),T=k[0],A=k[1],P=Object(r.useState)(!0),C=p(P,2),D=C[0],N=C[1],x=Object(r.useState)(!1),L=p(x,2),R=L[0],j=L[1],M=function(t){if("RETRACTED"!==Object(d.b)()){var e=o.a.firestore(),n=T||{},r=n.cardSequence,i=n.statusSequence,a=n.id,u=n.selected,s=T?{id:a,cardSequence:r,statusSequence:i,name:O,selected:u}:{};e.collection("logs").add({timestamp:o.a.firestore.FieldValue.serverTimestamp(),payload:t,gameInfo:s,cookie:y})}},U=function(t){var e=new URLSearchParams(window.location.search);e.set("g",t),window.history.pushState(null,null,"?"+e.toString()),_(t)},V=function(t){var e=new URLSearchParams(window.location.search);e.set("n",t),window.history.pushState(null,null,"?"+e.toString()),I(t)};if(!m)return i.a.createElement(l.a,{setGameId:U,logger:M});if(R)return i.a.createElement("div",{className:"picker"},i.a.createElement("span",{className:"warning"},"Either you entered an incorrect Game ID or Multiplayer features might be temporarily unavailable because of too much demand on our database. You can still play the game individually by letting Eleusis choose the rules. ",i.a.createElement("br",null)," Sorry for the inconvenience."),i.a.createElement("a",{href:"/"},"Go Back"));if(!T)return v&&clearTimeout(v),v=setTimeout(function(){j(!0)},5e3),g(m,function(t){t&&v&&clearTimeout(v),A(t)}),i.a.createElement("div",null,"loading . . .");var F=T.cardSequence,B=T.statusSequence,z=F.map(function(t,e){return{card:t,accepted:B[e]}});return O?T.master?i.a.createElement("div",{className:"App"},i.a.createElement(h.a,{game:T,name:O}),i.a.createElement("div",{id:"tableContainer"},i.a.createElement(b,{game:T,name:O,sequence:z}),D&&i.a.createElement(s.a,{game:T,name:O,logger:M}),i.a.createElement("button",{id:"sidePanelToggle",onClick:function(){return N(!D)}},D?"hide info":"show info")),T.ended?i.a.createElement("div",{id:"input"},i.a.createElement("textarea",{id:"displayRule",value:T.rule,disabled:!0})):i.a.createElement(u.a,{game:T,name:O,sequence:z,logger:M})):i.a.createElement(c.a,{game:T,name:O,logger:M}):i.a.createElement(f.a,{game:T,setName:V})};e.a=_},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1_firebase_app__=__webpack_require__(1),_slicedToArray=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cards="AC;AD;AH;AS;2C;2D;2H;2S;3C;3D;3H;3S;4C;4D;4H;4S;5C;5D;5H;5S;6C;6D;6H;6S;7C;7D;7H;7S;8C;8D;8H;8S;9C;9D;9H;9S;10C;10D;10H;10S;JC;JD;JH;JS;QC;QD;QH;QS;KC;KD;KH;KS".split(";"),isFigure=function(t){return!!t&&"JQK".includes(t[0])},isNumber=function(t){return!!t&&"A234567891".includes(t[0])},isRed=function(t){return!!t&&"HD".includes(t[t.length-1])},isBlack=function(t){return!!t&&"SC".includes(t[t.length-1])},getValue=function(t){return t?"ZA234567891JQK".indexOf(t[0]):0},getSymbol=function(t){return t?t[t.length-1]:""},getLast=function(t){return t[t.length-1]},computeScore=function(t){return(Math.log(t)+Math.log(2))/Math.log(2)},computeRejectedCards=function(t){var e=[];return t.forEach(function(t){t.accepted?e=[]:e.push(t.card)}),e},ActionSelect=function(t){var e=t.game,n=t.sequence,r=t.name,i=e.selected,o=e.turn,a=e.players.filter(function(t){return t!==e.master}),u=function(t){__WEBPACK_IMPORTED_MODULE_1_firebase_app__.a.firestore().collection("games").doc(e.id).set({selected:t},{merge:!0})},s=computeRejectedCards(n);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{id:"input"},!i&&r===a[o%a.length]&&cards.filter(function(t){return!s.includes(t)}).map(function(t,e){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("img",{key:t+e,src:"cards/"+t+".png",className:"card input",style:{left:42*e},onClick:function(){return u(t)},alt:"card "+t})}))},ActionBet=function(t){var e=t.name,n=t.game,r=t.logger,i=Object(__WEBPACK_IMPORTED_MODULE_0_react__.useState)(500),o=_slicedToArray(i,2),a=o[0],u=o[1],s=function(){if(!a||a<1||a>999)return void alert("You can only submit a bet between 0.001 and 0.999");r({bet:a/1e3}),__WEBPACK_IMPORTED_MODULE_1_firebase_app__.a.firestore().collection("games").doc(n.id).set(_defineProperty({},"bet_"+e,a/1e3),{merge:!0})};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{id:"input"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"betContainer"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"betInput"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("input",{type:"range",min:"1",max:"999",value:a,className:"slider",id:"myRange",onChange:function(t){return u(t.target.value)}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("input",{style:{width:"42px"},type:"number",value:a/1e3,onChange:function(t){return u(1e3*t.target.value)}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"betInput"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",null,"If rejected: ",a<500&&"+",computeScore(1-a/1e3).toFixed(2)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",null,"If accepted: ",a>500&&"+",computeScore(a/1e3).toFixed(2))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"betInput"},a>599&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",null,"You think the card will likely be ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("b",null,"ACCEPTED")),a<401&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",null,"You think the card will likely be ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("b",null,"REJECTED"))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:s},"Bet !")))},ActionRule=function ActionRule(_ref3){var game=_ref3.game,name=_ref3.name,logger=_ref3.logger,turn=game.turn,cardSequence=game.cardSequence,statusSequence=game.statusSequence,selected=game.selected,players=game.players.filter(function(t){return t!==game.master}),handleRule=function(t){cardSequence.push(selected),statusSequence.push(t);var e=__WEBPACK_IMPORTED_MODULE_1_firebase_app__.a.firestore(),n={selected:"",statusSequence:statusSequence,cardSequence:cardSequence,turn:turn+1};players.forEach(function(e){var r=computeScore(t?game["bet_"+e]:1-game["bet_"+e]);n["bet_"+e]=0,n["score_"+e]=r,n["total_"+e]=__WEBPACK_IMPORTED_MODULE_1_firebase_app__.a.firestore.FieldValue.increment(r)}),e.collection("games").doc(game.id).set(n,{merge:!0})};if("human"!==game.gameType){var rule=eval(game.rule),accepted=rule(selected,cardSequence.filter(function(t,e){return statusSequence[e]}));return handleRule(accepted),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,"Automatically applying the rule . . .")}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{id:"input"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:function(){return handleRule(!0)}},"Accept"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:function(){return handleRule(!1)}},"Reject"))},Controls=function(t){var e=t.game,n=t.name,r=t.logger,i=t.sequence,o=e.turn,a=e.selected,u=e.players.filter(function(t){return t!==e.master}),s=u.filter(function(t){return!e["bet_"+t]}),c=null;return a&&0===s.length&&n===e.leader&&(c=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ActionRule,{game:e,logger:r})),a&&s.includes(n)&&(c=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ActionBet,{game:e,name:n,logger:r})),a||u[o%u.length]!==n||(c=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(ActionSelect,{game:e,name:n,sequence:i})),c||__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{id:"input"})};__webpack_exports__.a=Controls},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=(n(1),n(29)),a=function(t){var e=t.game,n=(t.name,e.turn),r=e.selected,o=e.players.filter(function(t){return t!==e.master}),a=o.filter(function(t){return!e["bet_"+t]}),u=function(t){var e=t.who;return i.a.createElement("div",null,"Waiting for ",e," . . . ",!1)};return i.a.createElement("div",null,i.a.createElement("h3",null,"Game Status"),r&&a.map(function(t){return i.a.createElement(u,{who:t,key:t})}),r&&0===a.length&&i.a.createElement(u,{who:e.master}),!r&&i.a.createElement(u,{who:o[n%o.length]||"other players"}))},u=function(t){var e=t.game,n=t.name,r=(t.logger,e.ended);return i.a.createElement("div",{id:"sidepanel"},i.a.createElement("span",null,i.a.createElement("b",null,"Game master:")," ",e.master),i.a.createElement(o.a,{game:e}),!r&&i.a.createElement(a,{game:e,name:n}))};e.a=u},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=function(t){var e=t.game,n=e.players.filter(function(t){return t!==e.master});return i.a.createElement("div",null,i.a.createElement("h3",null,"Scores"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Player"),i.a.createElement("th",null,"Latest"),i.a.createElement("th",null,"Total"))),i.a.createElement("tbody",null,n.sort(function(t){return-e["total_"+t]||0}).map(function(t){return i.a.createElement("tr",{key:t},i.a.createElement("th",null,t),i.a.createElement("th",null,(e["score_"+t]||0).toFixed(2)),i.a.createElement("th",null,(e["total_"+t]||0).toFixed(2)))}))))};e.a=o},function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1_firebase_app__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__rules__=__webpack_require__(31),_slicedToArray=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),isFigure=function(t){return!!t&&"JQK".includes(t[0])},isNumber=function(t){return!!t&&"A234567891".includes(t[0])},isRed=function(t){return!!t&&"HD".includes(t[t.length-1])},isBlack=function(t){return!!t&&"SC".includes(t[t.length-1])},getValue=function(t){return t?"ZA234567891JQK".indexOf(t[0]):0},getSymbol=function(t){return t?t[t.length-1]:""},getLast=function(t){return t[t.length-1]},cards="AC;AD;AH;AS;2C;2D;2H;2S;3C;3D;3H;3S;4C;4D;4H;4S;5C;5D;5H;5S;6C;6D;6H;6S;7C;7D;7H;7S;8C;8D;8H;8S;9C;9D;9H;9S;10C;10D;10H;10S;JC;JD;JH;JS;QC;QD;QH;QS;KC;KD;KH;KS".split(";"),pick=function(t){return t[Math.floor(Math.random()*t.length)]},RobotRulePicker=function(t){var e=t.setRule,n=function(t){e("easy"===t.target.value?pick(__WEBPACK_IMPORTED_MODULE_2__rules__.a.easy):"medium"===t.target.value?pick([].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.easy),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.medium),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.medium))):"hard"===t.target.value?pick([].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.easy),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.medium),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.medium),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.hard),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.hard),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.hard))):null)};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("select",{onChange:n},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:""},"Select a difficulty"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"easy"},"Easy (only depending on the current card)"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"medium"},"Medium (depending on the current card and the latest accepted cards)"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"hard"},"Hard (depending on the current card and the whole history of accepted cards)"))},HumanRulePicker=function(t){var e=t.setRule;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null,"Specify your rule with one or a few short sentences. You will have to accept or reject cards manually"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("textarea",{placeholder:"",rows:"4",cols:"50",onChange:function(t){return e(t.target.value)}}))},GeekRulePicker=function GeekRulePicker(_ref3){var setRule=_ref3.setRule,_useState=Object(__WEBPACK_IMPORTED_MODULE_0_react__.useState)("//Accept all cards\n(card, history) => true"),_useState2=_slicedToArray(_useState,2),tempRule=_useState2[0],setTempRule=_useState2[1],_useState3=Object(__WEBPACK_IMPORTED_MODULE_0_react__.useState)(null),_useState4=_slicedToArray(_useState3,2),testOutput=_useState4[0],setTestOutput=_useState4[1],loadExample=function(){setTempRule(pick([].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.easy),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.medium),_toConsumableArray(__WEBPACK_IMPORTED_MODULE_2__rules__.a.hard)))),setRule(null)},testRule=function testRule(r){for(var rule=eval(r),acceptedCount=0,testGame=0;testGame<20;testGame++){for(var history=[],testCard=0;testCard<50;testCard++){var newCard=pick(cards);try{var accepted=rule(newCard,history);if(rule(newCard,history)!==accepted)throw"Output is not deterministic";if(!0!==accepted&&!1!==accepted)throw"Output is not a boolean";!0===accepted&&history.push(newCard)}catch(t){return console.log(t),void alert(t)}}acceptedCount+=history.length}setTestOutput("Out of 20 simulated games with 50 random cards each, "+acceptedCount+" cards were accepted and "+(1e3-acceptedCount)+" rejected"),setRule(r)};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",null,"Specify your rule by implementing a JavaScript function."),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("p",{className:"doc"},"The function must be of type signature:",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"(card: string, history: Array(string) => Boolean"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),"You can use the helper functions: ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"isRed"),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"isBlack"),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"isFigure"),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"isNumber"),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"getValue"),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"getSymbol"),", and"," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},"getLast"),".",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),"Symbols are: ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},'"H"'),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},'"C"'),", ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},'"S"'),","," ",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"code"},'"D"'),".",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),"Values are numbers from 1 to 13.",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),"Look at a few examples to have a better idea how to implement your rule and test your rule before starting the game."),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("textarea",{className:"code",rows:"4",cols:"50",value:tempRule,onChange:function(t){return setTempRule(t.target.value)}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:loadExample},"Load Example"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"doc"},"Test your rule with randomly generated sequences of cards, then start the game if it seems to work as intended"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:function(){return testRule(tempRule)}},"Test Rule"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",{className:"doc"},testOutput))},MasterPicker=function(t){var e=t.game,n=t.name,r=t.logger,i=Object(__WEBPACK_IMPORTED_MODULE_0_react__.useState)(null),o=_slicedToArray(i,2),a=o[0],u=o[1],s=Object(__WEBPACK_IMPORTED_MODULE_0_react__.useState)(null),c=_slicedToArray(s,2),l=c[0],f=c[1],h=function(){var t=__WEBPACK_IMPORTED_MODULE_1_firebase_app__.a.firestore(),i="robot"===a?"Talos 6.0":n;r({master:i,rule:l,gameType:a,leader:n}),t.collection("games").doc(e.id).set({master:i,rule:l,gameType:a,leader:n},{merge:!0})};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:"picker"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("span",null,'Agree with your friends on who should be the Game Master. Only the Game Master should click "Start Game" below.'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("br",null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("select",{onChange:function(t){return u(t.target.value)}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:""},"Choose how to specify the rule"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"robot"},"Let Eleusis' Robot choose the rule"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"geek"},"Specify a rule with code"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("option",{value:"human"},"Specify a rule without code")),"robot"===a&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(RobotRulePicker,{setRule:f}),"human"===a&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(HumanRulePicker,{setRule:f}),"geek"===a&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(GeekRulePicker,{setRule:f}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("button",{onClick:h,disabled:!l||!a},"Start Game"))};__webpack_exports__.a=MasterPicker},function(t,e,n){"use strict";e.a={easy:["//Accept only Red cards\n(card) => isRed(card)","//Accept only Black cards\n(card) => isBlack(card)","//Accept only Figures\n(card) => isFigure(card)","//Accept only Numbers\n(card) => isNumber(card)","//Play only cards above 4\n(card) => getValue(card) > 4","//Play only cards above 5\n(card) => getValue(card) > 5","//Play only cards above 6\n(card) => getValue(card) > 6","//Play only cards above 7\n(card) => getValue(card) > 7","//Play only cards above 8\n(card) => getValue(card) > 8","//Play only cards above 9\n(card) => getValue(card) > 9","//Play only cards below 4\n(card) => getValue(card) < 4","//Play only cards below 5\n(card) => getValue(card) < 5","//Play only cards below 6\n(card) => getValue(card) < 6","//Play only cards below 7\n(card) => getValue(card) < 7","//Play only cards below 8\n(card) => getValue(card) < 8","//Play only cards below 9\n(card) => getValue(card) < 9",'//Accept only Heart and Spade\n(card) => "HS".includes(getSymbol(card))','//Accept only Diamond and Spade\n(card) => "DS".includes(getSymbol(card))','//Accept only Diamond and Clubs\n(card) => "DC".includes(getSymbol(card))','//Accept only Heart and Clubs\n(card) => "HC".includes(getSymbol(card))','//Accept only Hearts\n(card) => getSymbol(card) === "H"','//Accept only Spades\n(card) => getSymbol(card) === "S"','//Accept only Clubs\n(card) => getSymbol(card) === "C"','//Accept only Diamonds\n(card) => getSymbol(card) === "D"',"//Accept only values that are square numbers\n(card) => [1,4,9].includes(getValue(card))","//Accept only values that are prime numbers\n(card) => [2,3,5,7,11,13].includes(getValue(card))","//Accept only values that are not prime numbers\n(card) => [1,4,6,8,9,10,12].includes(getValue(card))","//Accept only Red Figures or Black Numbers\n(card) => isRed(card) === isFigure(card)","//Accept only Black Figures or Red Numbers\n(card) => isBlack(card) === isFigure(card)","//Accept only even values\n(card) => getValue(card) % 2 === 0","//Accept only odd values\n(card) => getValue(card) % 2 === 1","//Accept only multiples of 3\n(card) => getValue(card) % 3 === 0","//Accept only values that are 1 plus a multiple of 3 \n(card) => getValue(card) % 3 === 1","//Accept only multiples of 4\n(card) => getValue(card) % 4 === 0","//Accept only values that are 1 plus a multiple of 4 \n(card) => getValue(card) % 4 === 1","//Accept only even red and odd black cards\n(card) => (getValue(card) % 2 === 0) === isRed(card)","//Accept only odd red and even black cards\n(card) => (getValue(card) % 2 === 1) === isRed(card)","//Accept only red prime or black not-prime\n(card) => [2,3,5,7,11,13].includes(getValue(card)) === isRed(card)","//Accept only red not-prime or black prime\n(card) => [2,3,5,7,11,13].includes(getValue(card)) === isBlack(card)"],medium:["//Alternate Red and Black\n(card, history) => !getLast(history) || isRed(card) !== isRed(getLast(history))","//Difference between consecutive cards must be 2 or more\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) > 1","//Difference between consecutive cards must be 3 or more\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) > 2","//Difference between consecutive cards must be 4 or more\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) > 3","//Difference between consecutive cards must be 5 or more\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) > 4","//Difference between consecutive cards must be 1 or less\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) < 2","//Difference between consecutive cards must be 2 or less\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) < 3","//Difference between consecutive cards must be 3 or less\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) < 4","//Difference between consecutive cards must be 4 or less\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) < 5","//Difference between consecutive cards must be 5 or less\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) < 6","//Difference between consecutive cards must be exactly 1\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) === 1","//Difference between consecutive cards must be exactly 2\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) === 2","//Difference between consecutive cards must be exactly 3\n(card, history) => !getLast(history) || Math.abs(getValue(card) - getValue(getLast(history))) === 3","//Alternate strictly above and below 5\n(card, history) => !getLast(history) || (getValue(card) > 5) !== (getValue(getLast(history)) > 5)","//Alternate strictly above and below 6\n(card, history) => !getLast(history) || (getValue(card) > 6) !== (getValue(getLast(history)) > 6)","//Alternate strictly above and below 7\n(card, history) => !getLast(history) || (getValue(card) > 7) !== (getValue(getLast(history)) > 7)","//Alternate strictly above and below 8\n(card, history) => !getLast(history) || (getValue(card) > 8) !== (getValue(getLast(history)) > 8)","//Alternate strictly above and below 9\n(card, history) => !getLast(history) || (getValue(card) > 9) !== (getValue(getLast(history)) > 9)","//Alternate even and odd values\n(card, history) => !getLast(history) || (getValue(card) % 2 !== getValue(getLast(history)) % 2)","//Same Symbol or same value\n(card, history) => !getLast(history) || getSymbol(card) === getSymbol(getLast(history)) || getValue(card) === getValue(getLast(history))","//Always same Symbol unless after a Figure\n(card, history) => !getLast(history) || (getSymbol(card) === getSymbol(getLast(history))) !== isFigure(getLast(history))","//Always same Symbol unless playing a Figure\n(card, history) => !getLast(history) || (getSymbol(card) === getSymbol(getLast(history))) !== isFigure(card)","//Always same Symbol unless playing a odd\n(card, history) => !getLast(history) || (getSymbol(card) === getSymbol(getLast(history))) !== (getValue(card) % 2 === 1)","//Always same Symbol unless playing a even\n(card, history) => !getLast(history) || (getSymbol(card) === getSymbol(getLast(history))) !== (getValue(card) % 2 === 0)","//Always same Symbol unless playing a multiple of 3\n(card, history) => !getLast(history) || (getSymbol(card) === getSymbol(getLast(history))) !== (getValue(card) % 3 === 0)","//Always same Symbol unless changing color\n(card, history) => !getLast(history) || getSymbol(card) === getSymbol(getLast(history)) || isRed(card) !== isRed(getLast(history))","//Always change Symbol and value\n(card, history) => (getSymbol(card) !== getSymbol(getLast(history)) && getValue(card) !== getValue(getLast(history)))","//Always change Symbol\n(card, history) => getSymbol(card) !== getSymbol(getLast(history))","//Alternate Figures and Numbers\n(card, history) => !getLast(history) || isFigure(card) !== isFigure(getLast(history))","//No two odds in a row\n(card, history) => !getLast(history) || getValue(card) % 2 !== 1 || getValue(getLast(history)) % 2 !== 1","//No two evens in a row\n(card, history) => !getLast(history) || getValue(card) % 2 !== 0 || getValue(getLast(history)) % 2 !== 0","//No two multiples of three in a row\n(card, history) => !getLast(history) || getValue(card) % 3 !== 0 || getValue(getLast(history)) % 3 !== 0","//No two Figures in a row\n(card, history) => !isFigure(card) || !isFigure(getLast(history))","//No two Numbers in a row\n(card, history) => !isNumber(card) || !isNumber(getLast(history))","//No two Red in a row\n(card, history) => !isRed(card) || !isRed(getLast(history))","//No two Black in a row\n(card, history) => !isBlack(card) || !isBlack(getLast(history))","//Lower value or play a Figures\n(card, history) => !getLast(history) || isFigure(card) || getValue(card) < getValue(getLast(history))","//Increase value or play an Ace\n(card, history) => getValue(card) === 1 || getValue(card) > getValue(getLast(history))","//Strictly increase value\n(card, history) => !getLast(history) || getValue(card) > getValue(getLast(history))","//Strictly decrease value\n(card, history) => !getLast(history) || getValue(card) < getValue(getLast(history))","//Do not decrease value\n(card, history) => !getLast(history) || getValue(card) >= getValue(getLast(history))","//Do not increase value\n(card, history) => !getLast(history) || getValue(card) <= getValue(getLast(history))","//After red play odd, after black play even\n(card, history) => !getLast(history) || (getValue(card) % 2 === 1) === isRed(getLast(history))","//After red play even, after black play odd\n(card, history) => !getLast(history) || (getValue(card) % 2 === 0) === isRed(getLast(history))","//After odd play red, after even play black\n(card, history) => !getLast(history) || (getValue(getLast(history)) % 2 === 1) === isRed(card)","//After even play red, after odd play black\n(card, history) => !getLast(history) || (getValue(getLast(history)) % 2 === 0) === isRed(card)","//If playing red increase, else decrease or equal \n(card, history) => !getLast(history) || isRed(card) === (getValue(getLast(history)) > getValue(card))","//If playing black increase, else decrease or equal \n(card, history) => !getLast(history) || isBlack(card) === (getValue(getLast(history)) > getValue(card))","//If playing red decrease, else increase or equal \n(card, history) => !getLast(history) || isRed(card) === (getValue(getLast(history)) < getValue(card))","//If playing black decrease, else increase or equal \n(card, history) => !getLast(history) || isBlack(card) === (getValue(getLast(history)) < getValue(card))","//After red increase, else decrease or equal \n(card, history) => !getLast(history) || isRed(getLast(history)) === (getValue(getLast(history)) > getValue(card))","//After black increase, else decrease or equal \n(card, history) => !getLast(history) || isBlack(getLast(history)) === (getValue(getLast(history)) > getValue(card))","//After red decrease, else increase or equal \n(card, history) => !getLast(history) || isRed(getLast(history)) === (getValue(getLast(history)) < getValue(card))","//After black decrease, else increase or equal \n(card, history) => !getLast(history) || isBlack(getLast(history)) === (getValue(getLast(history)) < getValue(card))",'//Alternate (Heart and Spade) and not\n(card, history) => "HS".includes(getSymbol(card)) !== "HS".includes(getSymbol(getLast(history)))','//Alternate (Heart and Clubs) and not\n(card, history) => "HS".includes(getSymbol(card)) !== "HC".includes(getSymbol(getLast(history)))','//Alternate (Diamond and Spade) and not\n(card, history) => "HS".includes(getSymbol(card)) !== "DS".includes(getSymbol(getLast(history)))','//Alternate (Diamond and Clubs) and not\n(card, history) => "HS".includes(getSymbol(card)) !== "DC".includes(getSymbol(getLast(history)))',"//Sum of consecutive values must be prime\n(card, history) => !getLast(history) || [2, 3, 5, 7, 11, 13, 17, 19, 23].includes(getValue(card)+getValue(getLast(card)))"],hard:["//Accept at most 2 cards for each symbol\n(card, history) => history.filter(c => getSymbol(c) === getSymbol(card)).length < 2","//Accept at most 3 cards for each symbol\n(card, history) => history.filter(c => getSymbol(c) === getSymbol(card)).length < 3","//Accept at most 2 cards for each parity\n(card, history) => history.filter(c => getValue(c)%2 === getValue(card)%2).length < 2","//Accept at most 3 cards for each parity\n(card, history) => history.filter(c => getValue(c)%2 === getValue(card)%2).length < 3","//Accept at most 4 cards for each parity\n(card, history) => history.filter(c => getValue(c)%2 === getValue(card)%2).length < 4","//Accept 5 cards then reject everything\n(card, history) => history.length < 5","//Accept 6 cards then reject everything\n(card, history) => history.length < 6","//Accept 7 cards then reject everything\n(card, history) => history.length < 7","//Accept 8 cards then reject everything\n(card, history) => history.length < 8","//Accept 9 cards then reject everything\n(card, history) => history.length < 9","//Accept 10 cards then reject everything\n(card, history) => history.length < 10","//Sum of all card must be exactly equal to 42, then reject\n(card, history) => [...history, card].map(getValue).reduce((a,b) => a+b,0) < 43","//Same parity as the number of Red cards.\n(card, history) => getValue(card) % 2 === history.filter(isRed).length % 2","//Never repeat a previous value.\n(card, history) => !history.find(c => getValue(c) === getValue(card))",'//Never repeat a previous value and only hearts.\n(card, history) => !history.find(c => getValue(c) === getValue(card)) && getSymbol(card) === "H"','//Never repeat a previous value and only spade.\n(card, history) => !history.find(c => getValue(c) === getValue(card)) && getSymbol(card) === "S"','//Never repeat a previous value and only clubs.\n(card, history) => !history.find(c => getValue(c) === getValue(card)) && getSymbol(card) === "C"','//Never repeat a previous value and only diamond.\n(card, history) => !history.find(c => getValue(c) === getValue(card)) && getSymbol(card) === "D"',"//Every other card must have the same Symbol as previous card\n(card, history) => history.length % 2 === 0 || getSymbol(card) === getSymbol(getLast(history))","//Only every third card can and must change the Symbol\n(card, history) => (history.length % 3 === 0) !== (getSymbol(card) === getSymbol(getLast(history)))","//Every other card must have the same value as previous card\n(card, history) => history.length % 2 === 0 || getValue(card) === getValue(getLast(history))",'//Every other card must be Heart\n(card, history) => history.length % 2 === 0 || getSymbol(card) === "H"','//Every other card must be Spade\n(card, history) => history.length % 2 === 0 || getSymbol(card) === "S"','//Every other card must be Club\n(card, history) => history.length % 2 === 0 || getSymbol(card) === "C"','//Every other card must be Diamond\n(card, history) => history.length % 2 === 0 || getSymbol(card) === "D"',"//Every other card must be the same value as the previous card\n(card, history) => history.length % 2 === 0 || getValue(card) === getValue(getLast(history))","//Cards must cycle 1,2,3 modulo 3\n(card, history) => getValue(card) % 3 === (1 + history.length) % 3","//Cards must cycle 1,2,3,4 modulo 4\n(card, history) => getValue(card) % 4 === (1 + history.length) % 4","//Cards must cycle 1,2,3,4,5 modulo 5\n(card, history) => getValue(card) % 5 === (1 + history.length) % 5",'//Cards values must match the decimals of Pi\n(card, history) => getValue(card) === Number("31415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679"[history.length])',"//Play a figure only when the position in sequence is prime\n(card, history) => [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97].includes(history.length + 1) === isFigure(card)","//Play a number only when the position in sequence is prime\n(card, history) => [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97].includes(history.length + 1) === isNumber(card)","//Play a red only when the position in sequence is prime\n(card, history) => [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97].includes(history.length + 1) === isRed(card)","//Play a black only when the position in sequence is prime\n(card, history) => [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97].includes(history.length + 1) === isBlack(card)","//Card value cannot be more than the number of accepted card plus 1\n(card, history) => getValue(card) < history.length + 2","//Card value cannot be less than the number of accepted card\n(card, history) => getValue(card) > history.length",'//Play a card among the symbols which have the least cards\n(card, history) => {const f = s => history.filter(c => getSymbol(c) === s).length; return !["H","D","C","S"].find(s => f(s) < f(getSymbol(card)));}',"//Match Fibnonacci sequence modulo 13\n(card, history) => history.length < 2 || getValue(card) % 13 === (getValue(history[history.length - 1]) + getValue(history[history.length - 2])) % 13","//Match Fibnonacci sequence modulo 13, starting with 1,1,...\n(card, history) => history.length < 2 ? getValue(card) === 1 : (getValue(card) % 13 === (getValue(history[history.length - 1]) + getValue(history[history.length - 2])) % 13)","//1 Red, 2 Black, 3 Red, 4 Black, ...\n(card, history) => isRed(card) === (Math.floor(0.5 + Math.sqrt(0.25 + 2 * history.length)) % 2 === 0)"]}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n(10),u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(t){var e=t.setGameId,n=(t.logger,Object(r.useState)(null)),s=u(n,2),c=s[0],l=s[1],f=Object(r.useState)(Object(a.b)()),h=u(f,2),d=h[0],p=h[1],y=function(){"OK"===d?(window.localStorage.setItem("eleusisDataPreference","RETRACTED"),p("RETRACTED"),alert("You have withdrawn from anonymous data collection")):(window.localStorage.setItem("eleusisDataPreference","OK"),p("OK"))},v=function(){var t=Object(a.a)(6);o.a.firestore().collection("games").doc(t).set({id:t,selected:"",master:"",players:[],statusSequence:[],cardSequence:[],turn:0}),e(t)};return i.a.createElement("div",{className:"picker"},i.a.createElement("h1",null,"ELEUSIS 2"),i.a.createElement("h2",null,"Welcome!"),i.a.createElement("span",null,"Join a game:"),i.a.createElement("div",{className:"inputContainer"},i.a.createElement("input",{type:"text",placeholder:"Game ID",onChange:function(t){return l(t.target.value)}}),i.a.createElement("button",{onClick:function(){return e(c)},disabled:!c},"Join")),i.a.createElement("span",null,"Or create a game:"),i.a.createElement("button",{onClick:v},"Create game"),"OK"===d&&i.a.createElement("span",{className:"disclaimer"},"Interaction with the game is anonymously recorded for the benefit of science. ",i.a.createElement("br",null),"Click ",i.a.createElement("u",{onClick:y},"here")," to withdraw from the data collection."),"RETRACTED"===d&&i.a.createElement("span",{className:"disclaimer"},"You have chosen to not share your data anonymously.",i.a.createElement("br",null),"Click ",i.a.createElement("u",{onClick:y},"here")," to decide to share your data again."))};e.a=s},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(0),o=n.n(i),a=n(1),u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(t){var e=t.game,n=t.setName,s=Object(i.useState)(""),c=u(s,2),l=c[0],f=c[1],h=function(){if(l){if(e.players.includes(l)||e.master===l)return void alert("This name is already taken");n(l);a.a.firestore().collection("games").doc(e.id).set({players:[].concat(r(e.players),[l])},{merge:!0})}};return o.a.createElement("div",{className:"picker"},o.a.createElement("p",null,"Share this page URL to invite friends"),o.a.createElement("span",null,"You can play alone if on the next screen you select the option to let Eleusis' Robot be the game master."),o.a.createElement("p",null,"Select or add your name:"),e.players.map(function(t){return o.a.createElement("button",{key:t,onClick:function(){return n(t)}},t)}),o.a.createElement("div",{className:"inputContainer"},o.a.createElement("input",{placeholder:"Add name",type:"text",onChange:function(t){return f(t.target.value)}}),o.a.createElement("button",{onClick:h,disabled:!l},"Submit")))};e.a=s},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=function(t){var e=t.game,n=t.name,r=e.players,a=e.leader,u=e.ended,s=function(){var t=o.a.firestore(),n={selected:"",master:"",rule:"",leader:"",gameType:"",statusSequence:[],cardSequence:[],ended:!1};r.forEach(function(t){n["bet_"+t]=0,n["score_"+t]=0,n["total_"+t]=0}),t.collection("games").doc(e.id).set(n,{merge:!0})},c=function(){o.a.firestore().collection("games").doc(e.id).set({ended:!0},{merge:!0})};return i.a.createElement("div",{className:"title"},i.a.createElement("span",{id:"title"},"Eleusis 2"),a===n&&!u&&i.a.createElement("button",{onClick:c},"Reveal Rule"),u&&i.a.createElement("button",{onClick:s},"Reset"))};e.a=a},function(t,e,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/eleusis",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/eleusis/service-worker.js";a?(o(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(t)})}}function i(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):i(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},function(t,e,n){"use strict";n(37)},function(t,e,n){"use strict";var r=n(6),i=(n(7),n(3),n(11),n(2),n(38)),o=n(9),a={Firestore:i.d,GeoPoint:i.o,Timestamp:i.p,Blob:i.c,Transaction:i.e,WriteBatch:i.n,DocumentReference:i.a,DocumentSnapshot:i.g,Query:i.i,QueryDocumentSnapshot:i.f,QuerySnapshot:i.l,CollectionReference:i.j,FieldPath:i.m,FieldValue:i.r,setLogLevel:i.b,CACHE_SIZE_UNLIMITED:i.k};!function(t){!function(t,e){t.INTERNAL.registerComponent(new o.a("firestore",function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},a)))}(t,function(t,e){return new i.d(t,new i.h(t,e),new i.q)}),t.registerVersion("@firebase/firestore","2.1.0")}(r.a)},function(t,e,n){"use strict";(function(t){function r(){return $i.logLevel}function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($i.logLevel<=Hi.a.DEBUG){var r=e.map(u);$i.debug.apply($i,Object(Yi.g)(["Firestore (8.2.0): "+t],r))}}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($i.logLevel<=Hi.a.ERROR){var r=e.map(u);$i.error.apply($i,Object(Yi.g)(["Firestore (8.2.0): "+t],r))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($i.logLevel<=Hi.a.WARN){var r=e.map(u);$i.warn.apply($i,Object(Yi.g)(["Firestore (8.2.0): "+t],r))}}function u(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function s(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.0) INTERNAL ASSERTION FAILED: "+t;throw o(e),new Error(e)}function c(t,e){t||s()}function l(t,e){return t}function f(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function h(t,e){return t<e?-1:t>e?1:0}function d(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function p(t){return t+"\0"}function y(){if("undefined"==typeof Uint8Array)throw new to(Zi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function v(){if("undefined"==typeof atob)throw new to(Zi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function m(t){return null==t}function g(t){return 0===t&&1/t==-1/0}function b(t){return"number"==typeof t&&Number.isInteger(t)&&!g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function _(t){switch(t){case Zi.OK:return s();case Zi.CANCELLED:case Zi.UNKNOWN:case Zi.DEADLINE_EXCEEDED:case Zi.RESOURCE_EXHAUSTED:case Zi.INTERNAL:case Zi.UNAVAILABLE:case Zi.UNAUTHENTICATED:return!1;case Zi.INVALID_ARGUMENT:case Zi.NOT_FOUND:case Zi.ALREADY_EXISTS:case Zi.PERMISSION_DENIED:case Zi.FAILED_PRECONDITION:case Zi.ABORTED:case Zi.OUT_OF_RANGE:case Zi.UNIMPLEMENTED:case Zi.DATA_LOSS:return!0;default:return s()}}function w(t){if(void 0===t)return o("GRPC error has no .code"),Zi.UNKNOWN;switch(t){case oo.OK:return Zi.OK;case oo.CANCELLED:return Zi.CANCELLED;case oo.UNKNOWN:return Zi.UNKNOWN;case oo.DEADLINE_EXCEEDED:return Zi.DEADLINE_EXCEEDED;case oo.RESOURCE_EXHAUSTED:return Zi.RESOURCE_EXHAUSTED;case oo.INTERNAL:return Zi.INTERNAL;case oo.UNAVAILABLE:return Zi.UNAVAILABLE;case oo.UNAUTHENTICATED:return Zi.UNAUTHENTICATED;case oo.INVALID_ARGUMENT:return Zi.INVALID_ARGUMENT;case oo.NOT_FOUND:return Zi.NOT_FOUND;case oo.ALREADY_EXISTS:return Zi.ALREADY_EXISTS;case oo.PERMISSION_DENIED:return Zi.PERMISSION_DENIED;case oo.FAILED_PRECONDITION:return Zi.FAILED_PRECONDITION;case oo.ABORTED:return Zi.ABORTED;case oo.OUT_OF_RANGE:return Zi.OUT_OF_RANGE;case oo.UNIMPLEMENTED:return Zi.UNIMPLEMENTED;case oo.DATA_LOSS:return Zi.DATA_LOSS;default:return s()}}function E(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function O(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function S(t){if(c(!!t),"string"==typeof t){var e=0,n=Po.exec(t);if(c(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:k(t.seconds),nanos:k(t.nanos)}}function k(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function T(t){return"string"==typeof t?Xi.fromBase64String(t):Xi.fromUint8Array(t)}function A(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function P(t){var e=t.mapValue.fields.__previous_value__;return A(e)?P(e):e}function C(t){var e=S(t.mapValue.fields.__local_write_time__.timestampValue);return new wo(e.seconds,e.nanos)}function D(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A(t)?4:10:s()}function N(t,e){var n=D(t);if(n!==D(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return C(t).isEqual(C(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=S(t.timestampValue),r=S(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return T(t.bytesValue).isEqual(T(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return k(t.geoPointValue.latitude)===k(e.geoPointValue.latitude)&&k(t.geoPointValue.longitude)===k(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return k(t.integerValue)===k(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=k(t.doubleValue),r=k(e.doubleValue);return n===r?g(n)===g(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return d(t.arrayValue.values||[],e.arrayValue.values||[],N);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(E(n)!==E(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!N(n[i],r[i])))return!1;return!0}(t,e);default:return s()}}function x(t,e){return void 0!==(t.values||[]).find(function(t){return N(t,e)})}function L(t,e){var n=D(t),r=D(e);if(n!==r)return h(n,r);switch(n){case 0:return 0;case 1:return h(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=k(t.integerValue||t.doubleValue),r=k(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return R(t.timestampValue,e.timestampValue);case 4:return R(C(t),C(e));case 5:return h(t.stringValue,e.stringValue);case 6:return function(t,e){var n=T(t),r=T(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=h(n[i],r[i]);if(0!==o)return o}return h(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=h(k(t.latitude),k(e.latitude));return 0!==n?n:h(k(t.longitude),k(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=L(n[i],r[i]);if(o)return o}return h(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=h(r[a],o[a]);if(0!==u)return u;var s=L(n[r[a]],i[o[a]]);if(0!==s)return s}return h(r.length,o.length)}(t.mapValue,e.mapValue);default:throw s()}}function R(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return h(t,e);var n=S(t),r=S(e),i=h(n.seconds,r.seconds);return 0!==i?i:h(n.nanos,r.nanos)}function j(t){return M(t)}function M(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=S(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?T(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,To.$t(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=M(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+M(t.fields[o])}return e+"}"}(t.mapValue):s();var e,n}function U(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.Ct()}}function V(t){return!!t&&"integerValue"in t}function F(t){return!!t&&"arrayValue"in t}function B(t){return!!t&&"nullValue"in t}function z(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q(t){return!!t&&"mapValue"in t}function W(t){var e=[];return O(t.fields||{},function(t,n){var r=new ko([t]);if(q(n)){var i=W(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];e.push(r.child(u))}}else e.push(r)}),new Ao(e)}function K(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new jo(t,e,n,r,i,o,a)}function H(t){var e=l(t);if(null===e.Xt){var n=e.path.Ct();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.Ct()+t.op.toString()+j(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.Ct()+t.dir}(t)}).join(","),m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$(e.startAt)),e.endAt&&(n+="|ub:",n+=$(e.endAt)),e.Xt=n}return e.Xt}function G(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!J(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!N(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z(t.startAt,e.startAt)&&Z(t.endAt,e.endAt)}function Q(t){return To.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Y(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return To.$t(t.referenceValue)})}function $(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return j(t)}).join(",")}function J(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function X(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.Ot()?To.At(To.$t(a.referenceValue),n.key):L(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Z(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!N(t.position[n],e.position[n]))return!1;return!0}function tt(t,e,n,r,i,o,a,u){return new Go(t,e,n,r,i,o,a,u)}function et(t){return new Go(t)}function nt(t){return!m(t.limit)&&"F"===t.limitType}function rt(t){return!m(t.limit)&&"L"===t.limitType}function it(t){return t.ne.length>0?t.ne[0].field:null}function ot(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.ee())return r.field}return null}function at(t){return null!==t.collectionGroup}function ut(t){var e=l(t);if(null===e.se){e.se=[];var n=ot(e),r=it(e);if(null!==n&&null===r)n.Ot()||e.se.push(new Ho(n)),e.se.push(new Ho(ko.kt(),"asc"));else{for(var i=!1,o=0,a=e.ne;o<a.length;o++){var u=a[o];e.se.push(u),u.field.Ot()&&(i=!0)}if(!i){var s=e.ne.length>0?e.ne[e.ne.length-1].dir:"asc";e.se.push(new Ho(ko.kt(),s))}}}return e.se}function st(t){var e=l(t);if(!e.ie)if("F"===e.limitType)e.ie=K(e.path,e.collectionGroup,ut(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ut(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ho(o.field,a))}var u=e.endAt?new Ko(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Ko(e.startAt.position,!e.startAt.before):null;e.ie=K(e.path,e.collectionGroup,n,e.filters,e.limit,u,s)}return e.ie}function ct(t,e,n){return new Go(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lt(t,e){return G(st(t),st(e))&&t.limitType===e.limitType}function ft(t){return H(st(t))+"|lt:"+t.limitType}function ht(t){return"Query(target="+function(t){var e=t.path.Ct();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.Ct()+" "+e.op+" "+j(e.value);var e}).join(", ")+"]"),m(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.Ct()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$(t.startAt)),t.endAt&&(e+=", endAt: "+$(t.endAt)),"Target("+e+")"}(st(t))+"; limitType="+t.limitType+")"}function dt(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Bt(t.collectionGroup)&&t.path.vt(n):To.qt(t.path)?t.path.isEqual(n):t.path.St(n)}(t,e)&&function(t,e){for(var n=0,r=t.ne;n<r.length;n++){var i=r[n];if(!i.field.Ot()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!X(t.startAt,ut(t),e))&&(!t.endAt||!X(t.endAt,ut(t),e))}(t,e)}function pt(t){return function(e,n){for(var r=!1,i=0,o=ut(t);i<o.length;i++){var a=o[i],u=yt(a,e,n);if(0!==u)return u;r=r||a.field.Ot()}return 0}}function yt(t,e,n){var r=t.field.Ot()?To.At(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?L(r,i):s()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return s()}}function vt(t,e){if(t.he){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g(e)?"-0":e}}function mt(t){return{integerValue:""+t}}function gt(t,e){return b(e)?mt(e):vt(t,e)}function bt(t,e,n){return t instanceof $o?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Jo?Et(t,e):t instanceof Xo?Ot(t,e):function(t,e){var n=wt(t,e),r=It(n)+It(t._e);return V(n)&&V(t._e)?mt(r):vt(t.fe,r)}(t,e)}function _t(t,e,n){return t instanceof Jo?Et(t,e):t instanceof Xo?Ot(t,e):n}function wt(t,e){return t instanceof Zo?V(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}function Et(t,e){for(var n=St(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return N(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}function Ot(t,e){for(var n=St(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!N(e,t)})}(i[r]);return{arrayValue:{values:n}}}function It(t){return k(t.integerValue||t.doubleValue)}function St(t){return F(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kt(t,e){return void 0!==t.updateTime?e instanceof xo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof xo}function Tt(t,e,n){return t instanceof ia?function(t,e,n){var r=t.value;if(n.transformResults){var i=xt(t.fieldTransforms,e,n.transformResults);r=Rt(t.fieldTransforms,r,i)}return new xo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof oa?function(t,e,n){if(!kt(t.Ee,e))return new Ro(t.key,n.version);var r=Nt(t,e,n.transformResults?xt(t.fieldTransforms,e,n.transformResults):[]);return new xo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Lo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function At(t,e,n,r){return t instanceof ia?function(t,e,n,r){if(!kt(t.Ee,e))return e;var i=t.value;if(t.fieldTransforms){var o=Lt(t.fieldTransforms,n,e,r);i=Rt(t.fieldTransforms,i,o)}var a=Dt(e);return new xo(t.key,a,i,{Jt:!0})}(t,e,r,n):t instanceof oa?function(t,e,n,r){if(!kt(t.Ee,e))return e;var i=Dt(e),o=Nt(t,e,Lt(t.fieldTransforms,n,e,r));return new xo(t.key,i,o,{Jt:!0})}(t,e,r,n):function(t,e){return kt(t.Ee,e)?new Lo(t.key,Eo.min()):e}(t,e)}function Pt(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof xo?e.field(o.field):void 0,u=wt(o.transform,a||null);null!=u&&(n=null==n?(new Do).set(o.field,u):n.set(o.field,u))}return n?n.Gt():null}(t.fieldTransforms,e):null}function Ct(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ee.isEqual(e.Ee)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&d(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Jo&&e instanceof Jo||t instanceof Xo&&e instanceof Xo?d(t.elements,e.elements,N):t instanceof Zo&&e instanceof Zo?N(t._e,e._e):t instanceof $o&&e instanceof $o}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Te.isEqual(e.Te))}function Dt(t){return t instanceof xo?t.version:Eo.min()}function Nt(t,e,n){var r;return r=function(t,e){var n=new Do(e);return t.Te.fields.forEach(function(e){if(!e.bt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Gt()}(t,r=e instanceof xo?e.data():Co.empty()),r=Rt(t.fieldTransforms,r,n)}function xt(t,e,n){var r=[];c(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=null;e instanceof xo&&(u=e.field(o.field)),r.push(_t(a,u,n[i]))}return r}function Lt(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var u=a[o],s=u.transform,c=null;n instanceof xo&&(c=n.field(u.field)),null===c&&r instanceof xo&&(c=r.field(u.field)),i.push(bt(s,c,e))}return i}function Rt(t,e,n){for(var r=new Do(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Gt()}function jt(){return pa}function Mt(){return jt()}function Ut(){return ya}function Vt(){return va}function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ma,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function Bt(){return ga}function zt(){return new ca(To.At)}function qt(){return new ca(To.At)}function Wt(t,e){return t.he?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kt(t,e){return t.he?e.toBase64():e.toUint8Array()}function Ht(t,e){return Wt(t,e.Tt())}function Gt(t){return c(!!t),Eo.wt(function(t){var e=S(t);return new wo(e.seconds,e.nanos)}(t))}function Qt(t,e){return function(t){return new Io(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).Ct()}function Yt(t){var e=Io.xt(t);return c(be(e)),e}function $t(t,e){return Qt(t.O,e.path)}function Jt(t,e){var n=Yt(e);if(n.get(1)!==t.O.projectId)throw new to(Zi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.O.projectId);if(n.get(3)!==t.O.database)throw new to(Zi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.O.database);return new To(ee(n))}function Xt(t,e){return Qt(t.O,e)}function Zt(t){var e=Yt(t);return 4===e.length?Io.Nt():ee(e)}function te(t){return new Io(["projects",t.O.projectId,"databases",t.O.database]).Ct()}function ee(t){return c(t.length>4&&"documents"===t.get(4)),t.Pt(5)}function ne(t,e,n){return{name:$t(t,e),fields:n.proto.mapValue.fields}}function re(t,e,n){var r=Jt(t,e.name),i=Gt(e.updateTime),o=new Co({mapValue:{fields:e.fields}});return new xo(r,i,o,{hasCommittedMutations:!!n})}function ie(t,e){var n;if(e instanceof ia)n={update:ne(t,e.key,e.value)};else if(e instanceof aa)n={delete:$t(t,e.key)};else if(e instanceof oa)n={update:ne(t,e.key,e.data),updateMask:ge(e.Te)};else{if(!(e instanceof ua))return s();n={verify:$t(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $o)return{fieldPath:e.field.Ct(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jo)return{fieldPath:e.field.Ct(),appendMissingElements:{values:n.elements}};if(n instanceof Xo)return{fieldPath:e.field.Ct(),removeAllFromArray:{values:n.elements}};if(n instanceof Zo)return{fieldPath:e.field.Ct(),increment:n._e};throw s()}(0,t)})),e.Ee.we||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ht(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:s()}(t,e.Ee)),n}function oe(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?na.updateTime(Gt(t.updateTime)):void 0!==t.exists?na.exists(t.exists):na.de()}(e.currentDocument):na.de(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)c("REQUEST_TIME"===e.setToServerValue),n=new $o;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Jo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Xo(i)}else"increment"in e?n=new Zo(t,e.increment):s();var o=ko.Mt(e.fieldPath);return new ta(o,n)}(t,e)}):[];if(e.update){e.update.name;var i=Jt(t,e.update.name),o=new Co({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Ao(e.map(function(t){return ko.Mt(t)}))}(e.updateMask);return new oa(i,o,a,n,r)}return new ia(i,o,n,r)}if(e.delete){var u=Jt(t,e.delete);return new aa(u,n)}if(e.verify){var l=Jt(t,e.verify);return new ua(l,n)}return s()}function ae(t,e){return{documents:[Xt(t,e.path)]}}function ue(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xt(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xt(t,r.yt()),n.structuredQuery.from=[{collectionId:r.Vt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(z(t.value))return{unaryFilter:{field:pe(t.field),op:"IS_NAN"}};if(B(t.value))return{unaryFilter:{field:pe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(z(t.value))return{unaryFilter:{field:pe(t.field),op:"IS_NOT_NAN"}};if(B(t.value))return{unaryFilter:{field:pe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pe(t.field),op:de(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pe(t.field),direction:he(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.he||m(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=le(e.startAt)),e.endAt&&(n.structuredQuery.endAt=le(e.endAt)),n}function se(t){var e=Zt(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){c(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=ce(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new Ho(ye(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var s=null;n.limit&&(s=function(t){var e;return m(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=fe(n.startAt));var f=null;return n.endAt&&(f=fe(n.endAt)),tt(e,i,u,a,s,"F",l,f)}function ce(t){return t?void 0!==t.unaryFilter?[me(t)]:void 0!==t.fieldFilter?[ve(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ce(t)}).reduce(function(t,e){return t.concat(e)}):s():[]}function le(t){return{before:t.before,values:t.position}}function fe(t){var e=!!t.before,n=t.values||[];return new Ko(n,e)}function he(t){return Pa[t]}function de(t){return Ca[t]}function pe(t){return{fieldPath:t.Ct()}}function ye(t){return ko.Mt(t.fieldPath)}function ve(t){return Mo.create(ye(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return s()}}(t.fieldFilter.op),t.fieldFilter.value)}function me(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ye(t.unaryFilter.field);return Mo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ye(t.unaryFilter.field);return Mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ye(t.unaryFilter.field);return Mo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ye(t.unaryFilter.field);return Mo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return s()}}function ge(t){var e=[];return t.fields.forEach(function(t){return e.push(t.Ct())}),{fieldPaths:e}}function be(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function _e(t){return new Da(t,!0)}function we(t){return"IndexedDbTransactionError"===t.name}function Ee(t){return new Na(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Oe(t.target.error);n(e)}})}function Oe(t){var e=La.ws(Object(Gi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new to("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ua||(Ua=!0,setTimeout(function(){throw r},0)),r}}return t}function Ie(t,e){if(o("AsyncQueue",e+": "+t),we(t))return new to(Zi.UNAVAILABLE,e+": "+t);throw t}function Se(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){if(t.code!==Zi.FAILED_PRECONDITION||t.message!==Ka)throw t;return i("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ke(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=h(n,i);return 0===a?h(r,o):a}function Te(t,e,n){if(!n)throw new to(Zi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ae(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new to(Zi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Pe(t,e,n,r){if(!0===e&&!0===r)throw new to(Zi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ce(t){if(!To.qt(t))throw new to(Zi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function De(t){if(To.qt(t))throw new to(Zi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ne(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":s()}function xe(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new to(Zi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ne(t);throw new to(Zi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Le(t,e){if(e<=0)throw new to(Zi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}function Re(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Me(e)),e=je(t.get(n),e);return Me(e)}function je(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Me(t){return t+"\x01\x01"}function Ue(t){var e=t.length;if(c(e>=2),2===e)return c("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Io.Nt();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&s(),t.charAt(a+1)){case"\x01":var u=t.substring(o,a),l=void 0;0===i.length?l=u:(l=i+=u,i=""),r.push(l);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:s()}o=a+2}return new Io(r)}function Ve(t,e){var n=l(t);return La.As(n.ro,e)}function Fe(t,e){if(e.document)return re(t.co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=To.Ut(e.noDocument.path),r=Ke(e.noDocument.readTime);return new Lo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=To.Ut(e.unknownDocument.path);return r=Ke(e.unknownDocument.version),new Ro(i,r)}return s()}function Be(t,e,n){var r=ze(n),i=e.key.path.yt().Dt();if(e instanceof xo){var o=function(t,e){return{name:$t(t,e.key),fields:e.Yt().mapValue.fields,updateTime:Wt(t,e.version.Tt())}}(t.co,e),a=e.hasCommittedMutations;return new pu(null,null,o,a,r,i)}if(e instanceof Lo){var u=e.key.path.Dt(),c=We(e.version);return a=e.hasCommittedMutations,new pu(null,new hu(u,c),null,a,r,i)}if(e instanceof Ro){var l=e.key.path.Dt(),f=We(e.version);return new pu(new du(l,f),null,null,!0,r,i)}return s()}function ze(t){var e=t.Tt();return[e.seconds,e.nanoseconds]}function qe(t){var e=new wo(t[0],t[1]);return Eo.wt(e)}function We(t){var e=t.Tt();return new uu(e.seconds,e.nanoseconds)}function Ke(t){var e=new wo(t.seconds,t.nanoseconds);return Eo.wt(e)}function He(t,e){for(var n=(e.baseMutations||[]).map(function(e){return oe(t.co,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return oe(t.co,e)}),a=wo.fromMillis(e.localWriteTimeMs);return new Ja(e.batchId,a,n,o)}function Ge(t){var e,n,r=Ke(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ke(t.lastLimboFreeSnapshotVersion):Eo.min();return void 0!==t.query.documents?(c(1===(n=t.query).documents.length),e=st(et(Zt(n.documents[0])))):e=function(t){return st(se(t))}(t.query),new Qo(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xi.fromBase64String(t.resumeToken))}function Qe(t,e){var n,r=We(e.oe),i=We(e.lastLimboFreeSnapshotVersion);n=Q(e.target)?ae(t.co,e.target):ue(t.co,e.target);var o=e.resumeToken.toBase64();return new vu(e.targetId,H(e.target),r,o,e.sequenceNumber,i,n)}function Ye(t){var e=se({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ct(e,e.limit,"L"):e}function $e(t){return Ve(t,wu.store)}function Je(t){return Ve(t,Eu.store)}function Xe(t){return Ve(t,bu.store)}function Ze(t,e,n){var r=t.store(lu.store),i=t.store(fu.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Fs({range:a},function(t,e,n){return u++,n.delete()});o.push(s.next(function(){c(1===u)}));for(var l=[],f=0,h=n.mutations;f<h.length;f++){var d=h[f],p=fu.key(e,d.key.path,n.batchId);o.push(i.delete(p)),l.push(d.key)}return Na.hs(o).next(function(){return l})}function tn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw s();e=t.noDocument}return JSON.stringify(e).length}function en(t,e,n){var r=fu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return rn(t).Fs({range:o,Ns:!0},function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(a=!0),r.done()}).next(function(){return a})}function nn(t){return Ve(t,lu.store)}function rn(t){return Ve(t,fu.store)}function on(t){return Ve(t,cu.store)}function an(t){return Ve(t,vu.store)}function un(t){return Ve(t,gu.store)}function sn(t){return Ve(t,mu.store)}function cn(t,e){return sn(t).put(function(t,e){return new mu(0,Re(t.path),e)}(e,t.oo))}function ln(t){return Ve(t,yu.store)}function fn(t){return Ve(t,pu.store)}function hn(t){return t.path.Dt()}function dn(t){t.createObjectStore(mu.store,{keyPath:mu.keyPath}).createIndex(mu.documentTargetsIndex,mu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vu.store,{keyPath:vu.keyPath}).createIndex(vu.queryTargetsIndexName,vu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gu.store)}function pn(t){return Ve(t,su.store)}function yn(t){return Ve(t,_u.store)}function vn(t,e){var n=t.projectId;return t.M||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function mn(t,e,n,r){return new zu(t,e,n,r)}function gn(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yi.d)(this,function(a){switch(a.label){case 0:return n=l(t),r=n.Ra,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ra.vo(t).next(function(a){return o=a,r=n.persistence.Ta(e),i=new Vu(n.Qa,r,n.persistence.Ia()),r.vo(t)}).next(function(e){for(var n=[],r=[],a=Ft(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.Va(t,a).next(function(t){return{Wa:t,ja:n,Ga:r}})})})];case 1:return o=a.sent(),[2,(n.Ra=r,n.Ka=i,n.$a.Fa(n.Ka),o)]}})})}function bn(t,e){var n=l(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qa.lc({yc:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Na.resolve();return o.forEach(function(t){a=a.next(function(){return r.Ar(e,t)}).next(function(e){var o=e,a=n.ar.get(t);c(null!==a),(!o||o.version.u(a)<0)&&(o=i.nr(t,o,n))&&r.Er(o,n.cr)})}),a.next(function(){return t.Ra.No(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}function _n(t){var e=l(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Qc.Wo(t)})}function wn(t,e){var n=l(t),r=e.oe,i=n.Ba;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qa.lc({yc:!0});i=n.Ba;var a=[];e.rn.forEach(function(e,o){var u=i.get(o);if(u){a.push(n.Qc.ic(t,e.dn,o).next(function(){return n.Qc.nc(t,e._n,o)}));var s=e.resumeToken;if(s.o()>0){var l=u.ae(s,r).ce(t.oo);i=i.Ie(o,l),function(t,e,n){return c(e.resumeToken.o()>0),0===t.resumeToken.o()||e.oe.Et()-t.oe.Et()>=3e8||n._n.size+n.fn.size+n.dn.size>0}(u,l,e)&&a.push(n.Qc.Yo(t,l))}}});var u=jt();if(e.cn.forEach(function(r,i){e.an.has(r)&&a.push(n.persistence.Io.fc(t,r))}),a.push(En(t,o,e.cn,r,void 0).next(function(t){u=t})),!r.isEqual(Eo.min())){var s=n.Qc.Wo(t).next(function(e){return n.Qc.Go(t,t.oo,r)});a.push(s)}return Na.hs(a).next(function(){return o.apply(t)}).next(function(){return n.Ka.pa(t,u)})}).then(function(t){return n.Ba=i,t})}function En(t,e,n,r,o){var a=Ft();return n.forEach(function(t){return a=a.add(t)}),e.getEntries(t,a).next(function(t){var a=jt();return n.forEach(function(n,u){var s=t.get(n),c=(null==o?void 0:o.get(n))||r;u instanceof Lo&&u.version.isEqual(Eo.min())?(e.mr(n,c),a=a.Ie(n,u)):null==s||u.version.u(s.version)>0||0===u.version.u(s.version)&&s.hasPendingWrites?(e.Er(u,c),a=a.Ie(n,u)):i("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",u.version)}),a})}function On(t,e){var n=l(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ra.po(t,e)})}function In(t,e){var n=l(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Qc.ec(t,e).next(function(i){return i?(r=i,Na.resolve(r)):n.Qc.Uo(t).next(function(i){return r=new Qo(e,i,0,t.oo),n.Qc.zo(t,r).next(function(){return r})})})}).then(function(t){var r=n.Ba.get(t.targetId);return(null===r||t.oe.u(r.oe)>0)&&(n.Ba=n.Ba.Ie(t.targetId,t),n.qa.set(e,t.targetId)),t})}function Sn(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,o,a,u;return Object(Yi.d)(this,function(s){switch(s.label){case 0:r=l(t),o=r.Ba.get(e),a=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(t){return r.persistence.Io.removeTarget(t,o)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!we(u=s.sent()))throw u;return i("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.Ba=r.Ba.remove(e),r.qa.delete(o.target),[2]}})})}function kn(t,e,n){var r=l(t),i=Eo.min(),o=Ft();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=l(t),i=r.qa.get(n);return void 0!==i?Na.resolve(r.Ba.get(i)):r.Qc.ec(e,n)}(r,t,st(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qc.oc(t,e.targetId).next(function(t){o=t})}).next(function(){return r.$a.Pc(t,e,n?i:Eo.min(),n?o:Ft())}).next(function(t){return{documents:t,za:o}})})}function Tn(t,e){var n=l(t),r=l(n.Qc),i=n.Ba.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Zn(t,e).next(function(t){return t?t.target:null})})}function An(t){var e=l(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=l(t),i=jt(),o=ze(n),a=fn(e),u=IDBKeyRange.lowerBound(o,!0);return a.Fs({index:pu.readTimeIndex,range:u},function(t,e){var n=Fe(r.fe,e);i=i.Ie(n.key,n),o=e.readTime}).next(function(){return{tr:i,readTime:qe(o)}})}(e.Qa,t,e.Ua)}).then(function(t){var n=t.tr,r=t.readTime;return e.Ua=r,n})}function Pn(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){return[2,(e=l(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=fn(t),n=Eo.min();return e.Fs({index:pu.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=qe(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ua=t})]})})}function Cn(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var i,o,a,u,s,c,f,h,d,p;return Object(Yi.d)(this,function(y){switch(y.label){case 0:for(i=l(t),o=Ft(),a=jt(),u=Vt(),s=0,c=n;s<c.length;s++)f=c[s],h=e.Ha(f.metadata.name),f.document&&(o=o.add(h)),a=a.Ie(h,e.Ja(f)),u=u.Ie(h,e.Ya(f.metadata.readTime));return d=i.Qa.lc({yc:!0}),[4,In(i,function(t){return st(et(Io.xt("__bundle__/docs/"+t)))}(r))];case 1:return p=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return En(t,d,a,Eo.min(),u).next(function(e){return d.apply(t),e}).next(function(e){return i.Qc.Zo(t,p.targetId).next(function(){return i.Qc.nc(t,o,p.targetId)}).next(function(){return i.Ka.pa(t,e)})})})]}})})}function Dn(t,e,n){return void 0===n&&(n=Ft()),Object(Yi.b)(this,void 0,void 0,function(){var r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return[4,In(t,st(Ye(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=l(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Gt(e.readTime);if(r.oe.u(o)>=0)return i.Wc.lo(t,e);var a=r.ae(Xi.h,o);return i.Ba=i.Ba.Ie(a.targetId,a),i.Qc.Yo(t,a).next(function(){return i.Qc.Zo(t,r.targetId)}).next(function(){return i.Qc.nc(t,n,r.targetId)}).next(function(){return i.Wc.lo(t,e)})})]}})})}function Nn(t,e){return"firestore_clients_"+t+"_"+e}function xn(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.T()&&(r+="_"+e.uid),r}function Ln(t,e){return"firestore_targets_"+t+"_"+e}function Rn(){return"undefined"!=typeof window?window:null}function jn(){return"undefined"!=typeof document?document:null}function Mn(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:if(!Kn(t))return[3,4];e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Un(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Vn(t,e){var n=l(t);n.jh.has(e.targetId)||(n.jh.set(e.targetId,e),Wn(n)?qn(n):ar(n).li()&&Bn(n,e))}function Fn(t,e){var n=l(t),r=ar(n);n.jh.delete(e),r.li()&&zn(n,e),0===n.jh.size&&(r.li()?r.di():Kn(n)&&n.Jh.set("Unknown"))}function Bn(t,e){t.Yh.Dn(e.targetId),ar(t).gi(e)}function zn(t,e){t.Yh.Dn(e),ar(t).Vi(e)}function qn(t){t.Yh=new Aa({Xn:function(e){return t.Kh.Xn(e)},Zn:function(e){return t.jh.get(e)||null}}),ar(t).start(),t.Jh.Mh()}function Wn(t){return Kn(t)&&!ar(t).hi()&&t.jh.size>0}function Kn(t){return 0===l(t).Gh.size}function Hn(t){t.Yh=void 0}function Gn(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){return t.jh.forEach(function(e,n){Bn(t,e)}),[2]})})}function Qn(t,e){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(n){return Hn(t),Wn(t)?(t.Jh.Bh(e),qn(t)):t.Jh.set("Unknown"),[2]})})}function Yn(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,o,a;return Object(Yi.d)(this,function(u){switch(u.label){case 0:if(t.Jh.set("Online"),!(e instanceof ka&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yi.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.jh.has(o)?[4,t.Kh.Xh(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.jh.delete(o),t.Yh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),i("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$n(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ia?t.Yh.Ln(e):e instanceof Sa?t.Yh.jn(e):t.Yh.qn(e),n.isEqual(Eo.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,_n(t.Uh)];case 8:return o=u.sent(),n.u(o)>=0?[4,function(t,e){var n=t.Yh.Hn(e);return n.rn.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.jh.get(r);i&&t.jh.set(r,i.ae(n.resumeToken,e))}}),n.on.forEach(function(e){var n=t.jh.get(e);if(n){t.jh.set(e,n.ae(Xi.h,n.oe)),zn(t,e);var r=new Qo(n.target,e,1,n.sequenceNumber);Bn(t,r)}}),t.Kh.Zh(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return i("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,$n(t,a)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function $n(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r=this;return Object(Yi.d)(this,function(o){switch(o.label){case 0:if(!we(e))throw e;return t.Gh.add(1),[4,Un(t)];case 1:return o.sent(),t.Jh.set("Offline"),n||(n=function(){return _n(t.Uh)}),t.ks.ea(function(){return Object(Yi.b)(r,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return i("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Gh.delete(1),[4,Mn(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Jn(t,e){return e().catch(function(n){return $n(t,n,e)})}function Xn(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Yi.d)(this,function(a){switch(a.label){case 0:e=l(t),n=ur(e),r=e.Wh.length>0?e.Wh[e.Wh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Kn(t)&&t.Wh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,On(e.Uh,r)];case 3:return null===(i=a.sent())?(0===e.Wh.length&&n.di(),[3,7]):(r=i.batchId,function(t,e){t.Wh.push(e);var n=ur(t);n.li()&&n.bi&&n.vi(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$n(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Zn(e)&&tr(e),[2]}})})}function Zn(t){return Kn(t)&&!ur(t).hi()&&t.Wh.length>0}function tr(t){ur(t).start()}function er(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){return ur(t).Ci(),[2]})})}function nr(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(Yi.d)(this,function(o){for(e=ur(t),n=0,r=t.Wh;n<r.length;n++)i=r[n],e.vi(i.mutations);return[2]})})}function rr(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return r=t.Wh.shift(),i=Xa.from(r,e,n),[4,Jn(t,function(){return t.Kh.tl(i)})];case 1:return o.sent(),[4,Xn(t)];case 2:return o.sent(),[2]}})})}function ir(t,e){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e&&ur(t).bi?[4,function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return _(r=e.code)&&r!==Zi.ABORTED?(n=t.Wh.shift(),ur(t).fi(),[4,Jn(t,function(){return t.Kh.el(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Xn(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Zn(t)&&tr(t),[2]}})})}function or(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return n=l(t),e?(n.Gh.delete(2),[4,Mn(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=e)?[3,4]:(n.Gh.add(2),[4,Un(n)]);case 3:i.sent(),r=n.Jh.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function ar(t){var e=this;return t.nl||(t.nl=function(t,e,n){var r=l(t);return r.Ni(),new za(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:Gn.bind(null,t),Z:Qn.bind(null,t),yi:Yn.bind(null,t)}),t.zh.push(function(n){return Object(Yi.b)(e,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return n?(t.nl.fi(),Wn(t)?qn(t):t.Jh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.nl.stop()];case 2:e.sent(),Hn(t),e.label=3;case 3:return[2]}})})})),t.nl}function ur(t){var e=this;return t.sl||(t.sl=function(t,e,n){var r=l(t);return r.Ni(),new qa(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:er.bind(null,t),Z:ir.bind(null,t),Di:nr.bind(null,t),Si:rr.bind(null,t)}),t.zh.push(function(n){return Object(Yi.b)(e,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return n?(t.sl.fi(),[4,Xn(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.sl.stop()];case 3:e.sent(),t.Wh.length>0&&(i("RemoteStore","Stopping write stream with "+t.Wh.length+" pending writes"),t.Wh=[]),e.label=4;case 4:return[2]}})})})),t.sl}function sr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s;return Object(Yi.d)(this,function(c){switch(c.label){case 0:if(n=l(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ss),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.ol(r)];case 2:return a.il=c.sent(),[3,4];case 3:return u=c.sent(),s=Ie(u,"Initialization of query '"+ht(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.cl(n.onlineState),o.il&&e.al(o.il)&&hr(n),[2]}})})}function cr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Yi.d)(this,function(u){return n=l(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.ul(r))]:[2]})})}function lr(t,e){for(var n=l(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,f=s.listeners;c<f.length;c++)f[c].al(a)&&(r=!0);s.il=a}}r&&hr(n)}function fr(t,e,n){var r=l(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function hr(t){t.rl.forEach(function(t){t.next()})}function dr(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}function pr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(Yi.d)(this,function(s){switch(s.label){case 0:return n=qr(t),(o=n.Ul.get(e))?(r=o.targetId,n.$l.ah(r),i=o.view.Ol(),[3,4]):[3,1];case 1:return[4,In(n.Uh,st(e))];case 2:return a=s.sent(),u=n.$l.ah(a.targetId),r=a.targetId,[4,yr(n,e,r,"current"===u)];case 3:i=s.sent(),n.Xl&&Vn(n.Ml,a),s.label=4;case 4:return[2,i]}})})}function yr(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var i,o,a,u,s,c;return Object(Yi.d)(this,function(l){switch(l.label){case 0:return t.Zl=function(e,n,r){return function(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var i,o,a;return Object(Yi.d)(this,function(u){switch(u.label){case 0:return i=e.view.bl(n),i.La?[4,kn(t.Uh,e.query,!1).then(function(t){var n=t.documents;return e.view.bl(n,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.rn.get(e.targetId),a=e.view.yr(i,t.Xl,o),[2,(Ar(t,e.targetId,a.xl),a.snapshot)]}})})}(t,e,n,r)},[4,kn(t.Uh,e,!0)];case 1:return i=l.sent(),o=new ys(e,i.za),a=o.bl(i.documents),u=Oa.hn(n,r&&"Offline"!==t.onlineState),s=o.yr(a,t.Xl,u),Ar(t,n,s.xl),c=new vs(e,n,o),[2,(t.Ul.set(e,c),t.Ql.has(n)?t.Ql.get(n).push(e):t.Ql.set(n,[e]),s.snapshot)]}})})}function vr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return n=l(t),r=n.Ul.get(e),(i=n.Ql.get(r.targetId)).length>1?[2,(n.Ql.set(r.targetId,i.filter(function(t){return!lt(t,e)})),void n.Ul.delete(e))]:n.Xl?(n.$l.hh(r.targetId),n.$l.nh(r.targetId)?[3,2]:[4,Sn(n.Uh,r.targetId,!1).then(function(){n.$l._h(r.targetId),Fn(n.Ml,r.targetId),kr(n,r.targetId)}).catch(Se)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kr(n,r.targetId),[4,Sn(n.Uh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function mr(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Yi.d)(this,function(u){switch(u.label){case 0:r=Wr(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=l(t),i=wo.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ft());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ka.Va(t,o).next(function(o){n=o;for(var a=[],u=0,s=e;u<s.length;u++){var c=s[u],l=Pt(c,n.get(c.key));null!=l&&a.push(new oa(c.key,l,W(l.proto.mapValue),na.exists(!0)))}return r.Ra.Po(t,i,a,e)})}).then(function(t){var e=t.rr(n);return{batchId:t.batchId,_r:e}})}(r.Uh,e)];case 2:return i=u.sent(),r.$l.sh(i.batchId),function(t,e,n){var r=t.zl[t.currentUser.I()];r||(r=new ca(h)),r=r.Ie(e,n),t.zl[t.currentUser.I()]=r}(r,i.batchId,n),[4,Dr(r,i._r)];case 3:return u.sent(),[4,Xn(r.Ml)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Ie(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function gr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(i){switch(i.label){case 0:n=l(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wn(n.Uh,e)];case 2:return r=i.sent(),e.rn.forEach(function(t,e){var r=n.jl.get(e);r&&(c(t._n.size+t.fn.size+t.dn.size<=1),t._n.size>0?r.kl=!0:t.fn.size>0?c(r.kl):t.dn.size>0&&(c(r.kl),r.kl=!1))}),[4,Dr(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Se(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function br(t,e,n){var r=l(t);if(r.Xl&&0===n||!r.Xl&&1===n){var i=[];r.Ul.forEach(function(t,n){var r=n.view.cl(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=l(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].cl(e)&&(r=!0)}),r&&hr(n)}(r.Ll,e),i.length&&r.ql.yi(i),r.onlineState=e,r.Xl&&r.$l.Eh(e)}}function _r(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i,o,a,u,s;return Object(Yi.d)(this,function(c){switch(c.label){case 0:return(r=l(t)).$l.fh(e,"rejected",n),i=r.jl.get(e),(o=i&&i.key)?(a=(a=new ca(To.At)).Ie(o,new Lo(o,Eo.min())),u=Ft().add(o),s=new Ea(Eo.min(),new Map,new ha(h),a,u),[4,gr(r,s)]):[3,2];case 1:return c.sent(),r.Wl=r.Wl.remove(o),r.jl.delete(e),Cr(r),[3,4];case 2:return[4,Sn(r.Uh,e,!1).then(function(){return kr(r,e,n)}).catch(Se)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function wr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:n=l(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,bn(n.Uh,e)];case 2:return i=o.sent(),Sr(n,r,null),Ir(n,r),n.$l.rh(r,"acknowledged"),[4,Dr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Se(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Er(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:r=l(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=l(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ra.yo(t,e).next(function(e){return c(null!==e),r=e.keys(),n.Ra.No(t,e)}).next(function(){return n.Ra.ko(t)}).next(function(){return n.Ka.Va(t,r)})})}(r.Uh,e)];case 2:return i=o.sent(),Sr(r,e,n),Ir(r,e),r.$l.rh(e,"rejected",n),[4,Dr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Se(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Or(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,o,a,u;return Object(Yi.d)(this,function(s){switch(s.label){case 0:Kn((n=l(t)).Ml)||i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=l(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ra.bo(t)})}(n.Uh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((o=n.Hl.get(r)||[]).push(e),n.Hl.set(r,o),[3,4]);case 3:return a=s.sent(),u=Ie(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}})})}function Ir(t,e){(t.Hl.get(e)||[]).forEach(function(t){t.resolve()}),t.Hl.delete(e)}function Sr(t,e,n){var r=l(t),i=r.zl[r.currentUser.I()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.zl[r.currentUser.I()]=i}}function kr(t,e,n){void 0===n&&(n=null),t.$l.hh(e);for(var r=0,i=t.Ql.get(e);r<i.length;r++){var o=i[r];t.Ul.delete(o),n&&t.ql.t_(o,n)}t.Ql.delete(e),t.Xl&&t.Gl.cu(e).forEach(function(e){t.Gl.Mo(e)||Tr(t,e)})}function Tr(t,e){var n=t.Wl.get(e);null!==n&&(Fn(t.Ml,n),t.Wl=t.Wl.remove(e),t.jl.delete(n),Cr(t))}function Ar(t,e,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];a instanceof ds?(t.Gl.sc(a.key,e),Pr(t,a)):a instanceof ps?(i("SyncEngine","Document no longer in limbo: "+a.key),t.Gl.rc(a.key,e),t.Gl.Mo(a.key)||Tr(t,a.key)):s()}}function Pr(t,e){var n=e.key;t.Wl.get(n)||(i("SyncEngine","New document in limbo: "+n),t.Kl.push(n),Cr(t))}function Cr(t){for(;t.Kl.length>0&&t.Wl.size<t.Bl;){var e=t.Kl.shift(),n=t.Jl.next();t.jl.set(n,new ms(e)),t.Wl=t.Wl.Ie(e,n),Vn(t.Ml,new Qo(st(et(e.path)),n,2,Ya.Zi))}}function Dr(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,o,a,u;return Object(Yi.d)(this,function(s){switch(s.label){case 0:return r=l(t),o=[],a=[],u=[],r.Ul.bt()?[3,3]:(r.Ul.forEach(function(t,i){u.push(r.Zl(i,e,n).then(function(t){if(t){r.Xl&&r.$l.fh(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Fu.Na(i.targetId,t);a.push(e)}}))}),[4,Promise.all(u)]);case 1:return s.sent(),r.ql.yi(o),[4,function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,o,a,u,s,c,f,h;return Object(Yi.d)(this,function(d){switch(d.label){case 0:n=l(t),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Na.forEach(e,function(e){return Na.forEach(e.Ca,function(r){return n.persistence.Io.sc(t,e.targetId,r)}).next(function(){return Na.forEach(e.xa,function(r){return n.persistence.Io.rc(t,e.targetId,r)})})})})];case 2:return d.sent(),[3,4];case 3:if(!we(r=d.sent()))throw r;return i("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=e;o<a.length;o++)u=a[o],s=u.targetId,u.fromCache||(c=n.Ba.get(s),f=c.oe,h=c.ue(f),n.Ba=n.Ba.Ie(s,h));return[2]}})})}(r.Uh,a)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Nr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return(n=l(t)).currentUser.isEqual(e)?[3,3]:(i("SyncEngine","User change. New user:",e.I()),[4,gn(n.Uh,e)]);case 1:return r=o.sent(),n.currentUser=e,function(t,e){t.Hl.forEach(function(t){t.forEach(function(t){t.reject(new to(Zi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Hl.clear()}(n),n.$l.wh(e,r.ja,r.Ga),[4,Dr(n,r.Wa)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function xr(t,e){var n=l(t),r=n.jl.get(e);if(r&&r.kl)return Ft().add(r.key);var i=Ft(),o=n.Ql.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Ul.get(s);i=i.je(c.view.pl)}return i}function Lr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return[4,kn((n=l(t)).Uh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Fl(r),[2,(n.Xl&&Ar(n,e.targetId,i.xl),i)]}})})}function Rr(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){return[2,An((e=l(t)).Uh).then(function(t){return Dr(e,t)})]})})}function jr(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var o,a;return Object(Yi.d)(this,function(u){switch(u.label){case 0:return[4,function(t,e){var n=l(t),r=l(n.Ra);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vo(t,e).next(function(e){return e?n.Ka.Va(t,e):Na.resolve(null)})})}((o=l(t)).Uh,e)];case 1:return null===(a=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xn(o.Ml)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Sr(o,e,r||null),Ir(o,e),function(t,e){l(l(t).Ra).Fo(e)}(o.Uh,e)):s(),u.label=4;case 4:return[4,Dr(o,a)];case 5:return u.sent(),[3,7];case 6:i("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function Mr(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s,c;return Object(Yi.d)(this,function(f){switch(f.label){case 0:return qr(n=l(t)),Wr(n),!0!==e||!0===n.Yl?[3,3]:(r=n.$l.th(),[4,Ur(n,r.Dt())]);case 1:return i=f.sent(),n.Yl=!0,[4,or(n.Ml,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)u=a[o],Vn(n.Ml,u);return[3,7];case 3:return!1!==e||!1===n.Yl?[3,7]:(s=[],c=Promise.resolve(),n.Ql.forEach(function(t,e){n.$l.lh(e)?s.push(e):c=c.then(function(){return kr(n,e),Sn(n.Uh,e,!0)}),Fn(n.Ml,e)}),[4,c]);case 4:return f.sent(),[4,Ur(n,s)];case 5:return f.sent(),function(t){var e=l(t);e.jl.forEach(function(t,n){Fn(e.Ml,n)}),e.Gl.au(),e.jl=new Map,e.Wl=new ca(To.At)}(n),n.Yl=!1,[4,or(n.Ml,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function Ur(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s,c,f,h,d,p,y,v;return Object(Yi.d)(this,function(m){switch(m.label){case 0:n=l(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Ql.get(u))&&0!==c.length?[4,In(n.Uh,st(c[0]))]:[3,7]):[3,13];case 2:s=m.sent(),f=0,h=c,m.label=3;case 3:return f<h.length?(d=h[f],p=n.Ul.get(d),[4,Lr(n,p)]):[3,6];case 4:(y=m.sent()).snapshot&&i.push(y.snapshot),m.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Tn(n.Uh,u)];case 8:return v=m.sent(),[4,In(n.Uh,v)];case 9:return s=m.sent(),[4,yr(n,Vr(v),u,!1)];case 10:m.sent(),m.label=11;case 11:r.push(s),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.ql.yi(i),r)]}})})}function Vr(t){return tt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fr(t){return l(l(l(t).Uh).persistence).Ea()}function Br(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var o,a,u;return Object(Yi.d)(this,function(c){switch(c.label){case 0:return(o=l(t)).Yl?(i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Ql.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,An(o.Uh)];case 3:return a=c.sent(),u=Ea.un(e,"current"===n),[4,Dr(o,a,u)];case 4:return c.sent(),[3,8];case 5:return[4,Sn(o.Uh,e,!0)];case 6:return c.sent(),kr(o,e,r),[3,8];case 7:s(),c.label=8;case 8:return[2]}})})}function zr(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,o,a,u,s,c,l,f,h,d;return Object(Yi.d)(this,function(p){switch(p.label){case 0:if(!(r=qr(t)).Yl)return[3,10];o=0,a=e,p.label=1;case 1:return o<a.length?(u=a[o],r.Ql.has(u)?(i("SyncEngine","Adding an already active target "+u),[3,5]):[4,Tn(r.Uh,u)]):[3,6];case 2:return s=p.sent(),[4,In(r.Uh,s)];case 3:return c=p.sent(),[4,yr(r,Vr(s),c.targetId,!1)];case 4:p.sent(),Vn(r.Ml,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return r.Ql.has(t)?[4,Sn(r.Uh,t,!1).then(function(){Fn(r.Ml,t),kr(r,t)}).catch(Se)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},f=0,h=n,p.label=7;case 7:return f<h.length?(d=h[f],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function qr(t){var e=l(t);return e.Ml.Kh.Zh=gr.bind(null,e),e.Ml.Kh.Xn=xr.bind(null,e),e.Ml.Kh.Xh=_r.bind(null,e),e.ql.yi=lr.bind(null,e.Ll),e.ql.t_=fr.bind(null,e.Ll),e}function Wr(t){var e=l(t);return e.Ml.Kh.tl=wr.bind(null,e),e.Ml.Kh.el=Er.bind(null,e),e}function Kr(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof no&&(t=t._),Te("collection","path",e),t instanceof au)return De(n=Io.xt.apply(Io,Object(Yi.g)([e],r))),new As(t,null,n);if(!(t instanceof ks||t instanceof As))throw new to(Zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return De(n=Io.xt.apply(Io,Object(Yi.g)([t.path],r)).child(Io.xt(e))),new As(t.firestore,null,n)}function Hr(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof no&&(t=t._),1===arguments.length&&(e=Ji.t()),Te("doc","path",e),t instanceof au)return Ce(n=Io.xt.apply(Io,Object(Yi.g)([e],r))),new ks(t,null,new To(n));if(!(t instanceof ks||t instanceof As))throw new to(Zi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ce(n=t.D_.child(Io.xt.apply(Io,Object(Yi.g)([e],r)))),new ks(t.firestore,t instanceof As?t.v_:null,new To(n))}function Gr(t,e){return t instanceof no&&(t=t._),e instanceof no&&(e=e._),(t instanceof ks||t instanceof As)&&(e instanceof ks||e instanceof As)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Qr(t,e){return t instanceof no&&(t=t._),e instanceof no&&(e=e._),t instanceof Ts&&e instanceof Ts&&t.firestore===e.firestore&&lt(t.C_,e.C_)&&t.v_===e.v_}function Yr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw s()}}function $r(t){var e=t.so(),n=_e(t.zr);return new Ls(t.zr,!!e.ignoreUndefinedProperties,n)}function Jr(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);oi("Data must be an object, but it was:",a,r);var u,s,c=ri(r,a);if(o.merge)u=new Ao(a.Te),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=ai(e,h[f],n);if(!a.contains(d))throw new to(Zi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ci(l,d)||l.push(d)}u=new Ao(l),s=a.fieldTransforms.filter(function(t){return u.Qt(t.field)})}else u=null,s=a.fieldTransforms;return new Ds(new Co(c),u,s)}function Xr(t,e,n){return new xs({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.O,e.fe,e.ignoreUndefinedProperties)}function Zr(t,e,n,r){var i=t.G_(1,e,n);oi("Data must be an object, but it was:",i,r);var o=[],a=new Do;O(r,function(t,r){var u=ui(e,t,n);r instanceof no&&(r=r._);var s=i.U_(u);if(r instanceof Rs)o.push(u);else{var c=ni(r,s);null!=c&&(o.push(u),a.set(u,c))}});var u=new Ao(o);return new Ns(a.Gt(),u,i.fieldTransforms)}function ti(t,e,n,r,i,o){var a=t.G_(1,e,n),u=[ai(e,r,n)],s=[i];if(o.length%2!=0)throw new to(Zi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(ai(e,o[c])),s.push(o[c+1]);for(var l=[],f=new Do,h=u.length-1;h>=0;--h)if(!ci(l,u[h])){var d=u[h],p=s[h];p instanceof no&&(p=p._);var y=a.U_(d);if(p instanceof Rs)l.push(d);else{var v=ni(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new Ao(l);return new Ns(f.Gt(),m,a.fieldTransforms)}function ei(t,e,n,r){return void 0===r&&(r=!1),ni(n,t.G_(r?4:3,e))}function ni(t,e){if(t instanceof no&&(t=t._),ii(t))return oi("Unsupported field value:",e,t),ri(t,e);if(t instanceof Ss)return function(t,e){if(!Yr(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Te.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=ni(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof no&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gt(e.fe,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=wo.fromDate(t);return{timestampValue:Wt(e.fe,n)}}if(t instanceof wo)return n=new wo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Wt(e.fe,n)};if(t instanceof Ps)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eo)return{bytesValue:Kt(e.fe,t.l)};if(t instanceof ks){n=e.O;var r=t.firestore.zr;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qt(t.firestore.zr||e.O,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Ne(t))}(t,e)}function ri(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.Te.push(e.path):O(t,function(t,r){var i=ni(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ii(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wo||t instanceof Ps||t instanceof eo||t instanceof ks||t instanceof Ss)}function oi(t,e,n){if(!ii(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ne(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function ai(t,e,n){if(e instanceof no&&(e=e._),e instanceof Is)return e.b_;if("string"==typeof e)return ui(t,e);throw si("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function ui(t,e,n){if(e.search(Fs)>=0)throw si("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Is.bind.apply(Is,Object(Yi.g)([void 0],e.split("."))))).b_}catch(r){throw si("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function si(t,e,n,r,i){var o=r&&!r.bt(),a=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new to(Zi.INVALID_ARGUMENT,(u+=". ")+t+s)}function ci(t,e){return t.some(function(t){return t.isEqual(e)})}function li(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return t.ks.Af(),i("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.ff(function(n){return t.ks.ea(function(){return Object(Yi.b)(r,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return[4,gn(e.Uh,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.Xc(function(){return t.terminate()}),t.mf=e,[2]}})})}function fi(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return t.ks.Af(),[4,hi(t)];case 1:return n=o.sent(),i("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.ff(function(n){return t.ks.ea(function(){return function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return(n=l(t)).ks.Af(),i("RemoteStore","RemoteStore received new credentials"),r=Kn(n),n.Gh.add(3),[4,Un(n)];case 1:return o.sent(),r&&n.Jh.set("Unknown"),[4,n.Kh.E_(e)];case 2:return o.sent(),n.Gh.delete(3),[4,Mn(n)];case 3:return o.sent(),[2]}})})}(e.Ml,n)})}),t.If=e,[2]}})})}function hi(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(i("FirestoreClient","Using default OfflineComponentProvider"),[4,li(t,new bs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function di(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(i("FirestoreClient","Using default OnlineComponentProvider"),[4,fi(t,new Es)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function pi(t){return hi(t).then(function(t){return t.persistence})}function yi(t){return hi(t).then(function(t){return t.Uh})}function vi(t){return di(t).then(function(t){return t.Ml})}function mi(t){return di(t).then(function(t){return t.Lu})}function gi(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return[4,di(t)];case 1:return e=r.sent(),[2,((n=e.Ll).ol=pr.bind(null,e.Lu),n.ul=vr.bind(null,e.Lu),n)]}})})}function bi(t,e,n){var r=this;void 0===n&&(n={});var i=new bo;return t.ks.Ws(function(){return Object(Yi.b)(r,void 0,void 0,function(){var r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Os({next:function(o){e.Ws(function(){return cr(t,a)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new to(Zi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new to(Zi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ls(et(n.path),o,{includeMetadataChanges:!0,El:!0});return sr(t,a)},[4,gi(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}})})}),i.promise}function _i(t,e,n){var r=this;void 0===n&&(n={});var i=new bo;return t.ks.Ws(function(){return Object(Yi.b)(r,void 0,void 0,function(){var r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Os({next:function(n){e.Ws(function(){return cr(t,a)}),n.fromCache&&"server"===r.source?i.reject(new to(Zi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ls(n,o,{includeMetadataChanges:!0,El:!0});return sr(t,a)},[4,gi(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.ks,e,n,i])]}})})}),i.promise}function wi(t){return t.Lf||Ei(t),t.Lf.df(),t.Lf}function Ei(t){var e=t.so(),n=function(t,e,n){return new ho(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.zr,t.Wr,e);t.Lf=new qs(t.Hr,t.Mf,n)}function Oi(t,e,n){var r=this,i=new bo;return t.ks.enqueue(function(){return Object(Yi.b)(r,void 0,void 0,function(){var r;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,li(t,n)];case 1:return o.sent(),[4,fi(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zi.FAILED_PRECONDITION||t.code===Zi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ii(t){if(t.Yr||t.Xr)throw new to(Zi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function Si(t,e){return"string"==typeof e?ui(t,e):e instanceof no?e._.b_:e.b_}function ki(t){if(rt(t)&&0===t.ne.length)throw new to(Zi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Ti(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r].Yf(t)}return t}function Ai(t,e,n,r){if(n[0]instanceof no&&(n[0]=n[0]._),n[0]instanceof Qs)return function(t,e,n,r,i){if(!r)throw new to(Zi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=ut(t);a<u.length;a++){var s=u[a];if(s.field.Ot())o.push(U(e,r.key));else{var c=r.field(s.field);if(A(c))throw new to(Zi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.Ct();throw new to(Zi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ko(o,i)}(t.C_,t.firestore.zr,e,n[0].Jf,r);var i=$r(t.firestore);return function(t,e,n,r,i,o){var a=t.ne;if(i.length>a.length)throw new to(Zi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.Ot()){if("string"!=typeof c)throw new to(Zi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!at(t)&&-1!==c.indexOf("/"))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Io.xt(c));if(!To.qt(l))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new To(l);u.push(U(e,f))}else{var h=ei(n,r,c);u.push(h)}}return new Ko(u,o)}(t.C_,t.firestore.zr,i,e,n,r)}function Pi(t,e,n){if(n instanceof no&&(n=n._),"string"==typeof n){if(""===n)throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!at(e)&&-1!==n.indexOf("/"))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Io.xt(n));if(!To.qt(r))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return U(t,new To(r))}if(n instanceof ks)return U(t,n.S_);throw new to(Zi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ne(n)+".")}function Ci(t,e){if(!Array.isArray(t)||0===t.length)throw new to(Zi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new to(Zi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Di(t,e,n){if(!n.isEqual(e))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ni(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}function xi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Li(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return s()}}function Ri(t,e){return t instanceof ic&&e instanceof ic?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof ac&&e instanceof ac&&t.zf===e.zf&&Qr(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}function ji(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=xe(t,ks);var o=xe(t.firestore,Hs),a=$r(o);return e instanceof no&&(e=e._),Ui(o,[("string"==typeof e||e instanceof Is?ti(a,"updateDoc",t.S_,e,n,r):Zr(a,"updateDoc",t.S_,e)).F_(t.S_,na.exists(!0))])}function Mi(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof no&&(t=t._);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||xi(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(xi(i[u])){var h=i[u];i[u]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof ks)c=xe(t.firestore,Hs),l=et(t.S_.path),s={next:function(e){i[u]&&i[u](Vi(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=xe(t,Ts);c=xe(d.firestore,Hs),l=d.C_;var p=new uc(c);s={next:function(t){i[u]&&i[u](new ac(c,p,d,t))},error:i[u+1],complete:i[u+2]},ki(t.C_)}return function(t,e,n,r){var i=this,o=new Os(r),a=new ls(e,o,n);return t.ks.Ws(function(){return Object(Yi.b)(i,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e=sr,[4,gi(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.I_(),t.ks.Ws(function(){return Object(Yi.b)(i,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e=cr,[4,gi(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(wi(c),l,f,s)}function Ui(t,e){return function(t,e){var n=this,r=new bo;return t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var n;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return n=mr,[4,mi(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(wi(t),e)}function Vi(t,e,n){var r=n.docs.get(e.S_),i=new uc(t);return new ic(t,i,e.S_,r,new rc(n.hasPendingWrites,n.fromCache),e.v_)}function Fi(t,e){if(t instanceof no&&(t=t._),t.firestore!==e)throw new to(Zi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bi(t){var e;e=t,$i.setLogLevel(e)}function zi(t,e,n){return t.message=t.message.replace(e,n),t}function qi(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!xi(r))return r}return{}}function Wi(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=xi(t[0])?t[0]:xi(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}function Ki(t){return t instanceof no&&(t=t._),xe(t,ks)}n.d(e,"a",function(){return yc}),n.d(e,"b",function(){return Bi}),n.d(e,"c",function(){return ro}),n.d(e,"d",function(){return fc}),n.d(e,"e",function(){return dc}),n.d(e,"f",function(){return mc}),n.d(e,"g",function(){return vc}),n.d(e,"h",function(){return Hs}),n.d(e,"i",function(){return gc}),n.d(e,"j",function(){return wc}),n.d(e,"k",function(){return Ks}),n.d(e,"l",function(){return _c}),n.d(e,"m",function(){return Ec}),n.d(e,"n",function(){return pc}),n.d(e,"o",function(){return Ps}),n.d(e,"p",function(){return wo}),n.d(e,"q",function(){return lc}),n.d(e,"r",function(){return Oc});var Hi=n(7),Gi=n(3),Qi=n(11),Yi=n(2),$i=new Hi.b("@firebase/firestore"),Ji=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=f(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}(),Xi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return h(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Xi.h=new Xi("");var Zi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},to=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Yi.c)(e,t),e}(Error),eo=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Xi.fromBase64String(e))}catch(e){throw new to(Zi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),no=function(t){this._=t},ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.fromBase64String=function(t){return v(),new e(eo.fromBase64String(t))},e.fromUint8Array=function(t){return y(),new e(eo.fromUint8Array(t))},e.prototype.toBase64=function(){return v(),this._.toBase64()},e.prototype.toUint8Array=function(){return y(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(no),io=function(){function t(t){this.uid=t}return t.prototype.T=function(){return null!=this.uid},t.prototype.I=function(){return this.T()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();io.UNAUTHENTICATED=new io(null),io.m=new io("google-credentials-uid"),io.A=new io("first-party-uid");var oo,ao,uo=function(t,e){this.user=e,this.type="OAuth",this.R={},this.R.Authorization="Bearer "+t},so=function(){function t(){this.P=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.V=function(t){this.P=t,t(io.UNAUTHENTICATED)},t.prototype.p=function(){this.P=null},t}(),co=function(){function t(t){var e=this;this.v=null,this.currentUser=io.UNAUTHENTICATED,this.S=!1,this.D=0,this.P=null,this.forceRefresh=!1,this.v=function(){e.D++,e.currentUser=e.C(),e.S=!0,e.P&&e.P(e.currentUser)},this.D=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.v):(this.v(null),t.get().then(function(t){e.auth=t,e.v&&e.auth.addAuthTokenListener(e.v)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.D,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.D!==e?(i("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(c("string"==typeof n.accessToken),new uo(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.V=function(t){this.P=t,this.S&&t(this.currentUser)},t.prototype.p=function(){this.auth&&this.auth.removeAuthTokenListener(this.v),this.v=null,this.P=null},t.prototype.C=function(){var t=this.auth&&this.auth.getUid();return c(null===t||"string"==typeof t),new io(t)},t}(),lo=function(){function t(t,e){this.N=t,this.F=e,this.type="FirstParty",this.user=io.A}return Object.defineProperty(t.prototype,"R",{get:function(){var t={"X-Goog-AuthUser":this.F},e=this.N.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),fo=function(){function t(t,e){this.N=t,this.F=e}return t.prototype.getToken=function(){return Promise.resolve(new lo(this.N,this.F))},t.prototype.V=function(t){t(io.A)},t.prototype.p=function(){},t.prototype.g=function(){},t}(),ho=function(t,e,n,r,i,o){this.O=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.k=o},po=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"M",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yo=function(){function t(){}return t.prototype.L=function(t){},t.prototype.$=function(){},t}(),vo=function(){function t(){var t=this;this.B=function(){return t.q()},this.U=function(){return t.K()},this.W=[],this.j()}return t.prototype.L=function(t){this.W.push(t)},t.prototype.$=function(){window.removeEventListener("online",this.B),window.removeEventListener("offline",this.U)},t.prototype.j=function(){window.addEventListener("online",this.B),window.addEventListener("offline",this.U)},t.prototype.q=function(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(0)},t.prototype.K=function(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(1)},t.G=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),mo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};(ao=oo||(oo={}))[ao.OK=0]="OK",ao[ao.CANCELLED=1]="CANCELLED",ao[ao.UNKNOWN=2]="UNKNOWN",ao[ao.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ao[ao.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ao[ao.NOT_FOUND=5]="NOT_FOUND",ao[ao.ALREADY_EXISTS=6]="ALREADY_EXISTS",ao[ao.PERMISSION_DENIED=7]="PERMISSION_DENIED",ao[ao.UNAUTHENTICATED=16]="UNAUTHENTICATED",ao[ao.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ao[ao.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ao[ao.ABORTED=10]="ABORTED",ao[ao.OUT_OF_RANGE=11]="OUT_OF_RANGE",ao[ao.UNIMPLEMENTED=12]="UNIMPLEMENTED",ao[ao.INTERNAL=13]="INTERNAL",ao[ao.UNAVAILABLE=14]="UNAVAILABLE",ao[ao.DATA_LOSS=15]="DATA_LOSS";var go=function(){function t(t){this.H=t.H,this.J=t.J}return t.prototype.Y=function(t){this.X=t},t.prototype.Z=function(t){this.tt=t},t.prototype.onMessage=function(t){this.et=t},t.prototype.close=function(){this.J()},t.prototype.send=function(t){this.H(t)},t.prototype.nt=function(){this.X()},t.prototype.st=function(t){this.tt(t)},t.prototype.it=function(t){this.et(t)},t}(),bo=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},_o=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.k=e.k,n}return Object(Yi.c)(e,t),e.prototype.lt=function(t,e,n,r){return new Promise(function(o,a){var u=new Qi.f;u.listenOnce(Qi.c.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Qi.a.NO_ERROR:var e=u.getResponseJson();i("Connection","XHR received:",JSON.stringify(e)),o(e);break;case Qi.a.TIMEOUT:i("Connection",'RPC "'+t+'" timed out'),a(new to(Zi.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.a.HTTP_ERROR:var n=u.getStatus();if(i("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var c=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zi).indexOf(e)>=0?e:Zi.UNKNOWN}(r.status);a(new to(c,r.message))}else a(new to(Zi.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new to(Zi.UNAVAILABLE,"Connection failed."));break;default:s()}}finally{i("Connection",'RPC "'+t+'" completed.')}});var c=JSON.stringify(r);u.send(e,"POST",c,n,15)})},e.prototype.ft=function(t,e){var n=[this.ot,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(Qi.g)(),o=Object(Qi.h)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.O.projectId+"/databases/"+this.O.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.k};this.ht(u.initMessageHeaders,e),Object(Gi.l)()||Object(Gi.n)()||Object(Gi.j)()||Object(Gi.k)()||Object(Gi.o)()||Object(Gi.i)()||(u.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");i("Connection","Creating WebChannel: "+s,u);var l=r.createWebChannel(s,u),f=!1,h=!1,d=new go({H:function(t){h?i("Connection","Not sending because WebChannel is closed:",t):(f||(i("Connection","Opening WebChannel transport."),l.open(),f=!0),i("Connection","WebChannel sending:",t),l.send(t))},J:function(){return l.close()}}),p=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return p(l,Qi.e.EventType.OPEN,function(){h||i("Connection","WebChannel transport opened.")}),p(l,Qi.e.EventType.CLOSE,function(){h||(h=!0,i("Connection","WebChannel transport closed"),d.st())}),p(l,Qi.e.EventType.ERROR,function(t){h||(h=!0,a("Connection","WebChannel transport errored:",t),d.st(new to(Zi.UNAVAILABLE,"The operation could not be completed")))}),p(l,Qi.e.EventType.MESSAGE,function(t){var e;if(!h){var n=t.data[0];c(!!n);var r=n,o=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(o){i("Connection","WebChannel received error:",o);var a=o.status,u=function(t){var e=oo[t];if(void 0!==e)return w(e)}(a),s=o.message;void 0===u&&(u=Zi.INTERNAL,s="Unknown error status: "+a+" with message "+o.message),h=!0,d.st(new to(u,s)),l.close()}else i("Connection","WebChannel received:",n),d.it(n)}}),p(o,Qi.b.STAT_EVENT,function(t){t.stat===Qi.d.PROXY?i("Connection","Detected buffering proxy"):t.stat===Qi.d.NOPROXY&&i("Connection","Detected no buffering proxy")}),setTimeout(function(){d.nt()},0),d},e}(function(){function t(t){this.rt=t,this.O=t.O;var e=t.ssl?"https":"http";this.ot=e+"://"+t.host,this.ct="projects/"+this.O.projectId+"/databases/"+this.O.database+"/documents"}return t.prototype.at=function(t,e,n,r){var o=this.ut(t,e);i("RestConnection","Sending: ",o,n);var u={};return this.ht(u,r),this.lt(t,o,u,n).then(function(t){return i("RestConnection","Received: ",t),t},function(e){throw a("RestConnection",t+" failed with error: ",e,"url: ",o,"request:",n),e})},t.prototype._t=function(t,e,n,r){return this.at(t,e,n,r)},t.prototype.ht=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.0",t["Content-Type"]="text/plain",e)for(var n in e.R)e.R.hasOwnProperty(n)&&(t[n]=e.R[n])},t.prototype.ut=function(t,e){var n=mo[t];return this.ot+"/v1/"+e+":"+n},t}()),wo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new to(Zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new to(Zi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new to(Zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new to(Zi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.dt=function(t){return this.seconds===t.seconds?h(this.nanoseconds,t.nanoseconds):h(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Eo=function(){function t(t){this.timestamp=t}return t.wt=function(e){return new t(e)},t.min=function(){return new t(new wo(0,0))},t.prototype.u=function(t){return this.timestamp.dt(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.Et=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Tt=function(){return this.timestamp},t}(),Oo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&s(),void 0===n?n=t.length-e:n>t.length-e&&s(),this.segments=t,this.offset=e,this.It=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.It},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.At(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Rt(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Pt=function(t){return t=void 0===t?1:t,this.Rt(this.segments,this.offset+t,this.length-t)},t.prototype.yt=function(){return this.Rt(this.segments,this.offset,this.length-1)},t.prototype.gt=function(){return this.segments[this.offset]},t.prototype.Vt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.bt=function(){return 0===this.length},t.prototype.vt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.St=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.Dt=function(){return this.segments.slice(this.offset,this.limit())},t.At=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.prototype.Ct=function(){return this.Dt().join("/")},e.prototype.toString=function(){return this.Ct()},e.xt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new to(Zi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.Nt=function(){return new e([])},e}(Oo),So=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.Ft=function(t){return So.test(t)},e.prototype.Ct=function(){return this.Dt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Ft(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.Ct()},e.prototype.Ot=function(){return 1===this.length&&"__name__"===this.get(0)},e.kt=function(){return new e(["__name__"])},e.Mt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new to(Zi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new to(Zi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new to(Zi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new to(Zi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Nt=function(){return new e([])},e}(Oo),To=function(){function t(t){this.path=t}return t.Lt=function(e){return new t(Io.xt(e))},t.$t=function(e){return new t(Io.xt(e).Pt(5))},t.prototype.Bt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Io.At(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.At=function(t,e){return Io.At(t.path,e.path)},t.qt=function(t){return t.length%2==0},t.Ut=function(e){return new t(new Io(e.slice()))},t}(),Ao=function(){function t(t){this.fields=t,t.sort(ko.At)}return t.prototype.Qt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].vt(t))return!0;return!1},t.prototype.isEqual=function(t){return d(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Po=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Co=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.bt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!q(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.Vt()])||null},t.prototype.isEqual=function(t){return N(this.proto,t.proto)},t}(),Do=function(){function t(t){void 0===t&&(t=Co.empty()),this.Kt=t,this.Wt=new Map}return t.prototype.set=function(t,e){return this.jt(t,e),this},t.prototype.delete=function(t){return this.jt(t,null),this},t.prototype.jt=function(t,e){for(var n=this.Wt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===D(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.Vt(),e)},t.prototype.Gt=function(){var t=this.zt(ko.Nt(),this.Wt);return null!=t?new Co(t):this.Kt},t.prototype.zt=function(t,e){var n=this,r=!1,i=this.Kt.field(t),o=q(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.zt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}(),No=function(t,e){this.key=t,this.version=e},xo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ht=r,o.Jt=!!i.Jt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Yi.c)(e,t),e.prototype.field=function(t){return this.Ht.field(t)},e.prototype.data=function(){return this.Ht},e.prototype.Yt=function(){return this.Ht.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Jt===t.Jt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ht.isEqual(t.Ht)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ht.toString()+", {hasLocalMutations: "+this.Jt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Jt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(No),Lo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Yi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(No),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(No),jo=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Xt=null},Mo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Yi.c)(e,t),e.create=function(t,n,r){return t.Ot()?"in"===n||"not-in"===n?this.Zt(t,n,r):new Uo(t,n,r):"array-contains"===n?new Bo(t,r):"in"===n?new zo(t,r):"not-in"===n?new qo(t,r):"array-contains-any"===n?new Wo(t,r):new e(t,n,r)},e.Zt=function(t,e,n){return"in"===e?new Vo(t,n):new Fo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.te(L(e,this.value)):null!==e&&D(this.value)===D(e)&&this.te(L(e,this.value))},e.prototype.te=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return s()}},e.prototype.ee=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Uo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=To.$t(r.referenceValue),i}return Object(Yi.c)(e,t),e.prototype.matches=function(t){var e=To.At(t.key,this.key);return this.te(e)},e}(Mo),Vo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Y("in",n),r}return Object(Yi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Mo),Fo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Y("not-in",n),r}return Object(Yi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Mo),Bo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Yi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return F(e)&&x(e.arrayValue,this.value)},e}(Mo),zo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Yi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&x(this.value.arrayValue,e)},e}(Mo),qo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Yi.c)(e,t),e.prototype.matches=function(t){if(x(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!x(this.value.arrayValue,e)},e}(Mo),Wo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Yi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!F(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return x(e.value.arrayValue,t)})},e}(Mo),Ko=function(t,e){this.position=t,this.before=e},Ho=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e},Go=function(t,e,n,r,i,o,a,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.ne=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.se=null,this.ie=null,this.startAt,this.endAt},Qo=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Eo.min()),void 0===o&&(o=Eo.min()),void 0===a&&(a=Xi.h),this.target=t,this.targetId=e,this.re=n,this.sequenceNumber=r,this.oe=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.ce=function(e){return new t(this.target,this.targetId,this.re,e,this.oe,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ae=function(e,n){return new t(this.target,this.targetId,this.re,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ue=function(e){return new t(this.target,this.targetId,this.re,this.sequenceNumber,this.oe,e,this.resumeToken)},t}(),Yo=function(){this.le=void 0},$o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e}(Yo),Jo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yi.c)(e,t),e}(Yo),Xo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yi.c)(e,t),e}(Yo),Zo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fe=e,r._e=n,r}return Object(Yi.c)(e,t),e}(Yo),ta=function(t,e){this.field=t,this.transform=e},ea=function(t,e){this.version=t,this.transformResults=e},na=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.de=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"we",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),ra=function(){},ia=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Ee=r,o.fieldTransforms=i,o.type=0,o}return Object(Yi.c)(e,t),e}(ra),oa=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Te=r,a.Ee=i,a.fieldTransforms=o,a.type=1,a}return Object(Yi.c)(e,t),e}(ra),aa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=2,r.fieldTransforms=[],r}return Object(Yi.c)(e,t),e}(ra),ua=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=3,r.fieldTransforms=[],r}return Object(Yi.c)(e,t),e}(ra),sa=function(t){this.count=t},ca=function(){function t(t,e){this.At=t,this.root=e||fa.EMPTY}return t.prototype.Ie=function(e,n){return new t(this.At,this.root.Ie(e,n,this.At).copy(null,null,fa.me,null,null))},t.prototype.remove=function(e){return new t(this.At,this.root.remove(e,this.At).copy(null,null,fa.me,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.bt();){var n=this.At(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.bt();){var r=this.At(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.bt=function(){return this.root.bt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Ae=function(){return this.root.Ae()},t.prototype.Re=function(){return this.root.Re()},t.prototype.Pe=function(t){return this.root.Pe(t)},t.prototype.forEach=function(t){this.Pe(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pe(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.ge=function(){return new la(this.root,null,this.At,!1)},t.prototype.Ve=function(t){return new la(this.root,t,this.At,!1)},t.prototype.pe=function(){return new la(this.root,null,this.At,!0)},t.prototype.be=function(t){return new la(this.root,t,this.At,!0)},t}(),la=function(){function t(t,e,n,r){this.ve=r,this.Se=[];for(var i=1;!t.bt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ve?t.left:t.right;else{if(0===i){this.Se.push(t);break}this.Se.push(t),t=this.ve?t.right:t.left}}return t.prototype.De=function(){var t=this.Se.pop(),e={key:t.key,value:t.value};if(this.ve)for(t=t.left;!t.bt();)this.Se.push(t),t=t.right;else for(t=t.right;!t.bt();)this.Se.push(t),t=t.left;return e},t.prototype.Ce=function(){return this.Se.length>0},t.prototype.xe=function(){if(0===this.Se.length)return null;var t=this.Se[this.Se.length-1];return{key:t.key,value:t.value}},t}(),fa=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.bt=function(){return!1},t.prototype.Pe=function(t){return this.left.Pe(t)||t(this.key,this.value)||this.right.Pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.bt()?this:this.left.min()},t.prototype.Ae=function(){return this.min().key},t.prototype.Re=function(){return this.right.bt()?this.key:this.right.Re()},t.prototype.Ie=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ie(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ie(t,e,n))).Ne()},t.prototype.Fe=function(){if(this.left.bt())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.ke()),(e=e.copy(null,null,null,e.left.Fe(),null)).Ne()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.bt()||i.left.Oe()||i.left.left.Oe()||(i=i.ke()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Me()),i.right.bt()||i.right.Oe()||i.right.left.Oe()||(i=i.Le()),0===n(e,i.key)){if(i.right.bt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Fe())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ne()},t.prototype.Oe=function(){return this.color},t.prototype.Ne=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.$e()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Me()),t.left.Oe()&&t.right.Oe()&&(t=t.Be()),t},t.prototype.ke=function(){var t=this.Be();return t.right.left.Oe()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Me())).$e()).Be()),t},t.prototype.Le=function(){var t=this.Be();return t.left.left.Oe()&&(t=(t=t.Me()).Be()),t},t.prototype.$e=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Me=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Be=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.qe=function(){var t=this.Ue();return Math.pow(2,t)<=this.size+1},t.prototype.Ue=function(){if(this.Oe()&&this.left.Oe())throw s();if(this.right.Oe())throw s();var t=this.left.Ue();if(t!==this.right.Ue())throw s();return t+(this.Oe()?0:1)},t}();fa.EMPTY=null,fa.RED=!0,fa.me=!1,fa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw s()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw s()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ie=function(t,e,n){return new fa(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.bt=function(){return!0},t.prototype.Pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ae=function(){return null},t.prototype.Re=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.qe=function(){return!0},t.prototype.Ue=function(){return 0},t}());var ha=function(){function t(t){this.At=t,this.data=new ca(this.At)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ae()},t.prototype.last=function(){return this.data.Re()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pe(function(e,n){return t(e),!1})},t.prototype.Qe=function(t,e){for(var n=this.data.Ve(t[0]);n.Ce();){var r=n.De();if(this.At(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ke=function(t,e){var n;for(n=void 0!==e?this.data.Ve(e):this.data.ge();n.Ce();)if(!t(n.De().key))return},t.prototype.We=function(t){var e=this.data.Ve(t);return e.Ce()?e.De().key:null},t.prototype.ge=function(){return new da(this.data.ge())},t.prototype.Ve=function(t){return new da(this.data.Ve(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ie(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.bt=function(){return this.data.bt()},t.prototype.je=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ge(),r=e.data.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(0!==this.At(i,o))return!1}return!0},t.prototype.Dt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.At);return n.data=e,n},t}(),da=function(){function t(t){this.Ge=t}return t.prototype.De=function(){return this.Ge.De().key},t.prototype.Ce=function(){return this.Ge.Ce()},t}(),pa=new ca(To.At),ya=new ca(To.At),va=new ca(To.At),ma=new ha(To.At),ga=new ha(h),ba=function(){function t(t){this.At=t?function(e,n){return t(e,n)||To.At(e.key,n.key)}:function(t,e){return To.At(t.key,e.key)},this.ze=Ut(),this.He=new ca(this.At)}return t.Je=function(e){return new t(e.At)},t.prototype.has=function(t){return null!=this.ze.get(t)},t.prototype.get=function(t){return this.ze.get(t)},t.prototype.first=function(){return this.He.Ae()},t.prototype.last=function(){return this.He.Re()},t.prototype.bt=function(){return this.He.bt()},t.prototype.indexOf=function(t){var e=this.ze.get(t);return e?this.He.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.He.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.He.Pe(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ze.Ie(t.key,t),e.He.Ie(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ze.remove(t),this.He.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.He.ge(),r=e.He.ge();n.Ce();){var i=n.De().key,o=r.De().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.At=this.At,r.ze=e,r.He=n,r},t}(),_a=function(){function t(){this.Ye=new ca(To.At)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ye.get(e);n?0!==t.type&&3===n.type?this.Ye=this.Ye.Ie(e,t):3===t.type&&1!==n.type?this.Ye=this.Ye.Ie(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ye=this.Ye.Ie(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ye=this.Ye.remove(e):1===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):s():this.Ye=this.Ye.Ie(e,t)},t.prototype.Xe=function(){var t=[];return this.Ye.Pe(function(e,n){t.push(n)}),t},t}(),wa=function(){function t(t,e,n,r,i,o,a,u){this.query=t,this.docs=e,this.Ze=n,this.docChanges=r,this.tn=i,this.fromCache=o,this.en=a,this.nn=u}return t.sn=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ba.Je(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.tn.bt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.en===t.en&&this.tn.isEqual(t.tn)&&lt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ze.isEqual(t.Ze)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ea=function(){function t(t,e,n,r,i){this.oe=t,this.rn=e,this.on=n,this.cn=r,this.an=i}return t.un=function(e,n){var r=new Map;return r.set(e,Oa.hn(e,n)),new t(Eo.min(),r,Bt(),jt(),Ft())},t}(),Oa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ln=e,this._n=n,this.fn=r,this.dn=i}return t.hn=function(e,n){return new t(Xi.h,n,Ft(),Ft(),Ft())},t}(),Ia=function(t,e,n,r){this.wn=t,this.removedTargetIds=e,this.key=n,this.En=r},Sa=function(t,e){this.targetId=t,this.Tn=e},ka=function(t,e,n,r){void 0===n&&(n=Xi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ta=function(){function t(){this.In=0,this.mn=qt(),this.An=Xi.h,this.Rn=!1,this.Pn=!0}return Object.defineProperty(t.prototype,"ln",{get:function(){return this.Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yn",{get:function(){return 0!==this.In},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gn",{get:function(){return this.Pn},enumerable:!1,configurable:!0}),t.prototype.Vn=function(t){t.o()>0&&(this.Pn=!0,this.An=t)},t.prototype.pn=function(){var t=Ft(),e=Ft(),n=Ft();return this.mn.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:s()}}),new Oa(this.An,this.Rn,t,e,n)},t.prototype.bn=function(){this.Pn=!1,this.mn=qt()},t.prototype.vn=function(t,e){this.Pn=!0,this.mn=this.mn.Ie(t,e)},t.prototype.Sn=function(t){this.Pn=!0,this.mn=this.mn.remove(t)},t.prototype.Dn=function(){this.In+=1},t.prototype.Cn=function(){this.In-=1},t.prototype.xn=function(){this.Pn=!0,this.Rn=!0},t}(),Aa=function(){function t(t){this.Nn=t,this.Fn=new Map,this.On=jt(),this.kn=zt(),this.Mn=new ha(h)}return t.prototype.Ln=function(t){for(var e=0,n=t.wn;e<n.length;e++){var r=n[e];t.En instanceof xo?this.$n(r,t.En):t.En instanceof Lo&&this.Bn(r,t.key,t.En)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Bn(r,t.key,t.En)},t.prototype.qn=function(t){var e=this;this.Un(t,function(n){var r=e.Qn(n);switch(t.state){case 0:e.Kn(n)&&r.Vn(t.resumeToken);break;case 1:r.Cn(),r.yn||r.bn(),r.Vn(t.resumeToken);break;case 2:r.Cn(),r.yn||e.removeTarget(n);break;case 3:e.Kn(n)&&(r.xn(),r.Vn(t.resumeToken));break;case 4:e.Kn(n)&&(e.Wn(n),r.Vn(t.resumeToken));break;default:s()}})},t.prototype.Un=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fn.forEach(function(t,r){n.Kn(r)&&e(r)})},t.prototype.jn=function(t){var e=t.targetId,n=t.Tn.count,r=this.Gn(e);if(r){var i=r.target;if(Q(i))if(0===n){var o=new To(i.path);this.Bn(e,o,new Lo(o,Eo.min()))}else c(1===n);else this.zn(e)!==n&&(this.Wn(e),this.Mn=this.Mn.add(e))}},t.prototype.Hn=function(t){var e=this,n=new Map;this.Fn.forEach(function(r,i){var o=e.Gn(i);if(o){if(r.ln&&Q(o.target)){var a=new To(o.target.path);null!==e.On.get(a)||e.Jn(i,a)||e.Bn(i,a,new Lo(a,t))}r.gn&&(n.set(i,r.pn()),r.bn())}});var r=Ft();this.kn.forEach(function(t,n){var i=!0;n.Ke(function(t){var n=e.Gn(t);return!n||2===n.re||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ea(t,n,this.Mn,this.On,r);return this.On=jt(),this.kn=zt(),this.Mn=new ha(h),i},t.prototype.$n=function(t,e){if(this.Kn(t)){var n=this.Jn(t,e.key)?2:0;this.Qn(t).vn(e.key,n),this.On=this.On.Ie(e.key,e),this.kn=this.kn.Ie(e.key,this.Yn(e.key).add(t))}},t.prototype.Bn=function(t,e,n){if(this.Kn(t)){var r=this.Qn(t);this.Jn(t,e)?r.vn(e,1):r.Sn(e),this.kn=this.kn.Ie(e,this.Yn(e).delete(t)),n&&(this.On=this.On.Ie(e,n))}},t.prototype.removeTarget=function(t){this.Fn.delete(t)},t.prototype.zn=function(t){var e=this.Qn(t).pn();return this.Nn.Xn(t).size+e._n.size-e.dn.size},t.prototype.Dn=function(t){this.Qn(t).Dn()},t.prototype.Qn=function(t){var e=this.Fn.get(t);return e||(e=new Ta,this.Fn.set(t,e)),e},t.prototype.Yn=function(t){var e=this.kn.get(t);return e||(e=new ha(h),this.kn=this.kn.Ie(t,e)),e},t.prototype.Kn=function(t){var e=null!==this.Gn(t);return e||i("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Gn=function(t){var e=this.Fn.get(t);return e&&e.yn?null:this.Nn.Zn(t)},t.prototype.Wn=function(t){var e=this;this.Fn.set(t,new Ta),this.Nn.Xn(t).forEach(function(n){e.Bn(t,n,null)})},t.prototype.Jn=function(t,e){return this.Nn.Xn(t).has(e)},t}(),Pa={asc:"ASCENDING",desc:"DESCENDING"},Ca={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Da=function(t,e){this.O=t,this.he=e},Na=function(){function t(t){var e=this;this.ts=null,this.es=null,this.result=void 0,this.error=void 0,this.ns=!1,this.ss=!1,t(function(t){e.ns=!0,e.result=t,e.ts&&e.ts(t)},function(t){e.ns=!0,e.error=t,e.es&&e.es(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.ss&&s(),this.ss=!0,this.ns?this.error?this.rs(n,this.error):this.os(e,this.result):new t(function(t,i){r.ts=function(n){r.os(e,n).next(t,i)},r.es=function(e){r.rs(n,e).next(t,i)}})},t.prototype.cs=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.us=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.os=function(e,n){return e?this.us(function(){return e(n)}):t.resolve(n)},t.prototype.rs=function(e,n){return e?this.us(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.hs=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.ls=function(e){for(var n=t.resolve(!1),r=0,i=e;r<i.length;r++)!function(e){n=n.next(function(n){return n?t.resolve(n):e()})}(i[r]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.hs(r)},t}(),xa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this._s=new bo,this.transaction.oncomplete=function(){n._s.resolve()},this.transaction.onabort=function(){e.error?n._s.reject(new ja(t,e.error)):n._s.resolve()},this.transaction.onerror=function(e){var r=Oe(e.target.error);n._s.reject(new ja(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ja(n,e)}},Object.defineProperty(t.prototype,"fs",{get:function(){return this._s.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(i("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ma(e)},t}(),La=function(){function e(t,n,r){this.name=t,this.version=n,this.ds=r,12.2===e.ws(Object(Gi.g)())&&o("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return i("SimpleDb","Removing database:",t),Ee(window.indexedDB.deleteDatabase(t)).cs()},e.G=function(){if("undefined"==typeof indexedDB)return!1;if(e.Es())return!0;var t=Object(Gi.g)(),n=e.ws(t),r=0<n&&n<10,i=e.Ts(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Es=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/eleusis"}))||void 0===e?void 0:e.Is)},e.As=function(t,e){return t.store(e)},e.ws=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Ts=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Rs=function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(i("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(t){var n=t.target.result;e(n)},o.onblocked=function(){r(new ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new to(Zi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ja(t,n))},o.onupgradeneeded=function(t){i("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.ds.Ps(e,o.transaction,t.oldVersion,n.version).next(function(){i("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.ys&&(this.db.onversionchange=function(t){return n.ys(t)}),this.db)]}})})},e.prototype.gs=function(t){this.ys=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(Yi.b)(this,void 0,void 0,function(){var o,a,u,s,c;return Object(Yi.d)(this,function(l){switch(l.label){case 0:o="readonly"===e,a=0,u=function(){var e,u,c,l,f;return Object(Yi.d)(this,function(h){switch(h.label){case 0:++a,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Rs(t)];case 2:return s.db=h.sent(),e=xa.open(s.db,t,o?"readonly":"readwrite",n),u=r(e).catch(function(t){return e.abort(t),Na.reject(t)}).cs(),c={},u.catch(function(){}),[4,e.fs];case 3:return[2,(c.value=(h.sent(),u),c)];case 4:return l=h.sent(),f="FirebaseError"!==l.name&&a<3,i("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},s=this,l.label=1;case 1:return[5,u()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ra=function(){function t(t){this.Vs=t,this.ps=!1,this.bs=null}return Object.defineProperty(t.prototype,"ns",{get:function(){return this.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vs",{get:function(){return this.bs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Vs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.Ss=function(t){this.bs=t},t.prototype.delete=function(){return Ee(this.Vs.delete())},t}(),ja=function(t){function e(e,n){var r=this;return(r=t.call(this,Zi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Yi.c)(e,t),e}(to),Ma=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(i("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(i("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ee(n)},t.prototype.add=function(t){return i("SimpleDb","ADD",this.store.name,t,t),Ee(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ee(this.store.get(t)).next(function(n){return void 0===n&&(n=null),i("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return i("SimpleDb","DELETE",this.store.name,t),Ee(this.store.delete(t))},t.prototype.count=function(){return i("SimpleDb","COUNT",this.store.name),Ee(this.store.count())},t.prototype.Ds=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.xs=function(t,e){i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ns=!1;var r=this.cursor(n);return this.Cs(r,function(t,e,n){return n.delete()})},t.prototype.Fs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Cs(r,e)},t.prototype.Os=function(t){var e=this.cursor({});return new Na(function(n,r){e.onerror=function(t){var e=Oe(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Cs=function(t,e){var n=[];return new Na(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ra(i),a=e(i.primaryKey,i.value,o);if(a instanceof Na){var u=a.catch(function(t){return o.done(),Na.reject(t)});n.push(u)}o.ns?r():null===o.vs?i.continue():i.continue(o.vs)}else r()}}).next(function(){return Na.hs(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Ua=!1,Va=function(){function t(t,e,n,r,i){this.ks=t,this.Ms=e,this.Ls=n,this.op=r,this.$s=i,this.Bs=new bo,this.then=this.Bs.promise.then.bind(this.Bs.promise),this.Bs.promise.catch(function(t){})}return t.qs=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Us=setTimeout(function(){return e.Qs()},t)},t.prototype.Ks=function(){return this.Qs()},t.prototype.cancel=function(t){null!==this.Us&&(this.clearTimeout(),this.Bs.reject(new to(Zi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Qs=function(){var t=this;this.ks.Ws(function(){return null!==t.Us?(t.clearTimeout(),t.op().then(function(e){return t.Bs.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Us&&(this.$s(this),clearTimeout(this.Us),this.Us=null)},t}(),Fa=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.js=t,this.Ms=e,this.Gs=n,this.zs=r,this.Hs=i,this.Js=0,this.Ys=null,this.Xs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Js=0},t.prototype.Zs=function(){this.Js=this.Hs},t.prototype.ti=function(t){var e=this;this.cancel();var n=Math.floor(this.Js+this.ei()),r=Math.max(0,Date.now()-this.Xs),o=Math.max(0,n-r);o>0&&i("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Js+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ys=this.js.ni(this.Ms,o,function(){return e.Xs=Date.now(),t()}),this.Js*=this.zs,this.Js<this.Gs&&(this.Js=this.Gs),this.Js>this.Hs&&(this.Js=this.Hs)},t.prototype.si=function(){null!==this.Ys&&(this.Ys.Ks(),this.Ys=null)},t.prototype.cancel=function(){null!==this.Ys&&(this.Ys.cancel(),this.Ys=null)},t.prototype.ei=function(){return(Math.random()-.5)*this.Js},t}(),Ba=function(){function t(t,e,n,r,i,o){this.js=t,this.ii=n,this.ri=r,this.oi=i,this.listener=o,this.state=0,this.ci=0,this.ai=null,this.stream=null,this.ui=new Fa(t,e)}return t.prototype.hi=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.li=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._i()},t.prototype.stop=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return this.hi()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.fi=function(){this.state=0,this.ui.reset()},t.prototype.di=function(){var t=this;this.li()&&null===this.ai&&(this.ai=this.js.ni(this.ii,6e4,function(){return t.wi()}))},t.prototype.Ei=function(t){this.Ti(),this.stream.send(t)},t.prototype.wi=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){return this.li()?[2,this.close(0)]:[2]})})},t.prototype.Ti=function(){this.ai&&(this.ai.cancel(),this.ai=null)},t.prototype.close=function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(n){switch(n.label){case 0:return this.Ti(),this.ui.cancel(),this.ci++,3!==t?this.ui.reset():e&&e.code===Zi.RESOURCE_EXHAUSTED?(o(e.toString()),o("Using maximum backoff delay to prevent overloading the backend."),this.ui.Zs()):e&&e.code===Zi.UNAUTHENTICATED&&this.oi.g(),null!==this.stream&&(this.Ii(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Z(e)];case 1:return n.sent(),[2]}})})},t.prototype.Ii=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mi(this.ci),n=this.ci;this.oi.getToken().then(function(e){t.ci===n&&t.Ai(e)},function(n){e(function(){var e=new to(Zi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ri(e)})})},t.prototype.Ai=function(t){var e=this,n=this.mi(this.ci);this.stream=this.Pi(t),this.stream.Y(function(){n(function(){return e.state=2,e.listener.Y()})}),this.stream.Z(function(t){n(function(){return e.Ri(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype._i=function(){var t=this;this.state=4,this.ui.ti(function(){return Object(Yi.b)(t,void 0,void 0,function(){return Object(Yi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Ri=function(t){return i("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mi=function(t){var e=this;return function(n){e.js.Ws(function(){return e.ci===t?n():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),za=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).fe=i,a}return Object(Yi.c)(e,t),e.prototype.Pi=function(t){return this.ri.ft("Listen",t)},e.prototype.onMessage=function(t){this.ui.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:s()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.he?(c(void 0===e||"string"==typeof e),Xi.fromBase64String(e||"")):(c(void 0===e||e instanceof Uint8Array),Xi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zi.UNKNOWN:w(t.code);return new to(e,t.message||"")}(u);n=new ka(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Jt(t,r.document.name),o=Gt(r.document.updateTime);var u=new Co({mapValue:{fields:r.document.fields}}),l=(a=new xo(i,o,u,{}),r.targetIds||[]),f=r.removedTargetIds||[];n=new Ia(l,f,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Jt(t,r.document),o=r.readTime?Gt(r.readTime):Eo.min(),u=new Lo(i,o),a=r.removedTargetIds||[],n=new Ia([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Jt(t,r.document),o=r.removedTargetIds||[],n=new Ia([],o,i,null);else{if(!("filter"in e))return s();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new sa(r),o=h.targetId,n=new Sa(o,i)}return n}(this.fe,t),n=function(t){if(!("targetChange"in t))return Eo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Eo.min():e.readTime?Gt(e.readTime):Eo.min()}(t);return this.listener.yi(e,n)},e.prototype.gi=function(t){var e={};e.database=te(this.fe),e.addTarget=function(t,e){var n,r=e.target;return(n=Q(r)?{documents:ae(t,r)}:{query:ue(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Kt(t,e.resumeToken):e.oe.u(Eo.min())>0&&(n.readTime=Wt(t,e.oe.Tt())),n}(this.fe,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return s()}}(0,e.re);return null==n?null:{"goog-listen-tags":n}}(this.fe,t);n&&(e.labels=n),this.Ei(e)},e.prototype.Vi=function(t){var e={};e.database=te(this.fe),e.removeTarget=t,this.Ei(e)},e}(Ba),qa=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).fe=i,a.pi=!1,a}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"bi",{get:function(){return this.pi},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.pi=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Ii=function(){this.pi&&this.vi([])},e.prototype.Pi=function(t){return this.ri.ft("Write",t)},e.prototype.onMessage=function(t){if(c(!!t.streamToken),this.lastStreamToken=t.streamToken,this.pi){this.ui.reset();var e=function(t,e){return t&&t.length>0?(c(void 0!==e),t.map(function(t){return function(t,e){var n=Gt(t.updateTime?t.updateTime:e);n.isEqual(Eo.min())&&(n=Gt(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ea(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Gt(t.commitTime);return this.listener.Si(n,e)}return c(!t.writeResults||0===t.writeResults.length),this.pi=!0,this.listener.Di()},e.prototype.Ci=function(){var t={};t.database=te(this.fe),this.Ei(t)},e.prototype.vi=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ie(e.fe,t)})};this.Ei(n)},e}(Ba),Wa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ri=n,i.fe=r,i.xi=!1,i}return Object(Yi.c)(e,t),e.prototype.Ni=function(){if(this.xi)throw new to(Zi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.at=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri.at(t,e,n,i)}).catch(function(t){throw t.code===Zi.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype._t=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then(function(i){return r.ri._t(t,e,n,i)}).catch(function(t){throw t.code===Zi.UNAUTHENTICATED&&r.credentials.g(),t})},e.prototype.terminate=function(){this.xi=!1},e}(function(){}),Ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ha=function(){function t(){this.Fi=[]}return t.prototype.Oi=function(t){this.Fi.push(t)},t.prototype.ki=function(){this.Fi.forEach(function(t){return t()})},t}(),Ga={Mi:!1,Li:0,$i:0,Bi:0},Qa=function(){function t(t,e,n){this.qi=t,this.Ui=e,this.Qi=n}return t.Ki=function(e){return new t(e,t.Wi,t.ji)},t}();Qa.Wi=10,Qa.ji=1e3,Qa.Gi=new Qa(41943040,Qa.Wi,Qa.ji),Qa.zi=new Qa(-1,0,0);var Ya=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Hi=function(t){return n.Ji(t)},this.Yi=function(t){return e.Xi(t)})}return t.prototype.Ji=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Yi&&this.Yi(t),t},t}();Ya.Zi=-1;var $a=function(t,e){this.progress=t,this.tr=e},Ja=function(){function t(t,e,n,r){this.batchId=t,this.er=e,this.baseMutations=n,this.mutations=r}return t.prototype.nr=function(t,e,n){for(var r=n.sr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Tt(o,e,r[i]))}return e},t.prototype.ir=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=At(i,e,e,this.er))}for(var o=e,a=0,u=this.mutations;a<u.length;a++){var s=u[a];s.key.isEqual(t)&&(e=At(s,e,o,this.er))}return e},t.prototype.rr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.ir(r.key,t.get(r.key));i&&(n=n.Ie(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&d(this.mutations,t.mutations,function(t,e){return Ct(t,e)})&&d(this.baseMutations,t.baseMutations,function(t,e){return Ct(t,e)})},t}(),Xa=function(){function t(t,e,n,r){this.batch=t,this.cr=e,this.sr=n,this.ar=r}return t.from=function(e,n,r){c(e.mutations.length===r.length);for(var i=Vt(),o=e.mutations,a=0;a<o.length;a++)i=i.Ie(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Za=function(){function t(t,e){this.ur=t,this.hr=e,this.lr={}}return t.prototype.get=function(t){var e=this.ur(t),n=this.lr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.hr(a,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ur(t),r=this.lr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.hr(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.lr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ur(t),n=this.lr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.hr(n[r][0],t))return 1===n.length?delete this.lr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){O(this.lr,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];t(a,u)}})},t.prototype.bt=function(){return I(this.lr)},t}(),tu=function(){function t(){this._r=new Za(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.dr=!1}return t.prototype.wr=function(t){var e=this._r.get(t);return e?e.readTime:Eo.min()},t.prototype.Er=function(t,e){this.Tr(),this._r.set(t.key,{Ir:t,readTime:e})},t.prototype.mr=function(t,e){void 0===e&&(e=null),this.Tr(),this._r.set(t,{Ir:null,readTime:e})},t.prototype.Ar=function(t,e){this.Tr();var n=this._r.get(e);return void 0!==n?Na.resolve(n.Ir):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Tr(),this.dr=!0,this.yr(t)},t.prototype.Tr=function(){},t}(),eu=function(){function t(t){this.gr=t,this.buffer=new ha(ke),this.Vr=0}return t.prototype.pr=function(){return++this.Vr},t.prototype.br=function(t){var e=[t,this.pr()];if(this.buffer.size<this.gr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ke(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nu=function(){function t(t,e){this.vr=t,this.ks=e,this.Sr=!1,this.Dr=null}return t.prototype.start=function(t){-1!==this.vr.params.qi&&this.Cr(t)},t.prototype.stop=function(){this.Dr&&(this.Dr.cancel(),this.Dr=null)},Object.defineProperty(t.prototype,"Nr",{get:function(){return null!==this.Dr},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){var e=this,n=this.Sr?3e5:6e4;i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Dr=this.ks.ni("lru_garbage_collection",n,function(){return Object(Yi.b)(e,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:this.Dr=null,this.Sr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Fr(this.vr)];case 2:return n.sent(),[3,7];case 3:return we(e=n.sent())?(i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Se(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Cr(t)];case 8:return n.sent(),[2]}})})})},t}(),ru=function(){function t(t,e){this.Or=t,this.params=e}return t.prototype.kr=function(t,e){return this.Or.Mr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Lr=function(t,e){var n=this;if(0===e)return Na.resolve(Ya.Zi);var r=new eu(e);return this.Or.Un(t,function(t){return r.br(t.sequenceNumber)}).next(function(){return n.Or.$r(t,function(t){return r.br(t)})}).next(function(){return r.maxValue})},t.prototype.Br=function(t,e,n){return this.Or.Br(t,e,n)},t.prototype.qr=function(t,e){return this.Or.qr(t,e)},t.prototype.Ur=function(t,e){var n=this;return-1===this.params.qi?(i("LruGarbageCollector","Garbage collection skipped; disabled"),Na.resolve(Ga)):this.Qr(t).next(function(r){return r<n.params.qi?(i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.qi),Ga):n.Kr(t,e)})},t.prototype.Qr=function(t){return this.Or.Qr(t)},t.prototype.Kr=function(t,e){var n,o,a,u,s,c,l,f=this,h=Date.now();return this.kr(t,this.params.Ui).next(function(e){return e>f.params.Qi?(i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.Qi+" from "+e),o=f.params.Qi):o=e,u=Date.now(),f.Lr(t,o)}).next(function(r){return n=r,s=Date.now(),f.Br(t,n,e)}).next(function(e){return a=e,c=Date.now(),f.qr(t,n)}).next(function(t){return l=Date.now(),r()<=Hi.a.DEBUG&&i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(u-h)+"ms\n\tDetermined least recently used "+o+" in "+(s-u)+"ms\n\tRemoved "+a+" targets in "+(c-s)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-h)+"ms"),Na.resolve({Mi:!0,Li:o,$i:a,Bi:t})})},t}(),iu=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new to(Zi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new to(Zi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Pe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ou=new Map,au=function(){function t(t,e){this.Wr="(lite)",this.jr=new iu({}),this.Gr=!1,t instanceof po?(this.zr=t,this.Hr=new so):(this.Jr=t,this.zr=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new to(Zi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(t.options.projectId)}(t),this.Hr=new co(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Jr)throw new to(Zi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Gr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xr",{get:function(){return void 0!==this.Zr},enumerable:!1,configurable:!0}),t.prototype.eo=function(t){if(this.Gr)throw new to(Zi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.jr=new iu(t),void 0!==t.credentials&&(this.Hr=function(t){if(!t)return new so;switch(t.type){case"gapi":var e=t.client;return c(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new to(Zi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.no=function(){return this.jr},t.prototype.so=function(){return this.Gr=!0,this.jr},t.prototype._delete=function(){return this.Zr||(this.Zr=this.io()),this.Zr},t.prototype.io=function(){return t=this,(e=ou.get(t))&&(i("ComponentProvider","Removing Datastore"),ou.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),uu=function(t,e){this.seconds=t,this.nanoseconds=e},su=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};su.store="owner",su.key="owner";var cu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cu.store="mutationQueues",cu.keyPath="userId";var lu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lu.store="mutations",lu.keyPath="batchId",lu.userMutationsIndex="userMutationsIndex",lu.userMutationsKeyPath=["userId","batchId"];var fu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Re(e)]},t.key=function(t,e,n){return[t,Re(e),n]},t}();fu.store="documentMutations",fu.PLACEHOLDER=new fu;var hu=function(t,e){this.path=t,this.readTime=e},du=function(t,e){this.path=t,this.version=e},pu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pu.store="remoteDocuments",pu.readTimeIndex="readTimeIndex",pu.readTimeIndexPath="readTime",pu.collectionReadTimeIndex="collectionReadTimeIndex",pu.collectionReadTimeIndexPath=["parentPath","readTime"];var yu=function(t){this.byteSize=t};yu.store="remoteDocumentGlobal",yu.key="remoteDocumentGlobalKey";var vu=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};vu.store="targets",vu.keyPath="targetId",vu.queryTargetsIndexName="queryTargetsIndex",vu.queryTargetsKeyPath=["canonicalId","targetId"];var mu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mu.store="targetDocuments",mu.keyPath=["targetId","path"],mu.documentTargetsIndex="documentTargetsIndex",mu.documentTargetsKeyPath=["path","targetId"];var gu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gu.key="targetGlobalKey",gu.store="targetGlobal";var bu=function(t,e){this.collectionId=t,this.parent=e};bu.store="collectionParents",bu.keyPath=["collectionId","parent"];var _u=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_u.store="clientMetadata",_u.keyPath="clientId";var wu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wu.store="bundles",wu.keyPath="bundleId";var Eu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Eu.store="namedQueries",Eu.keyPath="name";var Ou=Object(Yi.g)(Object(Yi.g)(Object(Yi.g)(Object(Yi.g)([cu.store,lu.store,fu.store,pu.store,vu.store,su.store,gu.store,mu.store],[_u.store]),[yu.store]),[bu.store]),[wu.store,Eu.store]),Iu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ro=e,r.oo=n,r}return Object(Yi.c)(e,t),e}(Ha),Su=function(t){this.co=t},ku=function(){function t(){}return t.prototype.ao=function(t,e){return $e(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ke(e.createTime),version:e.version};var e})},t.prototype.uo=function(t,e){return $e(t).put({bundleId:(n=e).id,createTime:We(Gt(n.createTime)),version:n.version});var n},t.prototype.ho=function(t,e){return Je(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ye(e.bundledQuery),readTime:Ke(e.readTime)};var e})},t.prototype.lo=function(t,e){return Je(t).put(function(t){return{name:t.name,readTime:We(Gt(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}(),Tu=function(){function t(){this._o=new Au}return t.prototype.fo=function(t,e){return this._o.add(e),Na.resolve()},t.prototype.wo=function(t,e){return Na.resolve(this._o.getEntries(e))},t}(),Au=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e]||new ha(Io.At),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ha(Io.At)).Dt()},t}(),Pu=function(){function t(){this.Eo=new Au}return t.prototype.fo=function(t,e){var n=this;if(!this.Eo.has(e)){var r=e.Vt(),i=e.yt();t.Oi(function(){n.Eo.add(e)});var o={collectionId:r,parent:Re(i)};return Xe(t).put(o)}return Na.resolve()},t.prototype.wo=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[p(e),""],!1,!0);return Xe(t).Ds(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ue(o.parent))}return n})},t}(),Cu=function(){function t(t,e,n,r){this.userId=t,this.fe=e,this.To=n,this.Io=r,this.mo={}}return t.Ao=function(e,n,r,i){return c(""!==e.uid),new t(e.T()?e.uid:"",n,r,i)},t.prototype.Ro=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nn(t).Fs({index:lu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Po=function(t,e,n,r){var i=this,o=rn(t),a=nn(t);return a.add({}).next(function(u){c("number"==typeof u);for(var s=new Ja(u,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return ie(t.co,e)}),i=n.mutations.map(function(e){return ie(t.co,e)});return new lu(e,n.batchId,n.er.toMillis(),r,i)}(i.fe,i.userId,s),f=[],d=new ha(function(t,e){return h(t.Ct(),e.Ct())}),p=0,y=r;p<y.length;p++){var v=y[p],m=fu.key(i.userId,v.key.path,u);d=d.add(v.key.path.yt()),f.push(a.put(l)),f.push(o.put(m,fu.PLACEHOLDER))}return d.forEach(function(e){f.push(i.To.fo(t,e))}),t.Oi(function(){i.mo[u]=s.keys()}),Na.hs(f).next(function(){return s})})},t.prototype.yo=function(t,e){var n=this;return nn(t).get(e).next(function(t){return t?(c(t.userId===n.userId),He(n.fe,t)):null})},t.prototype.Vo=function(t,e){var n=this;return this.mo[e]?Na.resolve(this.mo[e]):this.yo(t,e).next(function(t){if(t){var r=t.keys();return n.mo[e]=r,r}return null})},t.prototype.po=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nn(t).Fs({index:lu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(c(e.batchId>=r),o=He(n.fe,e)),i.done()}).next(function(){return o})},t.prototype.bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nn(t).Fs({index:lu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nn(t).Ds(lu.userMutationsIndex,n).next(function(t){return t.map(function(t){return He(e.fe,t)})})},t.prototype.So=function(t,e){var n=this,r=fu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return rn(t).Fs({range:i},function(r,i,a){var u=r[0],l=r[1],f=r[2],h=Ue(l);if(u===n.userId&&e.path.isEqual(h))return nn(t).get(f).next(function(t){if(!t)throw s();c(t.userId===n.userId),o.push(He(n.fe,t))});a.done()}).next(function(){return o})},t.prototype.Do=function(t,e){var n=this,r=new ha(h),i=[];return e.forEach(function(e){var o=fu.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),u=rn(t).Fs({range:a},function(t,i,o){var a=t[0],u=t[1],s=t[2],c=Ue(u);a===n.userId&&e.path.isEqual(c)?r=r.add(s):o.done()});i.push(u)}),Na.hs(i).next(function(){return n.Co(t,r)})},t.prototype.xo=function(t,e){var n=this,r=e.path,i=r.length+1,o=fu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new ha(h);return rn(t).Fs({range:a},function(t,e,o){var a=t[0],s=t[1],c=t[2],l=Ue(s);a===n.userId&&r.vt(l)?l.length===i&&(u=u.add(c)):o.done()}).next(function(){return n.Co(t,u)})},t.prototype.Co=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(nn(t).get(e).next(function(t){if(null===t)throw s();c(t.userId===n.userId),r.push(He(n.fe,t))}))}),Na.hs(i).next(function(){return r})},t.prototype.No=function(t,e){var n=this;return Ze(t.ro,this.userId,e).next(function(r){return t.Oi(function(){n.Fo(e.batchId)}),Na.forEach(r,function(e){return n.Io.Oo(t,e)})})},t.prototype.Fo=function(t){delete this.mo[t]},t.prototype.ko=function(t){var e=this;return this.Ro(t).next(function(n){if(!n)return Na.resolve();var r=IDBKeyRange.lowerBound(fu.prefixForUser(e.userId)),i=[];return rn(t).Fs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ue(t[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length)})})},t.prototype.Mo=function(t,e){return en(t,this.userId,e)},t.prototype.Lo=function(t){var e=this;return on(t).get(this.userId).next(function(t){return t||new cu(e.userId,-1,"")})},t}(),Du=function(){function t(t){this.$o=t}return t.prototype.next=function(){return this.$o+=2,this.$o},t.Bo=function(){return new t(0)},t.qo=function(){return new t(-1)},t}(),Nu=function(){function t(t,e){this.Io=t,this.fe=e}return t.prototype.Uo=function(t){var e=this;return this.Qo(t).next(function(n){var r=new Du(n.highestTargetId);return n.highestTargetId=r.next(),e.Ko(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wo=function(t){return this.Qo(t).next(function(t){return Eo.wt(new wo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.jo=function(t){return this.Qo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Go=function(t,e,n){var r=this;return this.Qo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Tt()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ko(t,i)})},t.prototype.zo=function(t,e){var n=this;return this.Ho(t,e).next(function(){return n.Qo(t).next(function(r){return r.targetCount+=1,n.Jo(e,r),n.Ko(t,r)})})},t.prototype.Yo=function(t,e){return this.Ho(t,e)},t.prototype.Xo=function(t,e){var n=this;return this.Zo(t,e.targetId).next(function(){return an(t).delete(e.targetId)}).next(function(){return n.Qo(t)}).next(function(e){return c(e.targetCount>0),e.targetCount-=1,n.Ko(t,e)})},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return an(t).Fs(function(a,u){var s=Ge(u);s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Xo(t,s)))}).next(function(){return Na.hs(o)}).next(function(){return i})},t.prototype.Un=function(t,e){return an(t).Fs(function(t,n){var r=Ge(n);e(r)})},t.prototype.Qo=function(t){return un(t).get(gu.key).next(function(t){return c(null!==t),t})},t.prototype.Ko=function(t,e){return un(t).put(gu.key,e)},t.prototype.Ho=function(t,e){return an(t).put(Qe(this.fe,e))},t.prototype.Jo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tc=function(t){return this.Qo(t).next(function(t){return t.targetCount})},t.prototype.ec=function(t,e){var n=H(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return an(t).Fs({range:r,index:vu.queryTargetsIndexName},function(t,n,r){var o=Ge(n);G(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nc=function(t,e,n){var r=this,i=[],o=sn(t);return e.forEach(function(e){var a=Re(e.path);i.push(o.put(new mu(n,a))),i.push(r.Io.sc(t,n,e))}),Na.hs(i)},t.prototype.ic=function(t,e,n){var r=this,i=sn(t);return Na.forEach(e,function(e){var o=Re(e.path);return Na.hs([i.delete([n,o]),r.Io.rc(t,n,e)])})},t.prototype.Zo=function(t,e){var n=sn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.oc=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=sn(t),i=Ft();return r.Fs({range:n,Ns:!0},function(t,e,n){var r=Ue(t[1]),o=new To(r);i=i.add(o)}).next(function(){return i})},t.prototype.Mo=function(t,e){var n=Re(e.path),r=IDBKeyRange.bound([n],[p(n)],!1,!0),i=0;return sn(t).Fs({index:mu.documentTargetsIndex,Ns:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Zn=function(t,e){return an(t).get(e).next(function(t){return t?Ge(t):null})},t}(),xu=function(){function t(t,e){this.db=t,this.vr=function(t,e){return new ru(t,e)}(this,e)}return t.prototype.Mr=function(t){var e=this.cc(t);return this.db.ac().tc(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.cc=function(t){var e=0;return this.$r(t,function(t){e++}).next(function(){return e})},t.prototype.Un=function(t,e){return this.db.ac().Un(t,e)},t.prototype.$r=function(t,e){return this.uc(t,function(t,n){return e(n)})},t.prototype.sc=function(t,e,n){return cn(t,n)},t.prototype.rc=function(t,e,n){return cn(t,n)},t.prototype.Br=function(t,e,n){return this.db.ac().Br(t,e,n)},t.prototype.Oo=function(t,e){return cn(t,e)},t.prototype.hc=function(t,e){return function(t,e){var n=!1;return on(t).Os(function(r){return en(t,r,e).next(function(t){return t&&(n=!0),Na.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.qr=function(t,e){var n=this,r=this.db._c().lc(),i=[],o=0;return this.uc(t,function(a,u){if(u<=e){var s=n.hc(t,a).next(function(e){if(!e)return o++,r.Ar(t,a).next(function(){return r.mr(a),sn(t).delete([0,Re(a.path)])})});i.push(s)}}).next(function(){return Na.hs(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.ce(t.oo);return this.db.ac().Yo(t,n)},t.prototype.fc=function(t,e){return cn(t,e)},t.prototype.uc=function(t,e){var n,r=sn(t),i=Ya.Zi;return r.Fs({index:mu.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==Ya.Zi&&e(new To(Ue(n)),i),i=u,n=a):i=Ya.Zi}).next(function(){i!==Ya.Zi&&e(new To(Ue(n)),i)})},t.prototype.Qr=function(t){return this.db._c().dc(t)},t}(),Lu=function(){function t(t,e){this.fe=t,this.To=e}return t.prototype.Er=function(t,e,n){return fn(t).put(hn(e),n)},t.prototype.mr=function(t,e){var n=fn(t),r=hn(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.wc(t,r)})},t.prototype.Ar=function(t,e){var n=this;return fn(t).get(hn(e)).next(function(t){return n.Ec(t)})},t.prototype.Tc=function(t,e){var n=this;return fn(t).get(hn(e)).next(function(t){var e=n.Ec(t);return e?{Ir:e,size:tn(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Mt();return this.Ic(t,e,function(t,e){var i=n.Ec(e);r=r.Ie(t,i)}).next(function(){return r})},t.prototype.mc=function(t,e){var n=this,r=Mt(),i=new ca(To.At);return this.Ic(t,e,function(t,e){var o=n.Ec(e);o?(r=r.Ie(t,o),i=i.Ie(t,tn(e))):(r=r.Ie(t,null),i=i.Ie(t,0))}).next(function(){return{Ac:r,Rc:i}})},t.prototype.Ic=function(t,e,n){if(e.bt())return Na.resolve();var r=IDBKeyRange.bound(e.first().path.Dt(),e.last().path.Dt()),i=e.ge(),o=i.De();return fn(t).Fs({range:r},function(t,e,r){for(var a=To.Ut(t);o&&To.At(o,a)<0;)n(o,null),o=i.De();o&&o.isEqual(a)&&(n(o,e),o=i.Ce()?i.De():null),o?r.Ss(o.path.Dt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Ce()?i.De():null})},t.prototype.Pc=function(t,e,n){var r=this,i=Ut(),o=e.path.length+1,a={};if(n.isEqual(Eo.min())){var u=e.path.Dt();a.range=IDBKeyRange.lowerBound(u)}else{var s=e.path.Dt(),c=ze(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=pu.collectionReadTimeIndex}return fn(t).Fs(a,function(t,n,a){if(t.length===o){var u=Fe(r.fe,n);e.path.vt(u.key.path)?u instanceof xo&&dt(e,u)&&(i=i.Ie(u.key,u)):a.done()}}).next(function(){return i})},t.prototype.lc=function(t){return new Ru(this,!!t&&t.yc)},t.prototype.dc=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ln(t).get(yu.key).next(function(t){return c(!!t),t})},t.prototype.wc=function(t,e){return ln(t).put(yu.key,e)},t.prototype.Ec=function(t){if(t){var e=Fe(this.fe,t);return e instanceof Lo&&e.version.isEqual(Eo.min())?null:e}return null},t}(),Ru=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).gc=e,r.yc=n,r.Vc=new Za(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Yi.c)(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new ha(function(t,e){return h(t.Ct(),e.Ct())});return this._r.forEach(function(o,a){var u=e.Vc.get(o);if(a.Ir){var s=Be(e.gc.fe,a.Ir,e.wr(o));i=i.add(o.path.yt());var c=tn(s);r+=c-u,n.push(e.gc.Er(t,o,s))}else if(r-=u,e.yc){var l=Be(e.gc.fe,new Lo(o,Eo.min()),e.wr(o));n.push(e.gc.Er(t,o,l))}else n.push(e.gc.mr(t,o))}),i.forEach(function(r){n.push(e.gc.To.fo(t,r))}),n.push(this.gc.updateMetadata(t,r)),Na.hs(n)},e.prototype.Rr=function(t,e){var n=this;return this.gc.Tc(t,e).next(function(t){return null===t?(n.Vc.set(e,0),null):(n.Vc.set(e,t.size),t.Ir)})},e.prototype.Pr=function(t,e){var n=this;return this.gc.mc(t,e).next(function(t){var e=t.Ac;return t.Rc.forEach(function(t,e){n.Vc.set(t,e)}),e})},e}(tu),ju=function(){function t(t){this.fe=t}return t.prototype.Ps=function(t,e,n,r){var i=this;c(n<r&&n>=0&&r<=11);var o=new xa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(su.store)}(t),function(t){t.createObjectStore(cu.store,{keyPath:cu.keyPath}),t.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fu.store)}(t),dn(t),function(t){t.createObjectStore(pu.store)}(t));var a=Na.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mu.store),t.deleteObjectStore(vu.store),t.deleteObjectStore(gu.store)}(t),dn(t)),a=a.next(function(){return function(t){var e=t.store(gu.store),n=new gu(0,0,Eo.min().Tt(),0);return e.put(gu.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(lu.store).Ds().next(function(n){t.deleteObjectStore(lu.store),t.createObjectStore(lu.store,{keyPath:lu.keyPath,autoIncrement:!0}).createIndex(lu.userMutationsIndex,lu.userMutationsKeyPath,{unique:!0});var r=e.store(lu.store),i=n.map(function(t){return r.put(t)});return Na.hs(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(_u.store,{keyPath:_u.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.bc(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(yu.store)}(t),i.vc(o)})),n<7&&r>=7&&(a=a.next(function(){return i.Sc(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Dc(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pu.store);e.createIndex(pu.readTimeIndex,pu.readTimeIndexPath,{unique:!1}),e.createIndex(pu.collectionReadTimeIndex,pu.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Cc(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(wu.store,{keyPath:wu.keyPath})}(t),function(t){t.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(t)})),a},t.prototype.vc=function(t){var e=0;return t.store(pu.store).Fs(function(t,n){e+=tn(n)}).next(function(){var n=new yu(e);return t.store(yu.store).put(yu.key,n)})},t.prototype.bc=function(t){var e=this,n=t.store(cu.store),r=t.store(lu.store);return n.Ds().next(function(n){return Na.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ds(lu.userMutationsIndex,i).next(function(r){return Na.forEach(r,function(r){c(r.userId===n.userId);var i=He(e.fe,r);return Ze(t,n.userId,i).next(function(){})})})})})},t.prototype.Sc=function(t){var e=t.store(mu.store),n=t.store(pu.store);return t.store(gu.store).get(gu.key).next(function(t){var r=[];return n.Fs(function(n,i){var o=new Io(n),a=function(t){return[0,Re(t)]}(o);r.push(e.get(a).next(function(n){return n?Na.resolve():function(n){return e.put(new mu(0,Re(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Na.hs(r)})})},t.prototype.Dc=function(t,e){t.createObjectStore(bu.store,{keyPath:bu.keyPath});var n=e.store(bu.store),r=new Au,i=function(t){if(r.add(t)){var e=t.Vt(),i=t.yt();return n.put({collectionId:e,parent:Re(i)})}};return e.store(pu.store).Fs({Ns:!0},function(t,e){var n=new Io(t);return i(n.yt())}).next(function(){return e.store(fu.store).Fs({Ns:!0},function(t,e){t[0];var n=t[1],r=(t[2],Ue(n));return i(r.yt())})})},t.prototype.Cc=function(t){var e=this,n=t.store(vu.store);return n.Fs(function(t,r){var i=Ge(r),o=Qe(e.fe,i);return n.put(o)})},t}(),Mu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uu=function(){function t(e,n,r,i,a,u,s,c,l,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=u,this.document=s,this.xc=l,this.Nc=f,this.Fc=null,this.Oc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kc=null,this.inForeground=!1,this.Mc=null,this.Lc=null,this.$c=Number.NEGATIVE_INFINITY,this.Bc=function(t){return Promise.resolve()},!t.G())throw new to(Zi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Io=new xu(this,i),this.qc=n+"main",this.fe=new Su(c),this.Uc=new La(this.qc,11,new ju(this.fe)),this.Qc=new Nu(this.Io,this.fe),this.To=new Pu,this.Kc=function(t,e){return new Lu(t,e)}(this.fe,this.To),this.Wc=new ku,this.window&&this.window.localStorage?this.jc=this.window.localStorage:(this.jc=null,!1===f&&o("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Gc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new to(Zi.FAILED_PRECONDITION,Mu);return t.zc(),t.Hc(),t.Jc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Qc.jo(e)})}).then(function(e){t.Fc=new Ya(e,t.xc)}).then(function(){t.Oc=!0}).catch(function(e){return t.Uc&&t.Uc.close(),Promise.reject(e)})},t.prototype.Yc=function(t){var e=this;return this.Bc=function(n){return Object(Yi.b)(e,void 0,void 0,function(){return Object(Yi.d)(this,function(e){return this.Nr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Xc=function(t){var e=this;this.Uc.gs(function(n){return Object(Yi.b)(e,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Zc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.Ws(function(){return Object(Yi.b)(e,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return this.Nr?[4,this.Gc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Gc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return yn(e).put(new _u(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ta(e).next(function(e){e||(t.isPrimary=!1,t.js.ea(function(){return t.Bc(!1)}))})}).next(function(){return t.na(e)}).next(function(n){return t.isPrimary&&!n?t.sa(e).next(function(){return!1}):!!n&&t.ia(e).next(function(){return!0})})}).catch(function(e){if(we(e))return i("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.js.ea(function(){return t.Bc(e)}),t.isPrimary=e})},t.prototype.ta=function(t){var e=this;return pn(t).get(su.key).next(function(t){return Na.resolve(e.ra(t))})},t.prototype.oa=function(t){return yn(t).delete(this.clientId)},t.prototype.ca=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e,n,r,i=this;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.aa(this.$c,18e5)?[3,2]:(this.$c=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ve(t,_u.store);return e.Ds().next(function(t){var n=i.ua(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return Na.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.jc)for(e=0,n=t;e<n.length;e++)r=n[e],this.jc.removeItem(this.ha(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){var t=this;this.Lc=this.js.ni("client_metadata_refresh",4e3,function(){return t.Gc().then(function(){return t.ca()}).then(function(){return t.Jc()})})},t.prototype.ra=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.na=function(t){var e=this;return this.Nc?Na.resolve(!0):pn(t).get(su.key).next(function(n){if(null!==n&&e.aa(n.leaseTimestampMs,5e3)&&!e.la(n.ownerId)){if(e.ra(n)&&e.networkEnabled)return!0;if(!e.ra(n)){if(!n.allowTabSynchronization)throw new to(Zi.FAILED_PRECONDITION,Mu);return!1}}return!(!e.networkEnabled||!e.inForeground)||yn(t).Ds().next(function(t){return void 0===e.ua(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&i("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t=this;return Object(Yi.d)(this,function(e){switch(e.label){case 0:return this.Oc=!1,this._a(),this.Lc&&(this.Lc.cancel(),this.Lc=null),this.fa(),this.da(),[4,this.Uc.runTransaction("shutdown","readwrite",[su.store,_u.store],function(e){var n=new Iu(e,Ya.Zi);return t.sa(n).next(function(){return t.oa(n)})})];case 1:return e.sent(),this.Uc.close(),this.wa(),[2]}})})},t.prototype.ua=function(t,e){var n=this;return t.filter(function(t){return n.aa(t.updateTimeMs,e)&&!n.la(t.clientId)})},t.prototype.Ea=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return yn(e).Ds().next(function(e){return t.ua(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Ta=function(t){return Cu.Ao(t,this.fe,this.To,this.Io)},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.Ia=function(){return this.To},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;i("IndexedDbPersistence","Starting transaction:",t);var a,u="readonly"===e?"readonly":"readwrite";return this.Uc.runTransaction(t,u,Ou,function(i){return a=new Iu(i,r.Fc?r.Fc.next():Ya.Zi),"readwrite-primary"===e?r.ta(a).next(function(t){return!!t||r.na(a)}).next(function(e){if(!e)throw o("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.js.ea(function(){return r.Bc(!1)}),new to(Zi.FAILED_PRECONDITION,Ka);return n(a)}).next(function(t){return r.ia(a).next(function(){return t})}):r.Aa(a).next(function(){return n(a)})}).then(function(t){return a.ki(),t})},t.prototype.Aa=function(t){var e=this;return pn(t).get(su.key).next(function(t){if(null!==t&&e.aa(t.leaseTimestampMs,5e3)&&!e.la(t.ownerId)&&!e.ra(t)&&!(e.Nc||e.allowTabSynchronization&&t.allowTabSynchronization))throw new to(Zi.FAILED_PRECONDITION,Mu)})},t.prototype.ia=function(t){var e=new su(this.clientId,this.allowTabSynchronization,Date.now());return pn(t).put(su.key,e)},t.G=function(){return La.G()},t.prototype.sa=function(t){var e=this,n=pn(t);return n.get(su.key).next(function(t){return e.ra(t)?(i("IndexedDbPersistence","Releasing primary lease."),n.delete(su.key)):Na.resolve()})},t.prototype.aa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(o("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.zc=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mc=function(){t.js.Ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.Gc()})},this.document.addEventListener("visibilitychange",this.Mc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fa=function(){this.Mc&&(this.document.removeEventListener("visibilitychange",this.Mc),this.Mc=null)},t.prototype.Hc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kc=function(){e._a(),e.js.Ws(function(){return e.$()})},this.window.addEventListener("unload",this.kc))},t.prototype.da=function(){this.kc&&(this.window.removeEventListener("unload",this.kc),this.kc=null)},t.prototype.la=function(t){var e;try{var n=null!==(null===(e=this.jc)||void 0===e?void 0:e.getItem(this.ha(t)));return i("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return o("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._a=function(){if(this.jc)try{this.jc.setItem(this.ha(this.clientId),String(Date.now()))}catch(t){o("Failed to set zombie client id.",t)}},t.prototype.wa=function(){if(this.jc)try{this.jc.removeItem(this.ha(this.clientId))}catch(t){}},t.prototype.ha=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}(),Vu=function(){function t(t,e,n){this.Kc=t,this.Ra=e,this.To=n}return t.prototype.Pa=function(t,e){var n=this;return this.Ra.So(t,e).next(function(r){return n.ya(t,e,r)})},t.prototype.ya=function(t,e,n){return this.Kc.Ar(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ir(e,t);return t})},t.prototype.ga=function(t,e,n){var r=Mt();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ir(t,e);r=r.Ie(t,e)}),r},t.prototype.Va=function(t,e){var n=this;return this.Kc.getEntries(t,e).next(function(e){return n.pa(t,e)})},t.prototype.pa=function(t,e){var n=this;return this.Ra.Do(t,e).next(function(r){var i=n.ga(t,e,r),o=jt();return i.forEach(function(t,e){e||(e=new Lo(t,Eo.min())),o=o.Ie(t,e)}),o})},t.prototype.Pc=function(t,e,n){return function(t){return To.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ba(t,e.path):at(e)?this.va(t,e,n):this.Sa(t,e,n)},t.prototype.ba=function(t,e){return this.Pa(t,new To(e)).next(function(t){var e=Ut();return t instanceof xo&&(e=e.Ie(t.key,t)),e})},t.prototype.va=function(t,e,n){var r=this,i=e.collectionGroup,o=Ut();return this.To.wo(t,i).next(function(a){return Na.forEach(a,function(a){var u=function(t,e){return new Go(e,null,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sa(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Ie(t,e)})})}).next(function(){return o})})},t.prototype.Sa=function(t,e,n){var r,i,o=this;return this.Kc.Pc(t,e,n).next(function(n){return r=n,o.Ra.xo(t,e)}).next(function(e){return i=e,o.Da(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c),f=At(s,l,l,o.er);r=f instanceof xo?r.Ie(c,f):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){dt(e,n)||(r=r.remove(t))}),r})},t.prototype.Da=function(t,e,n){for(var r=Ft(),i=0,o=e;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof oa&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Kc.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof xo&&(c=c.Ie(t,e))}),c})},t}(),Fu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ca=n,this.xa=r}return t.Na=function(e,n){for(var r=Ft(),i=Ft(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bu=function(){function t(){}return t.prototype.Fa=function(t){this.Oa=t},t.prototype.Pc=function(t,e,n,o){var a=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.ne.length||1===t.ne.length&&t.ne[0].field.Ot())}(e)||n.isEqual(Eo.min())?this.ka(t,e):this.Oa.Va(t,o).next(function(u){var s=a.Ma(e,u);return(nt(e)||rt(e))&&a.La(e.limitType,s,o,n)?a.ka(t,e):(r()<=Hi.a.DEBUG&&i("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ht(e)),a.Oa.Pc(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ie(e.key,e)}),t}))})},t.prototype.Ma=function(t,e){var n=new ha(pt(t));return e.forEach(function(e,r){r instanceof xo&&dt(t,r)&&(n=n.add(r))}),n},t.prototype.La=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.ka=function(t,e){return r()<=Hi.a.DEBUG&&i("QueryEngine","Using full collection scan to execute query:",ht(e)),this.Oa.Pc(t,e,Eo.min())},t}(),zu=function(){function t(t,e,n,r){this.persistence=t,this.$a=e,this.fe=r,this.Ba=new ca(h),this.qa=new Za(function(t){return H(t)},G),this.Ua=Eo.min(),this.Ra=t.Ta(n),this.Qa=t._c(),this.Qc=t.ac(),this.Ka=new Vu(this.Qa,this.Ra,this.persistence.Ia()),this.Wc=t.ma(),this.$a.Fa(this.Ka)}return t.prototype.Fr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Ur(n,e.Ba)})},t}(),qu=function(){function t(t){this.fe=t,this.Xa=new Map,this.Za=new Map}return t.prototype.ao=function(t,e){return Na.resolve(this.Xa.get(e))},t.prototype.uo=function(t,e){var n;return this.Xa.set(e.id,{id:(n=e).id,version:n.version,createTime:Gt(n.createTime)}),Na.resolve()},t.prototype.ho=function(t,e){return Na.resolve(this.Za.get(e))},t.prototype.lo=function(t,e){return this.Za.set(e.name,function(t){return{name:t.name,query:Ye(t.bundledQuery),readTime:Gt(t.readTime)}}(e)),Na.resolve()},t}(),Wu=function(){function t(){this.tu=new ha(Ku.eu),this.nu=new ha(Ku.su)}return t.prototype.bt=function(){return this.tu.bt()},t.prototype.sc=function(t,e){var n=new Ku(t,e);this.tu=this.tu.add(n),this.nu=this.nu.add(n)},t.prototype.iu=function(t,e){var n=this;t.forEach(function(t){return n.sc(t,e)})},t.prototype.rc=function(t,e){this.ru(new Ku(t,e))},t.prototype.ou=function(t,e){var n=this;t.forEach(function(t){return n.rc(t,e)})},t.prototype.cu=function(t){var e=this,n=new To(new Io([])),r=new Ku(n,t),i=new Ku(n,t+1),o=[];return this.nu.Qe([r,i],function(t){e.ru(t),o.push(t.key)}),o},t.prototype.au=function(){var t=this;this.tu.forEach(function(e){return t.ru(e)})},t.prototype.ru=function(t){this.tu=this.tu.delete(t),this.nu=this.nu.delete(t)},t.prototype.uu=function(t){var e=new To(new Io([])),n=new Ku(e,t),r=new Ku(e,t+1),i=Ft();return this.nu.Qe([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mo=function(t){var e=new Ku(t,0),n=this.tu.We(e);return null!==n&&t.isEqual(n.key)},t}(),Ku=function(){function t(t,e){this.key=t,this.hu=e}return t.eu=function(t,e){return To.At(t.key,e.key)||h(t.hu,e.hu)},t.su=function(t,e){return h(t.hu,e.hu)||To.At(t.key,e.key)},t}(),Hu=function(){function t(t,e){this.To=t,this.Io=e,this.Ra=[],this.lu=1,this._u=new ha(Ku.eu)}return t.prototype.Ro=function(t){return Na.resolve(0===this.Ra.length)},t.prototype.Po=function(t,e,n,r){var i=this.lu;this.lu++,this.Ra.length>0&&this.Ra[this.Ra.length-1];var o=new Ja(i,e,n,r);this.Ra.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this._u=this._u.add(new Ku(s.key,i)),this.To.fo(t,s.key.path.yt())}return Na.resolve(o)},t.prototype.yo=function(t,e){return Na.resolve(this.fu(e))},t.prototype.po=function(t,e){var n=e+1,r=this.du(n),i=r<0?0:r;return Na.resolve(this.Ra.length>i?this.Ra[i]:null)},t.prototype.bo=function(){return Na.resolve(0===this.Ra.length?-1:this.lu-1)},t.prototype.vo=function(t){return Na.resolve(this.Ra.slice())},t.prototype.So=function(t,e){var n=this,r=new Ku(e,0),i=new Ku(e,Number.POSITIVE_INFINITY),o=[];return this._u.Qe([r,i],function(t){var e=n.fu(t.hu);o.push(e)}),Na.resolve(o)},t.prototype.Do=function(t,e){var n=this,r=new ha(h);return e.forEach(function(t){var e=new Ku(t,0),i=new Ku(t,Number.POSITIVE_INFINITY);n._u.Qe([e,i],function(t){r=r.add(t.hu)})}),Na.resolve(this.wu(r))},t.prototype.xo=function(t,e){var n=e.path,r=n.length+1,i=n;To.qt(i)||(i=i.child(""));var o=new Ku(new To(i),0),a=new ha(h);return this._u.Ke(function(t){var e=t.key.path;return!!n.vt(e)&&(e.length===r&&(a=a.add(t.hu)),!0)},o),Na.resolve(this.wu(a))},t.prototype.wu=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.fu(t);null!==r&&n.push(r)}),n},t.prototype.No=function(t,e){var n=this;c(0===this.Eu(e.batchId,"removed")),this.Ra.shift();var r=this._u;return Na.forEach(e.mutations,function(i){var o=new Ku(i.key,e.batchId);return r=r.delete(o),n.Io.Oo(t,i.key)}).next(function(){n._u=r})},t.prototype.Fo=function(t){},t.prototype.Mo=function(t,e){var n=new Ku(e,0),r=this._u.We(n);return Na.resolve(e.isEqual(r&&r.key))},t.prototype.ko=function(t){return this.Ra.length,Na.resolve()},t.prototype.Eu=function(t,e){return this.du(t)},t.prototype.du=function(t){return 0===this.Ra.length?0:t-this.Ra[0].batchId},t.prototype.fu=function(t){var e=this.du(t);return e<0||e>=this.Ra.length?null:this.Ra[e]},t}(),Gu=function(){function t(t,e){this.To=t,this.Tu=e,this.docs=new ca(To.At),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Tu(e);return this.docs=this.docs.Ie(r,{Ir:e,size:a,readTime:n}),this.size+=a-o,this.To.fo(t,r.path.yt())},t.prototype.mr=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return Na.resolve(n?n.Ir:null)},t.prototype.getEntries=function(t,e){var n=this,r=Mt();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ie(t,e?e.Ir:null)}),Na.resolve(r)},t.prototype.Pc=function(t,e,n){for(var r=Ut(),i=new To(e.path.child("")),o=this.docs.Ve(i);o.Ce();){var a=o.De(),u=a.key,s=a.value,c=s.Ir,l=s.readTime;if(!e.path.vt(u.path))break;l.u(n)<=0||c instanceof xo&&dt(e,c)&&(r=r.Ie(c.key,c))}return Na.resolve(r)},t.prototype.Iu=function(t,e){return Na.forEach(this.docs,function(t){return e(t)})},t.prototype.lc=function(t){return new Qu(this)},t.prototype.dc=function(t){return Na.resolve(this.size)},t}(),Qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).gc=e,n}return Object(Yi.c)(e,t),e.prototype.yr=function(t){var e=this,n=[];return this._r.forEach(function(r,i){i&&i.Ir?n.push(e.gc.Er(t,i.Ir,e.wr(r))):e.gc.mr(r)}),Na.hs(n)},e.prototype.Rr=function(t,e){return this.gc.Ar(t,e)},e.prototype.Pr=function(t,e){return this.gc.getEntries(t,e)},e}(tu),Yu=function(){function t(t){this.persistence=t,this.mu=new Za(function(t){return H(t)},G),this.lastRemoteSnapshotVersion=Eo.min(),this.highestTargetId=0,this.Au=0,this.Ru=new Wu,this.targetCount=0,this.Pu=Du.Bo()}return t.prototype.Un=function(t,e){return this.mu.forEach(function(t,n){return e(n)}),Na.resolve()},t.prototype.Wo=function(t){return Na.resolve(this.lastRemoteSnapshotVersion)},t.prototype.jo=function(t){return Na.resolve(this.Au)},t.prototype.Uo=function(t){return this.highestTargetId=this.Pu.next(),Na.resolve(this.highestTargetId)},t.prototype.Go=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Au&&(this.Au=e),Na.resolve()},t.prototype.Ho=function(t){this.mu.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Pu=new Du(e),this.highestTargetId=e),t.sequenceNumber>this.Au&&(this.Au=t.sequenceNumber)},t.prototype.zo=function(t,e){return this.Ho(e),this.targetCount+=1,Na.resolve()},t.prototype.Yo=function(t,e){return this.Ho(e),Na.resolve()},t.prototype.Xo=function(t,e){return this.mu.delete(e.target),this.Ru.cu(e.targetId),this.targetCount-=1,Na.resolve()},t.prototype.Br=function(t,e,n){var r=this,i=0,o=[];return this.mu.forEach(function(a,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.mu.delete(a),o.push(r.Zo(t,u.targetId)),i++)}),Na.hs(o).next(function(){return i})},t.prototype.tc=function(t){return Na.resolve(this.targetCount)},t.prototype.ec=function(t,e){var n=this.mu.get(e)||null;return Na.resolve(n)},t.prototype.nc=function(t,e,n){return this.Ru.iu(e,n),Na.resolve()},t.prototype.ic=function(t,e,n){this.Ru.ou(e,n);var r=this.persistence.Io,i=[];return r&&e.forEach(function(e){i.push(r.Oo(t,e))}),Na.hs(i)},t.prototype.Zo=function(t,e){return this.Ru.cu(e),Na.resolve()},t.prototype.oc=function(t,e){var n=this.Ru.uu(e);return Na.resolve(n)},t.prototype.Mo=function(t,e){return Na.resolve(this.Ru.Mo(e))},t}(),$u=function(){function t(t,e){var n=this;this.yu={},this.Fc=new Ya(0),this.Oc=!1,this.Oc=!0,this.Io=t(this),this.Qc=new Yu(this),this.To=new Tu,this.Kc=function(t,e){return new Gu(t,function(t){return n.Io.gu(t)})}(this.To),this.fe=new Su(e),this.Wc=new qu(this.fe)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$=function(){return this.Oc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Xc=function(){},t.prototype.Zc=function(){},t.prototype.Ia=function(){return this.To},t.prototype.Ta=function(t){var e=this.yu[t.I()];return e||(e=new Hu(this.To,this.Io),this.yu[t.I()]=e),e},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;i("MemoryPersistence","Starting transaction:",t);var o=new Ju(this.Fc.next());return this.Io.Vu(),n(o).next(function(t){return r.Io.pu(o).next(function(){return t})}).cs().then(function(t){return o.ki(),t})},t.prototype.bu=function(t,e){return Na.ls(Object.values(this.yu).map(function(n){return function(){return n.Mo(t,e)}}))},t}(),Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).oo=e,n}return Object(Yi.c)(e,t),e}(Ha),Xu=function(){function t(t){this.persistence=t,this.vu=new Wu,this.Su=null}return t.Du=function(e){return new t(e)},Object.defineProperty(t.prototype,"Cu",{get:function(){if(this.Su)return this.Su;throw s()},enumerable:!1,configurable:!0}),t.prototype.sc=function(t,e,n){return this.vu.sc(n,e),this.Cu.delete(n.toString()),Na.resolve()},t.prototype.rc=function(t,e,n){return this.vu.rc(n,e),this.Cu.add(n.toString()),Na.resolve()},t.prototype.Oo=function(t,e){return this.Cu.add(e.toString()),Na.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.vu.cu(e.targetId).forEach(function(t){return n.Cu.add(t.toString())});var r=this.persistence.ac();return r.oc(t,e.targetId).next(function(t){t.forEach(function(t){return n.Cu.add(t.toString())})}).next(function(){return r.Xo(t,e)})},t.prototype.Vu=function(){this.Su=new Set},t.prototype.pu=function(t){var e=this,n=this.persistence._c().lc();return Na.forEach(this.Cu,function(r){var i=To.Lt(r);return e.xu(t,i).next(function(t){t||n.mr(i)})}).next(function(){return e.Su=null,n.apply(t)})},t.prototype.fc=function(t,e){var n=this;return this.xu(t,e).next(function(t){t?n.Cu.delete(e.toString()):n.Cu.add(e.toString())})},t.prototype.gu=function(t){return 0},t.prototype.xu=function(t,e){var n=this;return Na.ls([function(){return Na.resolve(n.vu.Mo(e))},function(){return n.persistence.ac().Mo(t,e)},function(){return n.persistence.bu(t,e)}])},t}(),Zu=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Nu=function(e,n,r){var i=JSON.parse(r),a="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),u=void 0;return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(u=new to(i.error.code,i.error.message)),a?new t(e,n,i.state,u):(o("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ts=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Nu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new to(r.error.code,r.error.message)),i?new t(e,r.state,a):(o("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),es=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Nu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bt(),u=0;i&&u<r.activeTargetIds.length;++u)i=b(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new t(e,a):(o("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ns=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Nu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(o("SharedClientState","Failed to parse online state: "+e),null)},t}(),rs=function(){function t(){this.activeTargetIds=Bt()}return t.prototype.Ou=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ku=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fu=function(){var t={activeTargetIds:this.activeTargetIds.Dt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),is=function(){function t(t,e,n,r,i){this.window=t,this.js=e,this.persistenceKey=n,this.Mu=r,this.Lu=null,this.$u=null,this.Hi=null,this.Bu=this.qu.bind(this),this.Uu=new ca(h),this.Nr=!1,this.Qu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ku=Nn(this.persistenceKey,this.Mu),this.Wu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Uu=this.Uu.Ie(this.Mu,new rs),this.ju=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Gu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.zu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Hu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ju=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Bu)}return t.G=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,s,c,l,f=this;return Object(Yi.d)(this,function(h){switch(h.label){case 0:return[4,this.Lu.Ea()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mu&&(i=this.getItem(Nn(this.persistenceKey,r)))&&(o=es.Nu(r,i))&&(this.Uu=this.Uu.Ie(o.clientId,o));for(this.Yu(),(a=this.storage.getItem(this.Hu))&&(u=this.Xu(a))&&this.Zu(u),s=0,c=this.Qu;s<c.length;s++)l=c[s],this.qu(l);return this.Qu=[],this.window.addEventListener("unload",function(){return f.$()}),this.Nr=!0,[2]}})})},t.prototype.Xi=function(t){this.setItem(this.Wu,JSON.stringify(t))},t.prototype.th=function(){return this.eh(this.Uu)},t.prototype.nh=function(t){var e=!1;return this.Uu.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.sh=function(t){this.ih(t,"pending")},t.prototype.rh=function(t,e,n){this.ih(t,e,n),this.oh(t)},t.prototype.ah=function(t){var e="not-current";if(this.nh(t)){var n=this.storage.getItem(Ln(this.persistenceKey,t));if(n){var r=ts.Nu(t,n);r&&(e=r.state)}}return this.uh.Ou(t),this.Yu(),e},t.prototype.hh=function(t){this.uh.ku(t),this.Yu()},t.prototype.lh=function(t){return this.uh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(Ln(this.persistenceKey,t))},t.prototype.fh=function(t,e,n){this.dh(t,e,n)},t.prototype.wh=function(t,e,n){var r=this;e.forEach(function(t){r.oh(t)}),this.currentUser=t,n.forEach(function(t){r.sh(t)})},t.prototype.Eh=function(t){this.Th(t)},t.prototype.Ih=function(){this.mh()},t.prototype.$=function(){this.Nr&&(this.window.removeEventListener("storage",this.Bu),this.removeItem(this.Ku),this.Nr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return i("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){i("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){i("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.qu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ku)return void o("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.ea(function(){return Object(Yi.b)(e,void 0,void 0,function(){var t,e,r,i,a,u;return Object(Yi.d)(this,function(s){if(this.Nr){if(null!==n.key)if(this.ju.test(n.key)){if(null==n.newValue)return t=this.Ah(n.key),[2,this.Rh(t,null)];if(e=this.Ph(n.key,n.newValue))return[2,this.Rh(e.clientId,e)]}else if(this.Gu.test(n.key)){if(null!==n.newValue&&(r=this.yh(n.key,n.newValue)))return[2,this.gh(r)]}else if(this.zu.test(n.key)){if(null!==n.newValue&&(i=this.Vh(n.key,n.newValue)))return[2,this.ph(i)]}else if(n.key===this.Hu){if(null!==n.newValue&&(a=this.Xu(n.newValue)))return[2,this.Zu(a)]}else if(n.key===this.Wu)(u=function(t){var e=Ya.Zi;if(null!=t)try{var n=JSON.parse(t);c("number"==typeof n),e=n}catch(t){o("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ya.Zi&&this.Hi(u);else if(n.key===this.Ju)return[2,this.Lu.bh()]}else this.Qu.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"uh",{get:function(){return this.Uu.get(this.Mu)},enumerable:!1,configurable:!0}),t.prototype.Yu=function(){this.setItem(this.Ku,this.uh.Fu())},t.prototype.ih=function(t,e,n){var r=new Zu(this.currentUser,t,e,n),i=xn(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fu())},t.prototype.oh=function(t){var e=xn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Th=function(t){var e={clientId:this.Mu,onlineState:t};this.storage.setItem(this.Hu,JSON.stringify(e))},t.prototype.dh=function(t,e,n){var r=Ln(this.persistenceKey,t),i=new ts(t,e,n);this.setItem(r,i.Fu())},t.prototype.mh=function(){this.setItem(this.Ju,"value-not-used")},t.prototype.Ah=function(t){var e=this.ju.exec(t);return e?e[1]:null},t.prototype.Ph=function(t,e){var n=this.Ah(t);return es.Nu(n,e)},t.prototype.yh=function(t,e){var n=this.Gu.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zu.Nu(new io(i),r,e)},t.prototype.Vh=function(t,e){var n=this.zu.exec(t),r=Number(n[1]);return ts.Nu(r,e)},t.prototype.Xu=function(t){return ns.Nu(t)},t.prototype.gh=function(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.Lu.Sh(t.batchId,t.state,t.error)]:(i("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.ph=function(t){return this.Lu.Dh(t.targetId,t.state,t.error)},t.prototype.Rh=function(t,e){var n=this,r=e?this.Uu.Ie(t,e):this.Uu.remove(t),i=this.eh(this.Uu),o=this.eh(r),a=[],u=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.Lu.Ch(a,u).then(function(){n.Uu=r})},t.prototype.Zu=function(t){this.Uu.get(t.clientId)&&this.$u(t.onlineState)},t.prototype.eh=function(t){var e=Bt();return t.forEach(function(t,n){e=e.je(n.activeTargetIds)}),e},t}(),os=function(){function t(){this.xh=new rs,this.Nh={},this.$u=null,this.Hi=null}return t.prototype.sh=function(t){},t.prototype.rh=function(t,e,n){},t.prototype.ah=function(t){return this.xh.Ou(t),this.Nh[t]||"not-current"},t.prototype.fh=function(t,e,n){this.Nh[t]=e},t.prototype.hh=function(t){this.xh.ku(t)},t.prototype.lh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.Nh[t]},t.prototype.th=function(){return this.xh.activeTargetIds},t.prototype.nh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype.start=function(){return this.xh=new rs,Promise.resolve()},t.prototype.wh=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.$=function(){},t.prototype.Xi=function(t){},t.prototype.Ih=function(){},t}(),as=function(){function t(t,e){this.ks=t,this.$u=e,this.state="Unknown",this.Fh=0,this.Oh=null,this.kh=!0}return t.prototype.Mh=function(){var t=this;0===this.Fh&&(this.Lh("Unknown"),this.Oh=this.ks.ni("online_state_timeout",1e4,function(){return t.Oh=null,t.$h("Backend didn't respond within 10 seconds."),t.Lh("Offline"),Promise.resolve()}))},t.prototype.Bh=function(t){"Online"===this.state?this.Lh("Unknown"):++this.Fh>=1&&(this.qh(),this.$h("Connection failed 1 times. Most recent error: "+t.toString()),this.Lh("Offline"))},t.prototype.set=function(t){this.qh(),this.Fh=0,"Online"===t&&(this.kh=!1),this.Lh(t)},t.prototype.Lh=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.$h=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.kh?(o(e),this.kh=!1):i("OnlineStateTracker",e)},t.prototype.qh=function(){null!==this.Oh&&(this.Oh.cancel(),this.Oh=null)},t}(),us=function(t,e,n,r,o){var a=this;this.Uh=t,this.Qh=e,this.ks=n,this.Kh={},this.Wh=[],this.jh=new Map,this.Gh=new Set,this.zh=[],this.Hh=o,this.Hh.L(function(t){n.Ws(function(){return Object(Yi.b)(a,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return Kn(this)?(i("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return(e=l(t)).Gh.add(4),[4,Un(e)];case 1:return n.sent(),e.Jh.set("Unknown"),e.Gh.delete(4),[4,Mn(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Jh=new as(n,r)},ss=function(){this.il=void 0,this.listeners=[]},cs=function(){this.queries=new Za(function(t){return ft(t)},lt),this.onlineState="Unknown",this.rl=new Set},ls=function(){function t(t,e,n){this.query=t,this.hl=e,this.ll=!1,this._l=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.al=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wa(t.query,t.docs,t.Ze,e,t.tn,t.fromCache,t.en,!0)}var o=!1;return this.ll?this.fl(t)&&(this.hl.next(t),o=!0):this.dl(t,this.onlineState)&&(this.wl(t),o=!0),this._l=t,o},t.prototype.onError=function(t){this.hl.error(t)},t.prototype.cl=function(t){this.onlineState=t;var e=!1;return this._l&&!this.ll&&this.dl(this._l,t)&&(this.wl(this._l),e=!0),e},t.prototype.dl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.El&&n||t.docs.bt()&&"Offline"!==e)},t.prototype.fl=function(t){if(t.docChanges.length>0)return!0;var e=this._l&&this._l.hasPendingWrites!==t.hasPendingWrites;return!(!t.en&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.wl=function(t){t=wa.sn(t.query,t.docs,t.tn,t.fromCache),this.ll=!0,this.hl.next(t)},t}(),fs=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.Tl=function(){return"metadata"in this.payload},t}(),hs=function(){function t(t){this.fe=t}return t.prototype.Ha=function(t){return Jt(this.fe,t)},t.prototype.Ja=function(t){return t.metadata.exists?re(this.fe,t.document,!1):new Lo(this.Ha(t.metadata.name),this.Ya(t.metadata.readTime))},t.prototype.Ya=function(t){return Gt(t)},t}(),ds=(function(){function t(t,e,n){this.Il=t,this.Uh=e,this.fe=n,this.queries=[],this.documents=[],this.progress=dr(t)}t.prototype.ml=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.Al=function(t){for(var e=new Map,n=new hs(this.fe),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Ha(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(e.get(c)||Ft()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return[4,Cn(this.Uh,new hs(this.fe),this.documents,this.Il.id)];case 1:t=o.sent(),e=this.Al(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Dn(this.Uh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $a(Object.assign({},this.progress),t))]}})})}}(),function(t){this.key=t}),ps=function(t){this.key=t},ys=function(){function t(t,e){this.query=t,this.Rl=e,this.Pl=null,this.ln=!1,this.yl=Ft(),this.tn=Ft(),this.gl=pt(t),this.Vl=new ba(this.gl)}return Object.defineProperty(t.prototype,"pl",{get:function(){return this.Rl},enumerable:!1,configurable:!0}),t.prototype.bl=function(t,e){var n=this,r=e?e.vl:new _a,i=e?e.Vl:this.Vl,o=e?e.tn:this.tn,a=i,u=!1,s=nt(this.query)&&i.size===this.query.limit?i.last():null,c=rt(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pe(function(t,e){var l=i.get(t),f=e instanceof xo?e:null;f&&(f=dt(n.query,f)?f:null);var h=!!l&&n.tn.has(l.key),d=!!f&&(f.Jt||n.tn.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Sl(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.gl(f,s)>0||c&&n.gl(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),nt(this.query)||rt(this.query))for(;a.size>this.query.limit;){var l=nt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vl:a,vl:r,La:u,tn:o}},t.prototype.Sl=function(t,e){return t.Jt&&e.hasCommittedMutations&&!e.Jt},t.prototype.yr=function(t,e,n){var r=this,i=this.Vl;this.Vl=t.Vl,this.tn=t.tn;var o=t.vl.Xe();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return s()}};return n(t)-n(e)}(t.type,e.type)||r.gl(t.doc,e.doc)}),this.Dl(n);var a=e?this.Cl():[],u=0===this.yl.size&&this.ln?1:0,c=u!==this.Pl;return this.Pl=u,0!==o.length||c?{snapshot:new wa(this.query,t.Vl,i,o,t.tn,0===u,c,!1),xl:a}:{xl:a}},t.prototype.cl=function(t){return this.ln&&"Offline"===t?(this.ln=!1,this.yr({Vl:this.Vl,vl:new _a,tn:this.tn,La:!1},!1)):{xl:[]}},t.prototype.Nl=function(t){return!this.Rl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).Jt},t.prototype.Dl=function(t){var e=this;t&&(t._n.forEach(function(t){return e.Rl=e.Rl.add(t)}),t.fn.forEach(function(t){}),t.dn.forEach(function(t){return e.Rl=e.Rl.delete(t)}),this.ln=t.ln)},t.prototype.Cl=function(){var t=this;if(!this.ln)return[];var e=this.yl;this.yl=Ft(),this.Vl.forEach(function(e){t.Nl(e.key)&&(t.yl=t.yl.add(e.key))});var n=[];return e.forEach(function(e){t.yl.has(e)||n.push(new ps(e))}),this.yl.forEach(function(t){e.has(t)||n.push(new ds(t))}),n},t.prototype.Fl=function(t){this.Rl=t.za,this.yl=Ft();var e=this.bl(t.documents);return this.yr(e,!0)},t.prototype.Ol=function(){return wa.sn(this.query,this.Vl,this.tn,0===this.Pl)},t}(),vs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ms=function(t){this.key=t,this.kl=!1},gs=function(){function t(t,e,n,r,i,o){this.Uh=t,this.Ml=e,this.Ll=n,this.$l=r,this.currentUser=i,this.Bl=o,this.ql={},this.Ul=new Za(function(t){return ft(t)},lt),this.Ql=new Map,this.Kl=[],this.Wl=new ca(To.At),this.jl=new Map,this.Gl=new Wu,this.zl={},this.Hl=new Map,this.Jl=Du.qo(),this.onlineState="Unknown",this.Yl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Yl},enumerable:!1,configurable:!0}),t}(),bs=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return this.fe=_e(t.rt.O),this.$l=this.r_(t),this.persistence=this.o_(t),[4,this.persistence.start()];case 1:return e.sent(),this.c_=this.a_(t),this.Uh=this.u_(t),[2]}})})},t.prototype.a_=function(t){return null},t.prototype.u_=function(t){return mn(this.persistence,new Bu,t.h_,this.fe)},t.prototype.o_=function(t){return new $u(Xu.Du,this.fe)},t.prototype.r_=function(t){return new os},t.prototype.terminate=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return this.c_&&this.c_.stop(),[4,this.$l.$()];case 1:return t.sent(),[4,this.persistence.$()];case 2:return t.sent(),[2]}})})},t}(),_s=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).l_=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Yi.c)(e,t),e.prototype.initialize=function(e){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Pn(this.Uh)];case 2:return n.sent(),[4,this.l_.initialize(this,e)];case 3:return n.sent(),[4,Wr(this.l_.Lu)];case 4:return n.sent(),[4,Xn(this.l_.Ml)];case 5:return n.sent(),[2]}})})},e.prototype.u_=function(t){return mn(this.persistence,new Bu,t.h_,this.fe)},e.prototype.a_=function(t){var e=this.persistence.Io.vr;return new nu(e,t.ks)},e.prototype.o_=function(t){var e=vn(t.rt.O,t.rt.persistenceKey),n=void 0!==this.cacheSizeBytes?Qa.Ki(this.cacheSizeBytes):Qa.Gi;return new Uu(this.synchronizeTabs,e,t.clientId,n,t.ks,Rn(),jn(),this.fe,this.$l,!!this.forceOwnership)},e.prototype.r_=function(t){return new os},e}(bs),ws=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).l_=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Yi.c)(e,t),e.prototype.initialize=function(e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.l_.Lu,this.$l instanceof is?(this.$l.Lu={Sh:jr.bind(null,n),Dh:Br.bind(null,n),Ch:zr.bind(null,n),Ea:Fr.bind(null,n),bh:Rr.bind(null,n)},[4,this.$l.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Yc(function(t){return Object(Yi.b)(r,void 0,void 0,function(){return Object(Yi.d)(this,function(e){switch(e.label){case 0:return[4,Mr(this.l_.Lu,t)];case 1:return e.sent(),this.c_&&(t&&!this.c_.Nr?this.c_.start(this.Uh):t||this.c_.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.r_=function(t){var e=Rn();if(!is.G(e))throw new to(Zi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vn(t.rt.O,t.rt.persistenceKey);return new is(e,t.ks,n,t.clientId,t.h_)},e}(_s),Es=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n=this;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return this.Uh?[3,2]:(this.Uh=t.Uh,this.$l=t.$l,this.Qh=this.__(e),this.Ml=this.f_(e),this.Ll=this.d_(e),this.Lu=this.w_(e,!t.synchronizeTabs),this.$l.$u=function(t){return br(n.Lu,t,1)},this.Ml.Kh.E_=Nr.bind(null,this.Lu),[4,or(this.Ml,this.Lu.Xl)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.d_=function(t){return new cs},t.prototype.__=function(t){var e,n=_e(t.rt.O),r=(e=t.rt,new _o(e));return function(t,e,n){return new Wa(t,e,n)}(t.credentials,r,n)},t.prototype.f_=function(t){var e,n,r,i,o,a=this;return e=this.Uh,n=this.Qh,r=t.ks,i=function(t){return br(a.Lu,t,0)},o=vo.G()?new vo:new yo,new us(e,n,r,i,o)},t.prototype.w_=function(t,e){return function(t,e,n,r,i,o,a){var u=new gs(t,e,n,r,i,o);return a&&(u.Yl=!0),u}(this.Uh,this.Ml,this.Ll,this.$l,t.h_,t.Bl,e)},t.prototype.terminate=function(){return function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e=l(t),i("RemoteStore","RemoteStore shutting down."),e.Gh.add(5),[4,Un(e)];case 1:return n.sent(),e.Hh.$(),e.Jh.set("Unknown"),[2]}})})}(this.Ml)},t}(),Os=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.T_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.T_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.I_=function(){this.muted=!0},t.prototype.T_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Is=(function(){function t(t,e){var n=this;this.m_=t,this.fe=e,this.metadata=new bo,this.buffer=new Uint8Array,this.A_=new TextDecoder("utf-8"),this.R_().then(function(t){t&&t.Tl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.m_.cancel()},t.prototype.getMetadata=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.s_=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.R_())]}})})},t.prototype.R_=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return[4,this.P_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.A_.decode(t),n=Number(e),isNaN(n)&&this.y_("length string ("+e+") is not valid number"),[4,this.g_(n)]);case 2:return r=i.sent(),[2,new fs(JSON.parse(r),t.length+n)]}})})},t.prototype.V_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.P_=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return this.V_()<0?[4,this.p_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.V_())<0&&this.y_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.g_=function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.p_()]:[3,3];case 1:n.sent()&&this.y_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.A_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.y_=function(t){throw this.m_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.p_=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return[4,this.m_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new to(Zi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.b_=new ko(t)}return t.prototype.isEqual=function(t){return this.b_.isEqual(t.b_)},t}()),Ss=function(t){this._methodName=t},ks=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new As(this.firestore,this.v_,this.S_.path.yt())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ts=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),As=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,et(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.yt();return t.bt()?null:new ks(this.firestore,null,new To(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ts),Ps=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new to(Zi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new to(Zi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.dt=function(t){return h(this.x_,t.x_)||h(this.N_,t.N_)},t}(),Cs=/^__.*__$/,Ds=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Te?new oa(t,this.data,this.Te,e,this.fieldTransforms):new ia(t,this.data,e,this.fieldTransforms)},t}(),Ns=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new oa(t,this.data,this.Te,e,this.fieldTransforms)},t}(),xs=function(){function t(t,e,n,r,i,o){this.settings=t,this.O=e,this.fe=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Te=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.O,this.fe,this.ignoreUndefinedProperties,this.fieldTransforms,this.Te)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return si(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Te.find(function(e){return t.vt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.vt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Yr(this.k_)&&Cs.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ls=function(){function t(t,e,n){this.O=t,this.ignoreUndefinedProperties=e,this.fe=n||_e(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new xs({k_:t,methodName:e,j_:n,path:ko.Nt(),B_:!1,W_:r},this.O,this.fe,this.ignoreUndefinedProperties)},t}(),Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Te.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ss),js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.z_=function(t){return new ta(t.path,new $o)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ss),Ms=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yi.c)(e,t),e.prototype.z_=function(t){var e=Xr(this,t,!0),n=this.H_.map(function(t){return ni(t,e)}),r=new Jo(n);return new ta(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ss),Us=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yi.c)(e,t),e.prototype.z_=function(t){var e=Xr(this,t,!0),n=this.H_.map(function(t){return ni(t,e)}),r=new Xo(n);return new ta(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ss),Vs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Yi.c)(e,t),e.prototype.z_=function(t){var e=new Zo(t.fe,gt(t.fe,this.J_));return new ta(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ss),Fs=new RegExp("[~\\*/\\[\\]]"),Bs=function(){function t(t){this.Qh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yi.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new to(Zi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(Yi.d)(this,function(f){switch(f.label){case 0:return n=l(t),r=te(n.fe)+"/documents",i={documents:e.map(function(t){return $t(n.fe,t)})},[4,n._t("BatchGetDocuments",r,i)];case 1:return o=f.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){c(!!e.found),e.found.name,e.found.updateTime;var n=Jt(t,e.found.name),r=Gt(e.found.updateTime),i=new Co({mapValue:{fields:e.found.fields}});return new xo(n,r,i,{})}(t,e):"missing"in e?function(t,e){c(!!e.missing),c(!!e.readTime);var n=Jt(t,e.missing),r=Gt(e.readTime);return new Lo(n,r)}(t,e):s()}(n.fe,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());c(!!e),u.push(e)}),u)]}})})}(this.Qh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Lo||t instanceof xo?n.sf(t):s()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new aa(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yi.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=To.Lt(n);e.mutations.push(new ua(r,e.Ee(r)))}),[4,function(t,e){return Object(Yi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return n=l(t),r=te(n.fe)+"/documents",i={writes:e.map(function(t){return ie(n.fe,t)})},[4,n.at("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Qh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof xo)e=t.version;else{if(!(t instanceof Lo))throw s();e=Eo.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new to(Zi.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Ee=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?na.updateTime(e):na.de()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Eo.min()))throw new to(Zi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return na.updateTime(e)}return na.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),zs=function(){function t(t,e,n,r){this.ks=t,this.Qh=e,this.updateFunction=n,this.Bs=r,this.cf=5,this.ui=new Fa(this.ks,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.ui.ti(function(){return Object(Yi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Yi.d)(this,function(r){return t=new Bs(this.Qh),(e=this.uf(t))&&e.then(function(e){n.ks.Ws(function(){return t.commit().then(function(){n.Bs.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!m(e)&&e.catch&&e.then?e:(this.Bs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Bs.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.ks.Ws(function(){return e.af(),Promise.resolve()})):this.Bs.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_(e)}return!1},t}(),qs=function(){function t(t,e,n){var r=this;this.credentials=t,this.ks=e,this.rt=n,this.user=io.UNAUTHENTICATED,this.clientId=Ji.t(),this._f=function(){},this.S=new bo,this.credentials.V(function(t){i("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r._f(t)),r.S.resolve()})}return t.prototype.getConfiguration=function(){return Object(Yi.b)(this,void 0,void 0,function(){return Object(Yi.d)(this,function(t){switch(t.label){case 0:return[4,this.S.promise];case 1:return[2,(t.sent(),{ks:this.ks,rt:this.rt,clientId:this.clientId,credentials:this.credentials,h_:this.user,Bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.S.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.ks.wf)throw new to(Zi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.ks.Ef();var e=new bo;return this.ks.Tf(function(){return Object(Yi.b)(t,void 0,void 0,function(){var t,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.p(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ie(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}(),Ws=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.ui=new Fa(this,"async_queue_retry"),this.vf=function(){var e=jn();e&&i("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ui.si()};var e=jn();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ws=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=jn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.ea=function(t){var e=this;this.Ws(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yi.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.ui.reset(),[3,4];case 3:if(!we(t=n.sent()))throw t;return i("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.ui.ti(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,o("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.ni=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Va.qs(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&s()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Yi.b)(this,void 0,void 0,function(){var t;return Object(Yi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].Ms===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.Ls-e.Ls});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ms===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ks=-1,Hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Ws,r.Wr="name"in e?e.name:"[DEFAULT]",r}return Object(Yi.c)(e,t),e.prototype.io=function(){return this.Lf||Ei(this),this.Lf.terminate()},e}(au),Gs=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),D(t)){case 0:return null;case 1:return t.booleanValue;case 2:return k(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(T(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw s()}},t.prototype.jf=function(t,e){var n=this,r={};return O(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Ps(k(t.latitude),k(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=P(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(C(t));default:return null}},t.prototype.Bf=function(t){var e=S(t);return new wo(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Io.xt(t);c(be(n));var r=new po(n.get(1),n.get(3)),i=new To(n.Pt(5));return r.isEqual(e)||o("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Qs=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ks(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Ys(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.Yt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Si("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Qs),$s=function(){},Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Yi.c)(e,t),e.prototype.Yf=function(t){var e=$r(t.firestore),n=function(t,e,n,r,i,o,a){var u;if(i.Ot()){if("array-contains"===o||"array-contains-any"===o)throw new to(Zi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ci(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(Pi(r,t,f))}u={arrayValue:{values:s}}}else u=Pi(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ci(a,o),u=ei(n,"where",a,"in"===o||"not-in"===o);var h=Mo.create(i,o,u);return function(t,e){if(e.ee()){var n=ot(t);if(null!==n&&!n.isEqual(e.field))throw new to(Zi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=it(t);null!==r&&Di(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new to(Zi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new to(Zi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.zr,this.Xf,this.Zf,this.td);return new Ts(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Go(t.path,t.collectionGroup,t.ne.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}($s),Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Yi.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new to(Zi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new to(Zi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ho(e,n);return function(t,e){if(null===it(t)){var n=ot(t);null!==n&&Di(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ts(t.firestore,t.v_,function(t,e){var n=t.ne.concat([e]);return new Go(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}($s),Zs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Yi.c)(e,t),e.prototype.Yf=function(t){return new Ts(t.firestore,t.v_,ct(t.C_,this.nd,this.sd))},e}($s),tc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yi.c)(e,t),e.prototype.Yf=function(t){var e=Ai(t,this.type,this.rd,this.od);return new Ts(t.firestore,t.v_,function(t,e){return new Go(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}($s),ec=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yi.c)(e,t),e.prototype.Yf=function(t){var e=Ai(t,this.type,this.rd,this.od);return new Ts(t.firestore,t.v_,function(t,e){return new Go(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}($s),nc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yi.c)(e,t),e.prototype.Uf=function(t){return new eo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new ks(this.firestore,null,e)},e}(Gs),rc=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ic=function(t){function e(e,n,r,i,o,a){var u=this;return(u=t.call(this,e,n,r,i,a)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(Yi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new oc(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.Yt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Si("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Qs),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ic),ac=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new rc(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new oc(n.zf,n.Hf,r.key,r,new rc(n.ud.tn.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.nn)throw new to(Zi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.Ze.bt()){var n=0;return t.ud.docChanges.map(function(e){var r=new oc(t.zf,t.Hf,e.doc.key,e.doc,new rc(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t.ud.Ze;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new oc(t.zf,t.Hf,e.doc.key,e.doc,new rc(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Li(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}(),uc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yi.c)(e,t),e.prototype.Uf=function(t){return new eo(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new ks(this.firestore,null,e)},e}(Gs),sc=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=$r(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Fi(t,this.zf),i=Ni(r.v_,e,n),o=Jr(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,na.de())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=Fi(t,this.zf);return e instanceof no&&(e=e._),o="string"==typeof e||e instanceof Is?ti(this.wd,"WriteBatch.update",a.S_,e,n,r):Zr(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.F_(a.S_,na.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Fi(t,this.zf);return this.fd=this.fd.concat(new aa(e.S_,na.de())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new to(Zi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),cc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Yi.c)(e,t),e.prototype.get=function(e){var n=this,r=Fi(e,this.zf),i=new uc(this.zf);return t.prototype.get.call(this,e).then(function(t){return new ic(n.zf,i,r.S_,t.Jf,new rc(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=$r(t)}return t.prototype.get=function(t){var e=this,n=Fi(t,this.zf),r=new nc(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return s();var i=t[0];if(i instanceof Lo)return new Qs(e.zf,r,n.S_,null,n.v_);if(i instanceof xo)return new Qs(e.zf,r,i.key,i,n.v_);throw s()})},t.prototype.set=function(t,e,n){var r=Fi(t,this.zf),i=Ni(r.v_,e,n),o=Jr(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Fi(t,this.zf);return e instanceof no&&(e=e._),o="string"==typeof e||e instanceof Is?ti(this.wd,"Transaction.update",a.S_,e,n,r):Zr(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=Fi(t,this.zf);return this.Td.delete(e.S_),this},t}()),lc=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ii(t=xe(t,Hs));var n=wi(t),r=t.so(),i=new Es;return Oi(n,i,new _s(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ii(t=xe(t,Hs));var e=wi(t),n=t.so(),r=new Es;return Oi(e,r,new ws(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.Yr&&!t.Xr)throw new to(Zi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bo;return t.Mf.Tf(function(){return Object(Yi.b)(e,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return La.G()?(e=t+"main",[4,La.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(vn(t.zr,t.Wr))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),fc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof po||(i.md=e),i}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"zr",{get:function(){return this._.zr},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.no()),t)).merge,this._.eo(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.no().host&&a("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(Yi.b)(e,void 0,void 0,function(){var e,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return[4,pi(t)];case 1:return e=r.sent(),[4,vi(t)];case 2:return n=r.sent(),[2,(e.Zc(!0),function(t){var e=l(t);return e.Gh.delete(0),Mn(e)}(n))]}})})})}(wi(xe(this._,Hs)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.ks.enqueue(function(){return Object(Yi.b)(e,void 0,void 0,function(){var e,n;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return[4,pi(t)];case 1:return e=r.sent(),[4,vi(t)];case 2:return n=r.sent(),[2,(e.Zc(!1),function(t){return Object(Yi.b)(this,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return(e=l(t)).Gh.add(0),[4,Un(e)];case 1:return n.sent(),e.Jh.set("Offline"),[2]}})})}(n))]}})})})}(wi(xe(this._,Hs)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Pe("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bo;return t.ks.Ws(function(){return Object(Yi.b)(e,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(r){switch(r.label){case 0:return e=Or,[4,mi(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(wi(xe(this._,Hs)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Os(e);return t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){l(t).rl.add(e),e.next()},[4,gi(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.I_(),t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var e;return Object(Yi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){l(t).rl.delete(e)},[4,gi(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(wi(t=xe(t,Hs)),xi(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new to(Zi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wc(this,Kr(this._,t))}catch(t){throw zi(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new yc(this,Hr(this._,t))}catch(t){throw zi(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gc(this,function(t,e){if(t=xe(t,au),Te("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new to(Zi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ts(t,null,function(t){return new Go(Io.Nt(),t)}(e))}(this._,t))}catch(t){throw zi(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new bo;return t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var n;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return di(t).then(function(t){return t.Qh})}(t)];case 1:return n=i.sent(),new zs(t.ks,n,e,r).run(),[2]}})})}),r.promise}(wi(t),function(n){return e(new cc(t,n))})}(this._,function(n){return t(new dc(e,n))})},e.prototype.batch=function(){var t=this;return wi(this._),new pc(new sc(this._,function(e){return Ui(t._,e)}))},e.prototype.loadBundle=function(t){throw new to(Zi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new to(Zi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(no),hc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yi.c)(e,t),e.prototype.Uf=function(t){return new ro(new eo(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return yc.Ad(e,this.firestore,null)},e}(Gs),dc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yi.c)(e,t),e.prototype.get=function(t){var e=this,n=Ki(t);return this._.get(n).then(function(t){return new vc(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Ki(t);return n?(Ae("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ki(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(Yi.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Ki(t);return this._.delete(e),this},e}(no),pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.set=function(t,e,n){var r=Ki(t);return n?(Ae("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ki(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(Yi.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Ki(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(no),yc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hc(e),r}return Object(Yi.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new to(Zi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.Ct()+" has "+t.length);return new e(n,new ks(n._,r,new To(t)))},e.Ad=function(t,n,r){return new e(n,new ks(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wc(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wc(this.firestore,Kr(this._,t))}catch(t){throw zi(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof no&&(t=t._),t instanceof ks&&Gr(this._,t)},e.prototype.set=function(t,e){e=Ae("DocumentReference.set",e);try{return function(t,e,n){t=xe(t,ks);var r=xe(t.firestore,Hs),i=Ni(t.v_,e,n);return Ui(r,[Jr($r(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,na.de())])}(this._,t,e)}catch(t){throw zi(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ji(this._,t):ji.apply(void 0,Object(Yi.g)([this._,t,e],n))}catch(t){throw zi(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ui(xe((t=this._).firestore,Hs),[new aa(t.S_,na.de())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qi(e),i=Wi(e,function(e){return new vc(t.firestore,new ic(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Mi(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=xe(t,ks);var e=xe(t.firestore,Hs),n=wi(e),r=new uc(e);return function(t,e){var n=this,r=new bo;return t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var n;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i;return Object(Yi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=l(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ka.Pa(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof xo?n.resolve(i):i instanceof Lo?n.resolve(null):n.reject(new to(Zi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ie(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,yi(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new ic(e,r,t.S_,n,new rc(n instanceof xo&&n.Jt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=xe(t,ks);var e=xe(t.firestore,Hs);return bi(wi(e),t.S_,{source:"server"}).then(function(n){return Vi(e,t,n)})}(this._):function(t){t=xe(t,ks);var e=xe(t.firestore,Hs);return bi(wi(e),t.S_).then(function(n){return Vi(e,t,n)})}(this._)).then(function(t){return new vc(e.firestore,new ic(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(no),vc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new yc(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Ri(this._,t._)},e}(no),mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(vc),gc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hc(e),r}return Object(Yi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ti(this._,function(t,e,n){var r=e,i=Si("where",t);return new Js(i,r,n)}(t,n,r)))}catch(t){throw zi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ti(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Si("orderBy",t);return new Xs(r,n)}(t,n)))}catch(t){throw zi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ti(this._,function(t){return Le("limit",t),new Zs("limit",t,"F")}(t)))}catch(t){throw zi(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ti(this._,function(t){return Le("limitToLast",t),new Zs("limitToLast",t,"L")}(t)))}catch(t){throw zi(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tc("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw zi(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tc("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw zi(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ec("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw zi(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ec("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw zi(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Qr(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=xe(t,Ts);var e=xe(t.firestore,Hs),n=wi(e),r=new uc(e);return function(t,e){var n=this,r=new bo;return t.ks.Ws(function(){return Object(Yi.b)(n,void 0,void 0,function(){var n;return Object(Yi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yi.b)(this,void 0,void 0,function(){var r,i,o,a,u;return Object(Yi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,kn(t,e,!0)];case 1:return u=s.sent(),r=new ys(e,u.za),i=r.bl(u.documents),o=r.yr(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Ie(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,yi(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ac(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=xe(t,Ts);var e=xe(t.firestore,Hs),n=wi(e),r=new uc(e);return _i(n,t.C_,{source:"server"}).then(function(n){return new ac(e,r,t,n)})}(this._):function(t){t=xe(t,Ts);var e=xe(t.firestore,Hs),n=wi(e),r=new uc(e);return ki(t.C_),_i(n,t.C_).then(function(n){return new ac(e,r,t,n)})}(this._)).then(function(t){return new _c(e.firestore,new ac(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qi(e),i=Wi(e,function(e){return new _c(t.firestore,new ac(t.firestore._,t.Hf,t._,e.ud))});return Mi(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(no),bc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new mc(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(no),_c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new gc(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new mc(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new bc(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new mc(n.zf,r))})},e.prototype.isEqual=function(t){return Ri(this._,t._)},e}(no),wc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Yi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new yc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yc(this.firestore,void 0===t?Hr(this._):Hr(this._,t))}catch(t){throw zi(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=xe(t.firestore,Hs),r=Hr(t),i=Ni(t.v_,e);return Ui(n,[Jr($r(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,na.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new yc(e.firestore,t)})},e.prototype.isEqual=function(t){return Gr(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(gc),Ec=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Is.bind.apply(Is,Object(Yi.g)([void 0],e))))||this}return Object(Yi.c)(e,t),e.documentId=function(){return new e(ko.kt().Ct())},e.prototype.isEqual=function(t){return t instanceof no&&(t=t._),t instanceof Is&&this._.b_.isEqual(t.b_)},e}(no),Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yi.c)(e,t),e.serverTimestamp=function(){var t=new js("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Rs("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ms("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Us("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Vs("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(no);!function(){function t(){this.Pd={},this.yd=new bo,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.e_=function(t){this.n_(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.i_=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.n_=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}()}).call(e,n(39))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):v=-1,p.length&&u())}function u(){if(!y){var t=i(a);y=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,y=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],y=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||y||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}]);
//# sourceMappingURL=main.e9fedecf.js.map